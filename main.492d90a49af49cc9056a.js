(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService({instanceIdentifier:i});if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?o:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s)),s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mrSG"),s=n("qOnz"),o=n("q/0M"),a=n("/6Yf"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(s.F)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(s.z)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(s.h)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),u=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new l},h=u("localStorage"),d=u("sessionStorage"),f=new o.b("@firebase/database"),p=(e=1,function(){return e++}),m=function(t){var e=Object(s.E)(t),n=new s.c;n.update(e);var r=n.digest();return s.f.encodeByteArray(r)},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=g.apply(null,i):n+="object"==typeof i?Object(s.F)(i):i,n+=" "}return n},y=null,b=!0,_=function(t,e){Object(s.d)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(f.logLevel=o.a.VERBOSE,y=f.log.bind(f),e&&d.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,d.remove("logging_enabled"))},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===y&&!0===d.get("logging_enabled")&&_(!0)),y){var n=g.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];v.apply(void 0,Object(i.f)([t],Object(i.e)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(i.f)([],Object(i.e)(t)));f.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(i.f)([],Object(i.e)(t)));throw f.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(i.f)([],Object(i.e)(t)));f.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",T="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===x||e===T)return-1;if(e===x||t===T)return 1;var n=L(t),r=L(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},k=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(s.F)(e))},R=function(t){if("object"!=typeof t||null===t)return Object(s.F)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(s.F)(e[i]),r+=":",r+=R(t[e[i]]);return r+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,r,i,o;Object(s.d)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),l="";for(o=0;o<64;o+=8){var u=parseInt(c.substr(o,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},N=new RegExp("^-?(0*)\\d{1,10}$"),L=function(t){if(N.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},M=function(t){try{t()}catch(e){setTimeout((function(){throw S("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},F=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function V(){return new U("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function q(t){return t.pieces_.length-t.pieceNum_}function H(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new U(t.pieces_,e)}function z(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function G(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function K(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function W(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new U(e,0)}function Q(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof U)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new U(n,0)}function $(t){return t.pieceNum_>=t.pieces_.length}function Y(t,e){var n=B(t),r=B(e);if(null===n)return e;if(n===r)return Y(H(t),H(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function J(t,e){for(var n=K(t,0),r=K(e,0),i=0;i<n.length&&i<r.length;i++){var s=I(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function X(t,e){if(q(t)!==q(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Z(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(q(t)>q(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var tt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=K(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(s.D)(this.parts_[n]);et(this)}}();function et(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nt(t))}function nt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var rt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,it="websocket",st="long_polling",ot=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=!1),void 0===s&&(s=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function at(t,e,n){var r;if(Object(s.d)("string"==typeof e,"typeof type must == string"),Object(s.d)("object"==typeof n,"typeof params must == object"),e===it)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==st)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return P(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}var ct,lt,ut,ht,dt,ft,pt,mt=function(t,e){var n=gt(t),r=n.namespace;return"firebase.com"===n.domain&&O(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ot(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new U(n.pathString)}},gt=function(t){var e="",n="",r="",s="",o="",a=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var s=Object(i.g)(t.split("&")),o=s.next();!o.done;o=s.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):S("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=e.length;var p=e.slice(0,u);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:o}},yt=/[\[\].#$\/\u0000-\u001F\u007F]/,bt=/[\[\].#$\u0000-\u001F\u007F]/,_t=10485760,vt=function(t){return"string"==typeof t&&0!==t.length&&!yt.test(t)},wt=function(t){return"string"==typeof t&&0!==t.length&&!bt.test(t)},Ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(s.h)(t,".sv")},Ot=function(t,e,n,r,i){i&&void 0===n||St(Object(s.l)(t,e,i),n,r)},St=function(t,e,n){var r=n instanceof U?new tt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+nt(r));if("function"==typeof e)throw new Error(t+"contains a function "+nt(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+nt(r));if("string"==typeof e&&e.length>_t/3&&Object(s.D)(e)>_t)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+nt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(P(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!vt(e)))throw new Error(t+" contains an invalid key ("+e+") "+nt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;c=e,(a=r).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(c),a.byteLength_+=Object(s.D)(c),et(a),St(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(s.D)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)})),i&&o)throw new Error(t+' contains ".value" child '+nt(r)+" in addition to actual children.")}},Et=function(t,e,n,r,i){if(!i||void 0!==n){var o=Object(s.l)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];P(n,(function(t,e){var n=new U(t);if(St(o,e,Q(r,n)),".priority"===z(n)&&!Ct(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=K(r=e[n]),s=0;s<i.length;s++)if(".priority"===i[s]&&s===i.length-1);else if(!vt(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(J);var o=null;for(n=0;n<e.length;n++){if(r=e[n],null!==o&&Z(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,a)}},xt=function(t,e,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(s.l)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ct(n))throw new Error(Object(s.l)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Tt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(s.l)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},It=function(t,e,n,r){if(!(r&&void 0===n||vt(n)))throw new Error(Object(s.l)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kt=function(t,e,n,r){if(!(r&&void 0===n||wt(n)))throw new Error(Object(s.l)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},At=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kt(t,e,n,r)},Rt=function(t,e){if(".info"===B(e))throw new Error(t+" failed = Can't modify data under /.info/")},Dt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!vt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wt(t)}(r))throw new Error(Object(s.l)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(s.l)(t,e,r)+"must be a boolean.")},jt=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},Nt=function(t){if(t.isLeafNode()){var e=t.val();Object(s.d)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(s.h)(e,".sv"),"Priority must be a string or number.")}else Object(s.d)(t===ct||t.isEmpty(),"priority of unexpected type.");Object(s.d)(t===ct||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Lt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(s.d)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Nt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return lt},set:function(t){lt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return $(e)?this:".priority"===B(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=B(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(s.d)(".priority"!==r||1===q(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(H(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+jt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(s.d)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Object(s.d)(i>=0,"Unknown leaf type: "+n),Object(s.d)(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Mt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=s?s:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ft(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Mt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Mt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Mt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}(),Bt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Bt(x,t),r=new Bt(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Bt.MIN},t}(),Ht=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return new Bt(T,new Lt("[PRIORITY-POST]",ht))},e.prototype.makePost=function(t,e){var n=ut(t);return new Bt(e,new Lt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return dt},set:function(t){dt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(s.e)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return new Bt(T,dt)},e.prototype.makePost=function(t,e){return Object(s.d)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Bt(t,dt)},e.prototype.toString=function(){return".key"},e}(qt),Gt=new zt,Kt=Math.log(2),Wt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,r){t.sort(e);var i=function(e,r){var s,o,a=r-e;if(0===a)return null;if(1===a)return s=t[e],o=n?n(s):s,new Ft(o,s.node,Ft.BLACK,null,null);var c=parseInt(a/2,10)+e,l=i(e,c),u=i(c+1,r);return s=t[c],o=n?n(s):s,new Ft(o,s.node,Ft.BLACK,l,u)},s=function(e){for(var r=null,s=null,o=t.length,a=function(e,r){var s=o-e,a=o;o-=e;var l=i(s+1,a),u=t[s],h=n?n(u):u;c(new Ft(h,u.node,r,null,l))},c=function(t){r?(r.left=t,r=t):(s=t,r=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));u?a(h,Ft.BLACK):(a(h,Ft.BLACK),a(h,Ft.RED))}return s}(new Wt(t.length));return new Vt(r||e,s)},$t={},Yt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(s.d)($t&&Ht,"ChildrenNode.ts has not been loaded"),ft=ft||new t({".priority":$t},{".priority":Ht})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(s.C)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(s.h)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(s.d)(e!==Gt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],a=!1,c=n.getIterator(Bt.Wrap),l=c.getNext();l;)a=a||e.isDefinedOn(l.node),o.push(l),l=c.getNext();r=a?Qt(o,e.getCompare()):$t;var u=e.toString(),h=Object(i.a)({},this.indexSet_);h[u]=e;var d=Object(i.a)({},this.indexes_);return d[u]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(s.A)(this.indexes_,(function(t,i){var o=Object(s.C)(r.indexSet_,i);if(Object(s.d)(o,"Missing index implementation for "+i),t===$t){if(o.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Bt.Wrap),l=c.getNext();l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Qt(a,o.getCompare())}return $t}var u=n.get(e.name),h=t;return u&&(h=h.remove(new Bt(e.name,u))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(s.A)(this.indexes_,(function(t){if(t===$t)return t;var r=n.get(e.name);return r?t.remove(new Bt(e.name,r)):t})),this.indexSet_)},t}();function Jt(t,e){return I(t.name,e.name)}function Xt(t,e){return I(t,e)}var Zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Nt(this.priorityNode_),this.children_.isEmpty()&&Object(s.d)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return pt||(pt=new t(new Vt(Xt),null,Yt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||pt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?pt:e},t.prototype.getChild=function(t){var e=B(t);return null===e?this:this.getImmediateChild(e).getChild(H(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(s.d)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Bt(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?pt:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=B(t);if(null===n)return e;Object(s.d)(".priority"!==B(t)||1===q(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(H(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Ht,(function(o,a){n[o]=a.val(e),r++,s&&t.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1})),!e&&s&&i<2*r){var o=[];for(var a in n)o[a]=n[a];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+jt(this.getPriority().val())+":"),this.forEachChild(Ht,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Bt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Bt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Bt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Bt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ht),r=e.getIterator(Ht),i=n.getNext(),s=r.getNext();i&&s;){if(i.name!==s.name||!i.node.equals(s.node))return!1;i=n.getNext(),s=r.getNext()}return null===i&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Vt(Xt),Zt.EMPTY_NODE,Yt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Zt));function ee(t,e){if(void 0===e&&(e=null),null===t)return Zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(s.d)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Lt(t,ee(e));if(t instanceof Array){var n=Zt.EMPTY_NODE;return P(t,(function(e,r){if(Object(s.h)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(ee(e))}var r=[],i=!1;if(P(t,(function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Bt(t,n)))}})),0===r.length)return Zt.EMPTY_NODE;var o=Qt(r,Jt,(function(t){return t.name}),Xt);if(i){var a=Qt(r,Ht.getCompare());return new Zt(o,ee(e),new Yt({".priority":a},{".priority":Ht}))}return new Zt(o,ee(e),Yt.Default)}Object.defineProperties(Bt,{MIN:{value:new Bt(x,Zt.EMPTY_NODE)},MAX:{value:new Bt(T,te)}}),zt.__EMPTY_NODE=Zt.EMPTY_NODE,Lt.__childrenNodeConstructor=Zt,ct=te,ht=te,ut=ee;var ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function re(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ie,se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if($(this.path)){if(null!=this.affectedTree.value)return Object(s.d)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new U(e));return new t(V(),n,this.revert)}return Object(s.d)(B(this.path)===e,"operationForChild called for unrelated child."),new t(H(this.path),this.affectedTree,this.revert)},t}(),oe=function(){function t(t,e){void 0===e&&(ie||(ie=new Vt(k)),e=ie),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return P(e,(function(t,e){n=n.set(new U(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:V(),value:this.value};if($(t))return null;var n=B(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(H(t),e);return null!=i?{path:Q(new U(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if($(e))return this;var n=B(e),r=this.children.get(n);return null!==r?r.subtree(H(e)):new t(null)},t.prototype.set=function(e,n){if($(e))return new t(n,this.children);var r=B(e),i=(this.children.get(r)||new t(null)).set(H(e),n),s=this.children.insert(r,i);return new t(this.value,s)},t.prototype.remove=function(e){if($(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=B(e),r=this.children.get(n);if(r){var i=r.remove(H(e)),s=void 0;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new t(null):new t(this.value,s)}return this},t.prototype.get=function(t){if($(t))return this.value;var e=B(t),n=this.children.get(e);return n?n.get(H(t)):null},t.prototype.setTree=function(e,n){if($(e))return n;var r,i=B(e),s=(this.children.get(i)||new t(null)).setTree(H(e),n);return r=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(V(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Q(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,V(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if($(t))return null;var i=B(t),s=this.children.get(i);return s?s.findOnPath_(H(t),Q(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,V(),e)},t.prototype.foreachOnPath_=function(e,n,r){if($(e))return this;this.value&&r(n,this.value);var i=B(e),s=this.children.get(i);return s?s.foreachOnPath_(H(e),Q(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(V(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(Q(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),ae=function(){function t(t,e){this.source=t,this.path=e,this.type=ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return $(this.path)?new t(this.source,V()):new t(this.source,H(this.path))},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ne.OVERWRITE}return t.prototype.operationForChild=function(e){return $(this.path)?new t(this.source,V(),this.snap.getImmediateChild(e)):new t(this.source,H(this.path),this.snap)},t}(),le=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ne.MERGE}return t.prototype.operationForChild=function(e){if($(this.path)){var n=this.children.subtree(new U(e));return n.isEmpty()?null:n.value?new ce(this.source,V(),n.value):new t(this.source,V(),n)}return Object(s.d)(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,H(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ue=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;var e=B(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();function he(t,e){return{eventCache:t,serverCache:e}}function de(t,e,n,r){return he(new ue(e,n,r),t.serverCache)}function fe(t,e,n,r){return he(t.eventCache,new ue(e,n,r))}function pe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function me(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}function ge(t){return{type:"value",snapshotNode:t}}function ye(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function be(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _e(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Object(s.d)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(be(e,a)):Object(s.d)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ye(e,n)):o.trackChildChange(_e(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ht,(function(t,r){e.hasChild(t)||n.trackChildChange(be(t,r))})),e.isLeafNode()||e.forEachChild(Ht,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(_e(e,r,i))}else n.trackChildChange(ye(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(s.d)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(s.d)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,_e(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,be(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,ye(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(s.e)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,_e(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ce=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new oe(null))},t}();function Oe(t,e,n){if($(e))return new Ce(new oe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,s=r.value,o=Y(i,e);return s=s.updateChild(o,n),new Ce(t.writeTree_.set(i,s))}var a=new oe(n),c=t.writeTree_.setTree(e,a);return new Ce(c)}function Se(t,e,n){var r=t;return P(n,(function(t,n){r=Oe(r,Q(e,t),n)})),r}function Ee(t,e){if($(e))return Ce.empty();var n=t.writeTree_.setTree(e,new oe(null));return new Ce(n)}function xe(t,e){return null!=Te(t,e)}function Te(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Y(n.path,e)):null}function Ie(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ht,(function(t,n){e.push(new Bt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Bt(t,n.value))})),e}function ke(t,e){if($(e))return t;var n=Te(t,e);return new Ce(null!=n?new oe(n):t.writeTree_.subtree(e))}function Ae(t){return t.writeTree_.isEmpty()}function Re(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(Object(s.d)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(Q(e,n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(Q(e,".priority"),i)),r}(V(),t.writeTree_,e)}function De(t,e){return He(e,t)}function Pe(t,e){if(t.snap)return Z(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Z(Q(t.path,n),e))return!0;return!1}function je(t){return t.visible}function Ne(t,e,n){for(var r=Ce.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,c=void 0;if(o.snap)Z(n,a)?r=Oe(r,c=Y(n,a),o.snap):Z(a,n)&&(c=Y(a,n),r=Oe(r,V(),o.snap.getChild(c)));else{if(!o.children)throw Object(s.e)("WriteRecord should have .snap or .children");if(Z(n,a))r=Se(r,c=Y(n,a),o.children);else if(Z(a,n))if($(c=Y(a,n)))r=Se(r,V(),o.children);else{var l=Object(s.C)(o.children,B(c));if(l){var u=l.getChild(H(c));r=Oe(r,V(),u)}}}}}return r}function Le(t,e,n,r,i){if(r||i){var s=ke(t.visibleWrites,e);return!i&&Ae(s)?n:i||null!=n||xe(s,V())?Re(Ne(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Z(t.path,e)||Z(e,t.path))}),e),n||Zt.EMPTY_NODE):null}var o=Te(t.visibleWrites,e);if(null!=o)return o;var a=ke(t.visibleWrites,e);return Ae(a)?n:null!=n||xe(a,V())?Re(a,n||Zt.EMPTY_NODE):null}function Me(t,e,n,r){return Le(t.writeTree,t.treePath,e,n,r)}function Fe(t,e){return function(t,e,n){var r=Zt.EMPTY_NODE,i=Te(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ht,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var s=ke(t.visibleWrites,e);return n.forEachChild(Ht,(function(t,e){var n=Re(ke(s,new U(t)),e);r=r.updateImmediateChild(t,n)})),Ie(s).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ie(ke(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function Ue(t,e,n,r){return function(t,e,n,r,i){Object(s.d)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Q(e,n);if(xe(t.visibleWrites,o))return null;var a=ke(t.visibleWrites,o);return Ae(a)?i.getChild(n):Re(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function Ve(t,e){return function(t,e){return Te(t.visibleWrites,e)}(t.writeTree,Q(t.treePath,e))}function Be(t,e,n){return function(t,e,n,r){var i=Q(e,n),s=Te(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Re(ke(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function qe(t,e){return He(Q(t.treePath,e),t.writeTree)}function He(t,e){return{treePath:t,writeTree:e}}var ze=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ge=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ue(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Be(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:me(this.viewCache_),i=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){var a,c=ke(t.visibleWrites,e),l=Te(c,V());if(null!=l)a=l;else{if(null==n)return[];a=Re(c,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var u=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=d.getNext();f&&u.length<1;)0!==h(f,r)&&u.push(f),f=d.getNext();return u}(t.writeTree,t.treePath,e,n,0,i,s)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function Ke(t,e,n,r,i,o){var a=e.eventCache;if(null!=Ve(r,n))return e;var c=void 0,l=void 0;if($(n))if(Object(s.d)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var u=me(e),h=Fe(r,u instanceof Zt?u:Zt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var d=Me(r,me(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{var f=B(n);if(".priority"===f){Object(s.d)(1===q(n),"Can't have a priority with additional path components");var p=a.getNode(),m=Ue(r,n,p,l=e.serverCache.getNode());c=null!=m?t.filter.updatePriority(p,m):a.getNode()}else{var g=H(n),y=void 0;if(a.isCompleteForChild(f)){l=e.serverCache.getNode();var b=Ue(r,n,a.getNode(),l);y=null!=b?a.getNode().getImmediateChild(f).updateChild(g,b):a.getNode().getImmediateChild(f)}else y=Be(r,f,e.serverCache);c=null!=y?t.filter.updateChild(a.getNode(),f,y,g,i,o):a.getNode()}}return de(e,c,a.isFullyInitialized()||$(n),t.filter.filtersNodes())}function We(t,e,n,r,i,s,o,a){var c,l=e.serverCache,u=o?t.filter:t.filter.getIndexedFilter();if($(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{var d=B(n);if(!l.isCompleteForPath(n)&&q(n)>1)return e;var f=H(n),p=l.getNode().getImmediateChild(d).updateChild(f,r);c=".priority"===d?u.updatePriority(l.getNode(),p):u.updateChild(l.getNode(),d,p,f,ze,null)}var m=fe(e,c,l.isFullyInitialized()||$(n),u.filtersNodes());return Ke(t,m,n,i,new Ge(i,m,s),a)}function Qe(t,e,n,r,i,s,o){var a,c,l=e.eventCache,u=new Ge(i,e,s);if($(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=de(e,c,!0,t.filter.filtersNodes());else{var h=B(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=de(e,c,l.isFullyInitialized(),l.isFiltered());else{var d=H(n),f=l.getNode().getImmediateChild(h),p=void 0;if($(d))p=r;else{var m=u.getCompleteChild(h);p=null!=m?".priority"===z(d)&&m.getChild(W(d)).isEmpty()?m:m.updateChild(d,r):Zt.EMPTY_NODE}a=f.equals(p)?e:de(e,t.filter.updateChild(l.getNode(),h,p,d,u,o),l.isFullyInitialized(),t.filter.filtersNodes())}}return a}function $e(t,e){return t.eventCache.isCompleteForChild(e)}function Ye(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Je(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,l=e;c=$(n)?r:new oe(null).setTree(n,r);var u=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(u.hasChild(n)){var c=Ye(0,e.serverCache.getNode().getImmediateChild(n),r);l=We(t,l,new U(n),c,i,s,o,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!c){var h=Ye(0,e.serverCache.getNode().getImmediateChild(n),r);l=We(t,l,new U(n),h,i,s,o,a)}})),l}var Xe=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function Ze(t,e,n,r,i,o){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(s.e)("Should only compare child_ events.");var r=new Bt(e.childName,e.snapshotNode),i=new Bt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}var tn,en,nn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rn=(tn=0,en=[],function(t){var e,n=t===tn;tn=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=nn.charAt(t%64),t=Math.floor(t/64);Object(s.d)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===en[e];e--)en[e]=0;en[e]++}else for(e=0;e<12;e++)en[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=nn.charAt(en[e]);return Object(s.d)(20===i.length,"nextPushId: Length should be 20."),i}),sn=function(t){if("2147483647"===t)return"-";var e=L(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var s=nn.charAt(nn.indexOf(n[i])+1);return n[i]=s,n.slice(0,i+1).join("")},on=function(t){if("-2147483648"===t)return x;var e=L(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=nn.charAt(nn.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},an=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Bt.MIN},e.prototype.maxPost=function(){return Bt.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new Bt(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),cn=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(s.d)(!$(e)&&".priority"!==B(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=Zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Bt(e,r)},e.prototype.maxPost=function(){var t=Zt.EMPTY_NODE.updateChild(this.indexPath_,te);return new Bt(T,t)},e.prototype.toString=function(){return K(this.indexPath_,0).join("/")},e}(qt),ln=function(){function t(e){this.indexedFilter_=new ve(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,s){return this.matches(new Bt(e,n))||(n=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Zt.EMPTY_NODE);var i=this;return e.forEachChild(Ht,(function(t,e){i.matches(new Bt(t,e))||(r=r.updateImmediateChild(t,Zt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),un=function(){function t(t){this.rangedFilter_=new ln(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,s){return this.rangedFilter_.matches(new Bt(e,n))||(n=Zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,s):this.fullLimitUpdateChild_(t,e,n,i,s)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;i.hasNext()&&s<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),s++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Zt.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();s=0;for(var h=!1;i.hasNext();)o=i.getNext(),!h&&l(a,o)<=0&&(h=!0),h&&s<this.limit_&&l(o,c)<=0?s++:r=r.updateImmediateChild(o.name,Zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var c=t;Object(s.d)(c.numChildren()===this.limit_,"");var l=new Bt(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,u,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,l);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_e(e,n,d)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(be(e,d));var m=c.updateImmediateChild(e,Zt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ye(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&o(u,l)>=0?(null!=i&&(i.trackChildChange(be(u.name,u.node)),i.trackChildChange(ye(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,Zt.EMPTY_NODE)):t},t}(),hn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(s.d)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(s.d)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(s.d)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(s.d)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(s.d)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ht},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function dn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function fn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function pn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mn(t,e,n){var r;return t.index_===Gt?("string"==typeof e&&(e=sn(e)),r=pn(t,e,n)):r=pn(t,e,null==n?T:sn(n)),r.startAfterSet_=!0,r}function gn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function yn(t,e,n){var r;return t.index_===Gt?("string"==typeof e&&(e=on(e)),r=gn(t,e,n)):r=gn(t,e,null==n?x:on(n)),r.endBeforeSet_=!0,r}function bn(t,e){var n=t.copy();return n.index_=e,n}function _n(t){var e,n={};return t.isDefault()||(t.index_===Ht?e="$priority":t.index_===an?e="$value":t.index_===Gt?e="$key":(Object(s.d)(t.index_ instanceof cn,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(s.F)(e),t.startSet_&&(n.startAt=Object(s.F)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(s.F)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(s.F)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(s.F)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var vn,wn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ve(r.getIndex()),s=(n=r).loadsAllData()?new ve(n.getIndex()):n.hasLimit()?new un(n):new ln(n);this.processor_=function(t){return{filter:t}}(s);var o=e.serverCache,a=e.eventCache,c=i.updateFullNode(Zt.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(Zt.EMPTY_NODE,a.getNode(),null),u=new ue(c,o.isFullyInitialized(),i.filtersNodes()),h=new ue(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=he(h,u),this.eventGenerator_=new Xe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Cn(t,e){var n=me(t.viewCache_);return n&&(t.query.getQueryParams().loadsAllData()||!$(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function On(t){return 0===t.eventRegistrations_.length}function Sn(t,e,n){var r=[];if(n){Object(s.d)(null==e,"A cancel should cancel all event registrations.");var i=t.query.path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var o=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}else o.push(c)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function En(t,e,n,r){e.type===ne.MERGE&&null!==e.source.queryId&&(Object(s.d)(me(t.viewCache_),"We should always have a full cache before handling merges"),Object(s.d)(pe(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=t.viewCache_,c=function(t,e,n,r,i){var o,a,c=new we;if(n.type===ne.OVERWRITE){var l=n;l.source.fromUser?o=Qe(t,e,l.path,l.snap,r,i,c):(Object(s.d)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!$(l.path),o=We(t,e,l.path,l.snap,r,i,a,c))}else if(n.type===ne.MERGE){var u=n;u.source.fromUser?o=function(t,e,n,r,i,s,o){var a=e;return r.foreach((function(r,c){var l=Q(n,r);$e(e,B(l))&&(a=Qe(t,a,l,c,i,s,o))})),r.foreach((function(r,c){var l=Q(n,r);$e(e,B(l))||(a=Qe(t,a,l,c,i,s,o))})),a}(t,e,u.path,u.children,r,i,c):(Object(s.d)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Je(t,e,u.path,u.children,r,i,a,c))}else if(n.type===ne.ACK_USER_WRITE){var h=n;o=h.revert?function(t,e,n,r,i,o){var a;if(null!=Ve(r,n))return e;var c=new Ge(r,e,i),l=e.eventCache.getNode(),u=void 0;if($(n)||".priority"===B(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=Me(r,me(e));else{var d=e.serverCache.getNode();Object(s.d)(d instanceof Zt,"serverChildren would be complete if leaf node"),h=Fe(r,d)}u=t.filter.updateFullNode(l,h=h,o)}else{var f=B(n),p=Be(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=l.getImmediateChild(f)),(u=null!=p?t.filter.updateChild(l,f,p,H(n),c,o):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(l,f,Zt.EMPTY_NODE,H(n),c,o):l).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Me(r,me(e))).isLeafNode()&&(u=t.filter.updateFullNode(u,a,o))}return a=e.serverCache.isFullyInitialized()||null!=Ve(r,V()),de(e,u,a,t.filter.filtersNodes())}(t,e,h.path,r,i,c):function(t,e,n,r,i,s,o){if(null!=Ve(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if($(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return We(t,e,n,c.getNode().getChild(n),i,s,a,o);if($(n)){var l=new oe(null);return c.getNode().forEachChild(Gt,(function(t,e){l=l.set(new U(t),e)})),Je(t,e,n,l,i,s,a,o)}return e}var u=new oe(null);return r.foreach((function(t,e){var r=Q(n,t);c.isCompleteForPath(r)&&(u=u.set(t,c.getNode().getChild(r)))})),Je(t,e,n,u,i,s,a,o)}(t,e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==ne.LISTEN_COMPLETE)throw Object(s.e)("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var s=e.serverCache;return Ke(t,fe(e,s.getNode(),s.isFullyInitialized()||$(n),s.isFiltered()),n,r,ze,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=pe(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ge(pe(e)))}}(e,o,d),{viewCache:o,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,o=c.viewCache,Object(s.d)(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(s.d)(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(s.d)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,xn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function xn(t,e,n,r){return function(t,e,n,r){var i=[],s=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&s.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Ze(t,i,"child_removed",e,r,n),Ze(t,i,"child_added",e,r,n),Ze(t,i,"child_moved",s,r,n),Ze(t,i,"child_changed",e,r,n),Ze(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Tn=function(){return function(){this.views=new Map}}();function In(t,e,n,r){var o,a,c=e.source.queryId;if(null!==c){var l=t.views.get(c);return Object(s.d)(null!=l,"SyncTree gave us an op for an invalid query."),En(l,e,n,r)}var u=[];try{for(var h=Object(i.g)(t.views.values()),d=h.next();!d.done;d=h.next())u=u.concat(En(l=d.value,e,n,r))}catch(f){o={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return u}function kn(t,e,n,r,i){var s=e.queryIdentifier(),o=t.views.get(s);if(!o){var a=Me(n,i?r:null),c=!1;a?c=!0:r instanceof Zt?(a=Fe(n,r),c=!1):(a=Zt.EMPTY_NODE,c=!1);var l=he(new ue(a,c,!1),new ue(r,i,!1));return new wn(e,l)}return o}function An(t){var e,n,r=[];try{for(var s=Object(i.g)(t.views.values()),o=s.next();!o.done;o=s.next()){var a=o.value;a.query.getQueryParams().loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}function Rn(t,e){var n,r,s=null;try{for(var o=Object(i.g)(t.views.values()),a=o.next();!a.done;a=o.next())s=s||Cn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}function Dn(t,e){if(e.getQueryParams().loadsAllData())return Nn(t);var n=e.queryIdentifier();return t.views.get(n)}function Pn(t,e){return null!=Dn(t,e)}function jn(t){return null!=Nn(t)}function Nn(t){var e,n;try{for(var r=Object(i.g)(t.views.values()),s=r.next();!s.done;s=r.next()){var o=s.value;if(o.query.getQueryParams().loadsAllData())return o}}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Ln=1,Mn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new oe(null),this.pendingWriteTree_={visibleWrites:Ce.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Fn(t,e,n,r,i){return function(t,e,n,r,i){Object(s.d)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Oe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?zn(t,new ce({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Un(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(s.d)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=t.allWrites.length-1;i&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&Pe(c,r.path)?i=!1:Z(r.path,c.path)&&(o=!0)),a--}return!!i&&(o?(function(t){t.visibleWrites=Ne(t.allWrites,je,V()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Ee(t.visibleWrites,r.path):P(r.children,(function(e){t.visibleWrites=Ee(t.visibleWrites,Q(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var i=new oe(null);return null!=r.snap?i=i.set(V(),!0):P(r.children,(function(t){i=i.set(new U(t),!0)})),zn(t,new se(r.path,i,n))}return[]}function Vn(t,e,n){return zn(t,new ce({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Bn(t,e,n,r){var o=e.path,a=t.syncPointTree_.get(o),c=[];if(a&&("default"===e.queryIdentifier()||Pn(a,e))){var l=function(t,e,n,r){var o,a,c=e.queryIdentifier(),l=[],u=[],h=jn(t);if("default"===c)try{for(var d=Object(i.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,m=Object(i.e)(f.value,2),g=m[0];u=u.concat(Sn(p=m[1],n,r)),On(p)&&(t.views.delete(g),p.query.getQueryParams().loadsAllData()||l.push(p.query))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}else(p=t.views.get(c))&&(u=u.concat(Sn(p,n,r)),On(p)&&(t.views.delete(c),p.query.getQueryParams().loadsAllData()||l.push(p.query)));return h&&!jn(t)&&l.push(new(Object(s.d)(vn,"Reference.ts has not been loaded"),vn)(e.repo,e.path)),{removed:l,events:u}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(o));var u=l.removed;c=l.events;var h=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),d=t.syncPointTree_.findOnPath(o,(function(t,e){return jn(e)}));if(h&&!d){var f=t.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=function(t){return t.fold((function(t,e,n){if(e&&jn(e))return[Nn(e)];var r=[];return e&&(r=An(e)),P(n,(function(t,e){r=r.concat(e)})),r}))}(f),m=0;m<p.length;++m){var g=p[m],y=g.query,b=Gn(t,g);t.listenProvider_.startListening(Jn(y),Kn(t,y),b.hashFn,b.onComplete)}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(Jn(e),null):u.forEach((function(e){var n=t.queryToTagMap.get(Wn(e));t.listenProvider_.stopListening(Jn(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=Wn(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,u)}return c}function qn(t,e,n){var r=e.path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Y(t,r);i=i||Rn(e,n),o=o||jn(e)}));var a,c=t.syncPointTree_.get(r);c?(o=o||jn(c),i=i||Rn(c,V())):(c=new Tn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=i?a=!0:(a=!1,i=Zt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Rn(e,V());n&&(i=i.updateImmediateChild(t,n))})));var l=Pn(c,e);if(!l&&!e.getQueryParams().loadsAllData()){var u=Wn(e);Object(s.d)(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=Ln++;t.queryToTagMap.set(u,h),t.tagToQueryMap.set(h,u)}var d=function(t,e,n,r,i,s){var o=kn(t,e,r,i,s);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ht,(function(t,e){r.push(ye(t,e))})),n.isFullyInitialized()&&r.push(ge(n.getNode())),xn(t,r,n.getNode(),e)}(o,n)}(c,e,n,De(t.pendingWriteTree_,r),i,a);if(!l&&!o){var f=Dn(c,e);d=d.concat(function(t,e,n){var r=e.path,i=Kn(t,e),o=Gn(t,n),a=t.listenProvider_.startListening(Jn(e),i,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(r);if(i)Object(s.d)(!jn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold((function(t,e,n){if(!$(t)&&e&&jn(e))return[Nn(e).query];var r=[];return e&&(r=r.concat(An(e).map((function(t){return t.query})))),P(n,(function(t,e){r=r.concat(e)})),r})),u=0;u<l.length;++u){var h=l[u];t.listenProvider_.stopListening(Jn(h),Kn(t,h))}return a}(t,e,f))}return d}function Hn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Rn(n,Y(t,e));if(r)return r}));return Le(r,e,i,n,!0)}function zn(t,e){return function t(e,n,r,i){if($(e.path))return function t(e,n,r,i){var s=n.get(V());null==r&&null!=s&&(r=Rn(s,V()));var o=[];return n.children.inorderTraversal((function(n,s){var a=r?r.getImmediateChild(n):null,c=qe(i,n),l=e.operationForChild(n);l&&(o=o.concat(t(l,s,a,c)))})),s&&(o=o.concat(In(s,e,i,r))),o}(e,n,r,i);var s=n.get(V());null==r&&null!=s&&(r=Rn(s,V()));var o=[],a=B(e.path),c=e.operationForChild(a),l=n.children.get(a);if(l&&c){var u=r?r.getImmediateChild(a):null,h=qe(i,a);o=o.concat(t(c,l,u,h))}return s&&(o=o.concat(In(s,e,i,r))),o}(e,t.syncPointTree_,null,De(t.pendingWriteTree_,V()))}function Gn(t,e){var n=e.query,r=Kn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Zt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Qn(t,n);if(r){var i=$n(r),s=i.path,o=i.queryId,a=Y(s,e);return Yn(t,s,new ae(re(o),a))}return[]}(t,n.path,r):function(t,e){return zn(t,new ae({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Bn(t,n,null,i)}}}function Kn(t,e){var n=Wn(e);return t.queryToTagMap.get(n)}function Wn(t){return t.path.toString()+"$"+t.queryIdentifier()}function Qn(t,e){return t.tagToQueryMap.get(e)}function $n(t){var e=t.indexOf("$");return Object(s.d)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new U(t.substr(0,e))}}function Yn(t,e,n){var r=t.syncPointTree_.get(e);return Object(s.d)(r,"Missing sync point for query tag that we're tracking"),In(r,n,De(t.pendingWriteTree_,e),null)}function Jn(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var Xn=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Zn=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Q(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Hn(this.syncTree_,this.path_)},t}(),tr=function(t,e,n){return t&&"object"==typeof t?(Object(s.d)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?er(t[".sv"],e,n):"object"==typeof t[".sv"]?nr(t[".sv"],e):void Object(s.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},er=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(s.d)(!1,"Unexpected server value: "+t)}},nr=function(t,e,n){t.hasOwnProperty("increment")||Object(s.d)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(s.d)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(s.d)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},rr=function(t,e,n,r){return sr(e,new Zn(n,t),r)},ir=function(t,e,n){return sr(t,new Xn(e),n)};function sr(t,e,n){var r,i=t.getPriority().val(),s=tr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,a=tr(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Lt(a,ee(s)):t}var c=t;return r=c,s!==c.getPriority().val()&&(r=r.updatePriority(new Lt(s))),c.forEachChild(Ht,(function(t,i){var s=sr(i,e.getImmediateChild(t),n);s!==i&&(r=r.updateImmediateChild(t,s))})),r}function or(){return{value:null,children:new Map}}function ar(t,e,n){if($(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=B(e);t.children.has(r)||t.children.set(r,or()),ar(t.children.get(r),e=H(e),n)}}function cr(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){cr(r,new U(e.toString()+"/"+t),n)}))}var lr=function(){function t(){this.rootNode_=Zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),ur=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(s.h)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(s.j)(this.counters_)},t}(),hr={},dr={};function fr(t){var e=t.toString();return hr[e]||(hr[e]=new ur),hr[e]}var pr=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&P(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),mr=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new pr(t);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;P(e,(function(e,i){i>0&&Object(s.h)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),gr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function yr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();null===n||X(s,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function br(t,e,n){yr(t,n),vr(t,(function(t){return X(t,e)}))}function _r(t,e,n){yr(t,n),vr(t,(function(t){return Z(t,e)||Z(e,t)}))}function vr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(wr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function wr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&v("event: "+n.toString()),M(r)}}}var Cr=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(s.d)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)([],Object(i.e)(this.listeners_[t])),s=0;s<r.length;s++)r[s].callback.apply(r[s].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(s.d)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Or=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(s.d)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Cr),Sr=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(s.t)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(s.d)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Cr),Er=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&M((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),xr="start",Tr="close",Ir=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=fr(e),this.urlFn=function(t){return at(e,st,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Er(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(s.v)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new kr((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),s=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,s===xr)n.id=o,n.password=a;else{if(s!==Tr)throw new Error("Unrecognized command received: "+s);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),s=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(s.v)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(s.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(s.g)(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(s.v)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(s.F)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),kr=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(s.v)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){v("frame writing exception"),c.stack&&v(c.stack),v(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||v("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(s.v)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){v("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ar="";function Rr(t){Ar=t}var Dr=null;"undefined"!=typeof MozWebSocket?Dr=MozWebSocket:"undefined"!=typeof WebSocket&&(Dr=WebSocket);var Pr=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=fr(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(s.v)()&&"undefined"!=typeof location&&location.hostname&&rt.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),at(t,it,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(s.v)()){var r={headers:{"User-Agent":"Firebase/5/"+Ar+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Dr(this.connURL,[],r)}else this.mySock=new Dr(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Dr&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(s.z)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(s.d)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(s.F)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),jr=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ir,Pr]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,s=Pr&&Pr.isAvailable(),o=s&&!Pr.previouslyFailed();if(e.webSocketOnly&&(s||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Pr];else{var a=this.transports_=[];try{for(var c=Object(i.g)(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Nr=function(){function t(t,e,n,r,i,s,o,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=s,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new jr(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=F((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),F((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Lr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Mr=1e3,Fr=function(t){function e(n,r,i,o,a,c,l){var u=t.call(this)||this;if(u.repoInfo_=n,u.applicationId_=r,u.onDataUpdate_=i,u.onConnectStatus_=o,u.onServerInfoUpdate_=a,u.authTokenProvider_=c,u.authOverride_=l,u.id=e.nextPersistentConnectionId_++,u.log_=w("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Mr,u.maxReconnectDelay_=3e5,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,l&&!Object(s.v)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Or.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&Sr.getInstance().on("online",u.onOnline_,u),u}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(s.F)(i)),Object(s.d)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new s.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Object(s.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(s.d)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),s=r.queryIdentifier();this.log_("Listen on "+i+" for "+s);var o={p:i};t.tag&&(o.q=r.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,c=o.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(s))===t&&(n.log_("listen response",o),"ok"!==c&&n.removeListen_(i,s),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(s.h)(t,"w")){var n=Object(s.C)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(s.n)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(s.y)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(s.d)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var s={p:e,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:t,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(s.F)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+Object(s.F)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(s.d)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Mr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,a=this,c=this.lastSessionId,l=!1,u=null,h=function(){u?u.close():(l=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(s.d)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){l?v("getToken() completed but was canceled"):(v("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,u=new Nr(o,a.repoInfo_,a.applicationId_,n,r,i,(function(t){S(t+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),c))})).then(null,(function(e){a.log_("Failed to get token: "+e),l||(t.repoInfo_.nodeAdmin&&S(e),h())}))}},e.prototype.interrupt=function(t){v("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){v("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(s.r)(this.interruptReasons_)&&(this.reconnectDelay_=Mr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new U(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){v("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var s=Object(i.g)(this.listens.values()),o=s.next();!o.done;o=s.next()){var a=o.value;try{for(var c=(n=void 0,Object(i.g)(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(s.v)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ar.replace(/\./g,"-")]=1,Object(s.t)()?t["framework.cordova"]=1:Object(s.w)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Sr.getInstance().currentlyOnline();return Object(s.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Lr),Ur=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(s.d)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var c=e.getListenId_(t,r),l={};this.listens_[c]=l;var u=_n(t.getQueryParams());this.restRequest_(a+".json",u,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),Object(s.C)(o.listens_,c)===l&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=_n(t.getQueryParams()),r=t.path.toString(),i=new s.a;return this.restRequest_(r+".json",n,(function(t,n){var s=n;404===t&&(s=null,t=null),null===t?(e.onDataUpdate_(r,s,!1,null),i.resolve(s)):i.reject(new Error(s))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(s.B)(e);r.log_("Sending REST request for "+a);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=Object(s.z)(c.responseText)}catch(e){S("Failed to parse JSON response for "+a+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&S("Got unsuccessful REST response for "+a+" Status: "+c.status),n(c.status);n=null}},c.open("GET",a,!0),c.send()}))},e}(Lr),Vr=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(s.G)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(s.G)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(s.G)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(s.G)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(s.G)("DataSnapshot.child",0,1,arguments.length),e=String(e),kt("DataSnapshot.child",1,e,!1);var n=new U(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ht)},t.prototype.hasChild=function(t){Object(s.G)("DataSnapshot.hasChild",1,1,arguments.length),kt("DataSnapshot.hasChild",1,t,!1);var e=new U(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(s.G)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(s.G)("DataSnapshot.forEach",1,1,arguments.length),Object(s.H)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ht))}))},t.prototype.hasChildren=function(){return Object(s.G)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(s.G)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(s.G)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Br=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function qr(t,e){for(var n=e instanceof U?e:new U(e),r=t,i=B(n);null!==i;){var o=Object(s.C)(r.node.children,i)||{children:{},childCount:0};r=new Br(i,r,o),i=B(n=H(n))}return r}function Hr(t){return t.node.value}function zr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var i=function(t){return void 0===Hr(t)&&!Gr(t)}(r),o=Object(s.h)(e.node.children,n);i&&o?(delete e.node.children[n],e.node.childCount--,t(e)):i||o||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function Gr(t){return t.node.childCount>0}function Kr(t,e){P(t.node.children,(function(n,r){e(new Br(n,t,r))}))}function Wr(t){return new U(null===t.parent?t.name:Wr(t.parent)+"/"+t.name)}var Qr="repo_interrupt",$r=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=or(),this.transactionQueueTree_=new Br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Yr(t){var e=t.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jr(t){return(e=(e={timestamp:Yr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Xr(t,e,n,r,i){t.dataUpdateCount++;var o=new U(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Object(s.A)(n,(function(t){return ee(t)}));a=function(t,e,n,r){var i=Qn(t,r);if(i){var s=$n(i),o=s.path,a=s.queryId,c=Y(o,e),l=oe.fromObject(n);return Yn(t,o,new le(re(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{var l=ee(n);a=function(t,e,n,r){var i=Qn(t,r);if(null!=i){var s=$n(i),o=s.path,a=s.queryId,c=Y(o,e);return Yn(t,o,new ce(re(a),c,n))}return[]}(t.serverSyncTree_,o,l,i)}else if(r){var u=Object(s.A)(n,(function(t){return ee(t)}));a=function(t,e,n){var r=oe.fromObject(n);return zn(t,new le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,u)}else{var h=ee(n);a=Vn(t.serverSyncTree_,o,h)}var d=o;a.length>0&&(d=bi(t,o)),_r(t.eventQueue_,d,a)}function Zr(t,e){ti(t,"connected",e),!1===e&&function(t){di(t,"onDisconnectEvents");var e=Jr(t),n=or();cr(t.onDisconnect_,V(),(function(r,i){var s=rr(r,i,t.serverSyncTree_,e);ar(n,r,s)}));var r=[];cr(n,V(),(function(e,n){r=r.concat(Vn(t.serverSyncTree_,e,n));var i=Ci(t,e);bi(t,i)})),t.onDisconnect_=or(),_r(t.eventQueue_,V(),r)}(t)}function ti(t,e,n){var r=new U("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var s=Vn(t.infoSyncTree_,r,i);_r(t.eventQueue_,r,s)}function ei(t){return t.nextWriteId_++}function ni(t,e,n,r,i){di(t,"set",{path:e.toString(),value:n,priority:r});var s=Jr(t),o=ee(n,r),a=Hn(t.serverSyncTree_,e),c=ir(o,a,s),l=ei(t),u=Fn(t.serverSyncTree_,e,c,l,!0);yr(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(function(n,r){var s="ok"===n;s||S("set at "+e+" failed: "+n);var o=Un(t.serverSyncTree_,l,!s);_r(t.eventQueue_,e,o),fi(0,i,n,r)}));var h=Ci(t,e);bi(t,h),_r(t.eventQueue_,h,[])}function ri(t,e,n,r){di(t,"update",{path:e.toString(),value:n});var i=!0,o=Jr(t),a={};if(P(n,(function(n,r){i=!1,a[n]=rr(Q(e,n),ee(r),t.serverSyncTree_,o)})),i)v("update() called with empty data.  Don't do anything."),fi(0,r,"ok",void 0);else{var c=ei(t),l=function(t,e,n,r){!function(t,e,n,r){Object(s.d)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Se(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=oe.fromObject(n);return zn(t,new le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,c);yr(t.eventQueue_,l),t.server_.merge(e.toString(),n,(function(n,i){var s="ok"===n;s||S("update at "+e+" failed: "+n);var o=Un(t.serverSyncTree_,c,!s),a=o.length>0?bi(t,e):e;_r(t.eventQueue_,a,o),fi(0,r,n,i)})),P(n,(function(n){var r=Ci(t,Q(e,n));bi(t,r)})),_r(t.eventQueue_,e,[])}}function ii(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if($(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Ht,(function(t,n){ar(e,new U(t),n)})),t(e,n)}if(e.children.size>0){var i=B(n);return n=H(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),fi(0,n,r,i)}))}function si(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,s){"ok"===n&&ar(t.onDisconnect_,e,i),fi(0,r,n,s)}))}function oi(t,e,n,r,i){var s=ee(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(function(n,r){"ok"===n&&ar(t.onDisconnect_,e,s),fi(0,i,n,r)}))}function ai(t,e,n,r){if(Object(s.r)(n))return v("onDisconnect().update() called with empty data.  Don't do anything."),void fi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,s){"ok"===i&&P(n,(function(n,r){var i=ee(r);ar(t.onDisconnect_,Q(e,n),i)})),fi(0,r,i,s)}))}function ci(t,e,n){var r;r=".info"===B(e.path)?qn(t.infoSyncTree_,e,n):qn(t.serverSyncTree_,e,n),br(t.eventQueue_,e.path,r)}function li(t,e,n){var r;r=".info"===B(e.path)?Bn(t.infoSyncTree_,e,n):Bn(t.serverSyncTree_,e,n),br(t.eventQueue_,e.path,r)}function ui(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Qr)}function hi(t){t.persistentConnection_&&t.persistentConnection_.resume(Qr)}function di(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),v.apply(void 0,Object(i.f)([r],Object(i.e)(e)))}function fi(t,e,n,r){e&&M((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var s=new Error(i);s.code=t,e(s)}}))}function pi(t){return t.__database||(t.__database=new Fi(t))}function mi(t,e,n,r,i){di(t,"transaction on "+e);var o=function(){},a=new Di(t,e);a.on("value",o);var c={path:e,update:n,onComplete:r,status:null,order:p(),applyLocally:i,retryCount:0,unwatcher:function(){a.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=gi(t,e,void 0);c.currentInputSnapshot=l;var u=c.update(l.val());if(void 0===u){if(c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete){var h=new Vr(c.currentInputSnapshot,new Di(t,c.path),Ht);c.onComplete(null,!1,h)}}else{St("transaction failed: Data returned ",u,c.path),c.status=0;var d=qr(t.transactionQueueTree_,e),f=Hr(d)||[];f.push(c),zr(d,f);var m=void 0;"object"==typeof u&&null!==u&&Object(s.h)(u,".priority")?(m=Object(s.C)(u,".priority"),Object(s.d)(Ct(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(Hn(t.serverSyncTree_,e)||Zt.EMPTY_NODE).getPriority().val();var g=Jr(t),y=ee(u,m),b=ir(y,l,g);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=b,c.currentWriteId=ei(t);var _=Fn(t.serverSyncTree_,e,b,c.currentWriteId,c.applyLocally);_r(t.eventQueue_,e,_),yi(t,t.transactionQueueTree_)}}function gi(t,e,n){return Hn(t.serverSyncTree_,e,n)||Zt.EMPTY_NODE}function yi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||wi(t,e),Hr(e)){var n=vi(t,e);Object(s.d)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=gi(t,e,r),o=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];Object(s.d)(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var u=Y(e,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var h=o.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){di(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var s=[],o=0;o<n.length;o++){if(n[o].status=2,i=i.concat(Un(t.serverSyncTree_,n[o].currentWriteId)),n[o].onComplete){var a=n[o].currentOutputSnapshotResolved,c=new Di(t,n[o].path),l=new Vr(a,c,Ht);s.push(n[o].onComplete.bind(null,null,!0,l))}n[o].unwatcher()}for(wi(t,qr(t.transactionQueueTree_,e)),yi(t,t.transactionQueueTree_),_r(t.eventQueue_,e,i),o=0;o<s.length;o++)M(s[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=3===n[o].status?4:0;else for(S("transaction at "+d.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=4,n[o].abortReason=r;bi(t,e)}}),a)}(t,Wr(e),n)}else Gr(e)&&Kr(e,(function(e){yi(t,e)}))}function bi(t,e){var n=_i(t,e),r=Wr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],o=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=0;a<e.length;a++){var c=e[a],l=Y(n,c.path),u=!1,h=void 0;if(Object(s.d)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,h=c.abortReason,i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)u=!0,h="maxretry",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else{var d=gi(t,c.path,o);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){St("transaction failed: Data returned ",f,c.path);var p=ee(f);"object"==typeof f&&null!=f&&Object(s.h)(f,".priority")||(p=p.updatePriority(d.getPriority()));var m=c.currentWriteId,g=Jr(t),y=ir(p,d,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=ei(t),o.splice(o.indexOf(m),1),i=(i=i.concat(Fn(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Un(t.serverSyncTree_,m,!0))}else u=!0,h="nodata",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0))}if(_r(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete))if("nodata"===h){var b=new Di(t,e[a].path),_=new Vr(e[a].currentInputSnapshot,b,Ht);r.push(e[a].onComplete.bind(null,null,!1,_))}else r.push(e[a].onComplete.bind(null,new Error(h),!1,null))}for(wi(t,t.transactionQueueTree_),a=0;a<r.length;a++)M(r[a]);yi(t,t.transactionQueueTree_)}}(t,vi(t,n),r),r}function _i(t,e){var n,r=t.transactionQueueTree_;for(n=B(e);null!==n&&void 0===Hr(r);)r=qr(r,n),n=B(e=H(e));return r}function vi(t,e){var n=[];return function t(e,n,r){var i=Hr(n);if(i)for(var s=0;s<i.length;s++)r.push(i[s]);Kr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function wi(t,e){var n=Hr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,zr(e,n.length>0?n:void 0)}Kr(e,(function(e){wi(t,e)}))}function Ci(t,e){var n=Wr(_i(t,e)),r=qr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){Oi(t,e)})),Oi(t,r),function t(e,n,r,i){r&&!i&&n(e),Kr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){Oi(t,e)})),n}function Oi(t,e){var n=Hr(e);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(s.d)(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Object(s.d)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Un(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?zr(e,void 0):n.length=o+1,_r(t.eventQueue_,Wr(e),i),a=0;a<r.length;a++)M(r[a])}}var Si,Ei=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(s.G)("OnDisconnect.cancel",0,1,arguments.length),Object(s.H)("OnDisconnect.cancel",1,t,!0);var e=new s.a;return ii(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(s.G)("OnDisconnect.remove",0,1,arguments.length),Rt("OnDisconnect.remove",this.path_),Object(s.H)("OnDisconnect.remove",1,t,!0);var e=new s.a;return si(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(s.G)("OnDisconnect.set",1,2,arguments.length),Rt("OnDisconnect.set",this.path_),Ot("OnDisconnect.set",1,t,this.path_,!1),Object(s.H)("OnDisconnect.set",2,e,!0);var n=new s.a;return si(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(s.G)("OnDisconnect.setWithPriority",2,3,arguments.length),Rt("OnDisconnect.setWithPriority",this.path_),Ot("OnDisconnect.setWithPriority",1,t,this.path_,!1),xt("OnDisconnect.setWithPriority",2,e,!1),Object(s.H)("OnDisconnect.setWithPriority",3,n,!0);var r=new s.a;return oi(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(s.G)("OnDisconnect.update",1,2,arguments.length),Rt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("OnDisconnect.update",1,t,this.path_,!1),Object(s.H)("OnDisconnect.update",2,e,!0);var i=new s.a;return ai(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),xi=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(s.G)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ti=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(s.F)(this.snapshot.exportVal())},t}(),Ii=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ki=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ti("value",this,new Vr(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(s.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Ii(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Ai=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(s.h)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Ii(this,t,e):null},t.prototype.createEvent=function(t,e){Object(s.d)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ti(t.type,this,new Vr(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(s.d)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length;if(s===i.length){if(1===s){var o=r[0],a=i[0];return!(a!==o||e.callbacks_[o]&&this.callbacks_[a]&&e.callbacks_[o]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Ri=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(s.d)(Si,"Reference.ts has not been loaded"),Si},set:function(t){Si=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Gt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ht){if(null!=e&&!Ct(e)||null!=n&&!Ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(s.d)(t.getIndex()instanceof cn||t.getIndex()===an,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(s.G)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(s.G)("Query.on",2,4,arguments.length),Tt("Query.on",1,e,!1),Object(s.H)("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new ki(t,e||null,n||null);ci(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Ai(t,e,n);ci(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(s.G)("Query.off",0,3,arguments.length),Tt("Query.off",1,t,!0),Object(s.H)("Query.off",2,e,!0),Object(s.I)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new ki(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new Ai(i,null,n||null));li(this.repo,this,r)},t.prototype.get=function(){return null!=(n=function(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=Y(t,n);r=r||Rn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Rn(i,V()):(i=new Tn,t.syncPointTree_=t.syncPointTree_.set(n,i));var s=null!=r,o=s?new ue(r,!0,!1):null;return pe(kn(i,e,De(t.pendingWriteTree_,e.path),s?o.getNode():Zt.EMPTY_NODE,s).viewCache_)}((t=this.repo).serverSyncTree_,e=this))?Promise.resolve(new Vr(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then((function(n){var r=ee(n),i=Vn(t.serverSyncTree_,e.path,r);return br(t.eventQueue_,e.path,i),Promise.resolve(new Vr(r,e.getRef(),e.getQueryParams().getIndex()))}),(function(n){return di(t,"get for query "+Object(s.F)(e)+" failed: "+n),Promise.reject(new Error(n))}));var t,e,n},t.prototype.once=function(e,n,r,i){var o=this;Object(s.G)("Query.once",1,4,arguments.length),Tt("Query.once",1,e,!1),Object(s.H)("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new s.a;l.promise.catch((function(){}));var u=function(t){c&&(c=!1,o.off(e,u),n&&n.bind(a.context)(t),l.resolve(t))};return this.on(e,u,(function(t){o.off(e,u),a.cancel&&a.cancel.bind(a.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(Object(s.G)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,dn(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(s.G)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,fn(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(s.G)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');kt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new U(e);if($(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new cn(n),i=bn(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(s.G)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=bn(this.queryParams_,Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(s.G)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=bn(this.queryParams_,Ht);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(s.G)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=bn(this.queryParams_,an);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(s.G)("Query.startAt",0,2,arguments.length),Ot("Query.startAt",1,e,this.path,!0),It("Query.startAt",2,n,!0);var r=pn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(s.G)("Query.startAfter",0,2,arguments.length),Ot("Query.startAfter",1,e,this.path,!1),It("Query.startAfter",2,n,!0);var r=mn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(s.G)("Query.endAt",0,2,arguments.length),Ot("Query.endAt",1,e,this.path,!0),It("Query.endAt",2,n,!0);var r=gn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(s.G)("Query.endBefore",0,2,arguments.length),Ot("Query.endBefore",1,e,this.path,!1),It("Query.endBefore",2,n,!0);var r=yn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(s.G)("Query.equalTo",1,2,arguments.length),Ot("Query.equalTo",1,t,this.path,!1),It("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(s.G)("Query.toString",0,0,arguments.length),this.repo.toString()+G(this.path)},t.prototype.toJSON=function(){return Object(s.G)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ht&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(s.G)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=X(this.path,e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(s.H)(t,3,r.cancel,!0),r.context=n,Object(s.I)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(s.l)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Di=function(t){function e(e,n){if(!(e instanceof $r))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new hn,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(s.G)("Reference.key",0,0,arguments.length),$(this.path)?null:z(this.path)},e.prototype.child=function(t){return Object(s.G)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof U||(null===B(this.path)?At("Reference.child",1,t,!1):kt("Reference.child",1,t,!1)),new e(this.repo,Q(this.path,t))},e.prototype.getParent=function(){Object(s.G)("Reference.parent",0,0,arguments.length);var t=W(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(s.G)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return pi(this.repo)},e.prototype.set=function(t,e){Object(s.G)("Reference.set",1,2,arguments.length),Rt("Reference.set",this.path),Ot("Reference.set",1,t,this.path,!1),Object(s.H)("Reference.set",2,e,!0);var n=new s.a;return ni(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(s.G)("Reference.update",1,2,arguments.length),Rt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("Reference.update",1,t,this.path,!1),Object(s.H)("Reference.update",2,e,!0);var i=new s.a;return ri(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(s.G)("Reference.setWithPriority",2,3,arguments.length),Rt("Reference.setWithPriority",this.path),Ot("Reference.setWithPriority",1,t,this.path,!1),xt("Reference.setWithPriority",2,e,!1),Object(s.H)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.a;return ni(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(s.G)("Reference.remove",0,1,arguments.length),Rt("Reference.remove",this.path),Object(s.H)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(s.G)("Reference.transaction",1,3,arguments.length),Rt("Reference.transaction",this.path),Object(s.H)("Reference.transaction",1,t,!1),Object(s.H)("Reference.transaction",2,e,!0),Pt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.a;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new xi(n,i)),"function"==typeof e&&e(t,n,i)};return mi(this.repo,this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(s.G)("Reference.setPriority",1,2,arguments.length),Rt("Reference.setPriority",this.path),xt("Reference.setPriority",1,t,!1),Object(s.H)("Reference.setPriority",2,e,!0);var n=new s.a;return ni(this.repo,Q(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(s.G)("Reference.push",0,2,arguments.length),Rt("Reference.push",this.path),Ot("Reference.push",1,t,this.path,!0),Object(s.H)("Reference.push",2,e,!0);var n,r=Yr(this.repo),i=rn(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return Rt("Reference.onDisconnect",this.path),new Ei(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ri);Ri.__referenceConstructor=Di,function(t){Object(s.d)(!vn,"__referenceConstructor has already been defined"),vn=t}(Di);var Pi=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(v("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),ji=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Ni={},Li=!1;function Mi(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||O("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),v("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=mt(i,r),c=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,c=(a=mt(i="http://"+l+"?ns="+c.namespace,r)).repoInfo):o=!a.repoInfo.secure;var u=r&&o?new ji:new Pi(t,e);return Dt("Invalid Firebase Database URL",1,a),$(a.path)||O("Database URL must point to the root of a Firebase Database (not including a child path)."),pi(function(t,e,n){var r=Object(s.C)(Ni,e.name);r||(Ni[e.name]=r={});var i=Object(s.C)(r,t.toURLString());return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new $r(t,Li,e,n),r[t.toURLString()]=i,i}(c,t,u))}var Fi=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,(function(){return Object(i.d)(this,(function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(s.C)(Ni,e.app.name))&&Object(s.C)(n,e.key)===e||O("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),ui(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof $r||O("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(function(t){if(t.stats_=fr(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ur(t.repoInfo_,(function(e,n,r,i){Xr(t,e,n,r,i)}),t.authTokenProvider_),setTimeout((function(){return Zr(t,!0)}),0);else{var e=t.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(s.F)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Fr(t.repoInfo_,t.app.options.appId,(function(e,n,r,i){Xr(t,e,n,r,i)}),(function(e){Zr(t,e)}),(function(e){!function(t,e){P(e,(function(e,n){ti(t,e,n)}))}(t,e)}),t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.statsReporter_=(n=function(){return new mr(t.stats_,t.server_)},r=t.repoInfo_.toString(),dr[r]||(dr[r]=n()),dr[r]),t.infoData_=new lr,t.infoSyncTree_=new Mn({startListening:function(e,n,r,i){var s=[],o=t.infoData_.getNode(e.path);return o.isEmpty()||(s=Vn(t.infoSyncTree_,e.path,o),setTimeout((function(){i("ok")}),0)),s},stopListening:function(){}}),ti(t,"connected",!1),t.serverSyncTree_=new Mn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var s=i(n,r);_r(t.eventQueue_,e.path,s)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Di(this.repo_,V())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?O("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new ot(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new ji)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(s.G)("database.ref",0,1,arguments.length),t instanceof Di?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(s.G)(e,1,1,arguments.length);var n=mt(t,this.repo_.repoInfo_.nodeAdmin);Dt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(s.G)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),ui(this.repo_)},t.prototype.goOnline=function(){Object(s.G)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),hi(this.repo_)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Ui=Object.freeze({__proto__:null,forceLongPolling:function(){Pr.forceDisallow(),Ir.forceAllow()},forceWebSockets:function(){Ir.forceDisallow()},isWebSocketsAvailable:function(){return Pr.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new pr(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);P(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,s=t.nodeAdmin,o=void 0!==s&&s;Rr(t.version);var c=new a.c("auth-internal",new a.b("database-standalone"));return c.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:Mi(e,c,n,o),namespace:i}}}),Vi=Fr;Fr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Fr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Bi=Object.freeze({__proto__:null,DataConnection:Vi,RealTimeConnection:Nr,hijackHash:function(t){var e=Fr.prototype.put;return Fr.prototype.put=function(n,r,i,s){void 0!==s&&(s=t()),e.call(this,n,r,i,s)},function(){Fr.prototype.put=e}},ConnectionTarget:ot,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){Li=t}(t)}}),qi=Fi.ServerValue;!function(e){Rr(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new a.a("database",(function(t,e){var n=e.instanceIdentifier;return Mi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),n,void 0)}),"PUBLIC").setServiceProps({Reference:Di,Query:Ri,Database:Fi,DataSnapshot:Vr,enableLogging:_,INTERNAL:Ui,ServerValue:qi,TEST_ACCESS:Bi}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.6"),Object(s.v)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return Fs})),n.d(e,"b",(function(){return jl})),n.d(e,"c",(function(){return kl})),n.d(e,"d",(function(){return Tl})),n.d(e,"e",(function(){return Il})),n.d(e,"f",(function(){return xu})),n.d(e,"g",(function(){return pu})),n.d(e,"h",(function(){return vs})),n.d(e,"i",(function(){return Gl})),n.d(e,"j",(function(){return hc})),n.d(e,"k",(function(){return Ml})),n.d(e,"l",(function(){return dc})),n.d(e,"m",(function(){return Cu})),n.d(e,"n",(function(){return Ln})),n.d(e,"o",(function(){return rl})),n.d(e,"p",(function(){return W})),n.d(e,"q",(function(){return h})),n.d(e,"r",(function(){return K})),n.d(e,"s",(function(){return Ms})),n.d(e,"t",(function(){return Rc})),n.d(e,"u",(function(){return Dc})),n.d(e,"v",(function(){return Ll})),n.d(e,"w",(function(){return lt})),n.d(e,"x",(function(){return gu})),n.d(e,"y",(function(){return ct})),n.d(e,"z",(function(){return lu})),n.d(e,"A",(function(){return Ql})),n.d(e,"B",(function(){return d})),n.d(e,"C",(function(){return Pl})),n.d(e,"D",(function(){return Dl})),n.d(e,"E",(function(){return sl})),n.d(e,"F",(function(){return gc})),n.d(e,"G",(function(){return pc})),n.d(e,"H",(function(){return mc})),n.d(e,"I",(function(){return bc})),n.d(e,"J",(function(){return xr})),n.d(e,"K",(function(){return p})),n.d(e,"L",(function(){return _u})),n.d(e,"M",(function(){return Lc})),n.d(e,"N",(function(){return nu})),n.d(e,"O",(function(){return Cs})),n.d(e,"P",(function(){return vc})),n.d(e,"Q",(function(){return _c})),n.d(e,"R",(function(){return Fc})),n.d(e,"S",(function(){return _t})),n.d(e,"T",(function(){return uu})),n.d(e,"U",(function(){return tr})),n.d(e,"V",(function(){return R})),n.d(e,"W",(function(){return it})),n.d(e,"X",(function(){return Zn})),n.d(e,"Y",(function(){return Su})),n.d(e,"Z",(function(){return su})),n.d(e,"ab",(function(){return Nl})),n.d(e,"bb",(function(){return Os})),n.d(e,"cb",(function(){return pa})),n.d(e,"db",(function(){return Sr})),n.d(e,"eb",(function(){return or})),n.d(e,"fb",(function(){return zn})),n.d(e,"gb",(function(){return Kn})),n.d(e,"hb",(function(){return Yn})),n.d(e,"ib",(function(){return Qn})),n.d(e,"jb",(function(){return Wn})),n.d(e,"kb",(function(){return $n})),n.d(e,"lb",(function(){return ua})),n.d(e,"mb",(function(){return Ou})),n.d(e,"nb",(function(){return ha})),n.d(e,"ob",(function(){return da})),n.d(e,"pb",(function(){return Gn})),n.d(e,"qb",(function(){return F})),n.d(e,"rb",(function(){return $s})),n.d(e,"sb",(function(){return yo})),n.d(e,"tb",(function(){return go})),n.d(e,"ub",(function(){return la})),n.d(e,"vb",(function(){return ie})),n.d(e,"wb",(function(){return I})),n.d(e,"xb",(function(){return Hn})),n.d(e,"yb",(function(){return Bs})),n.d(e,"zb",(function(){return Jt})),n.d(e,"Ab",(function(){return cc})),n.d(e,"Bb",(function(){return Qr})),n.d(e,"Cb",(function(){return to})),n.d(e,"Db",(function(){return Vo})),n.d(e,"Eb",(function(){return na})),n.d(e,"Fb",(function(){return ra})),n.d(e,"Gb",(function(){return Uo})),n.d(e,"Hb",(function(){return bl})),n.d(e,"Ib",(function(){return Ot})),n.d(e,"Jb",(function(){return At})),n.d(e,"Kb",(function(){return b})),n.d(e,"Lb",(function(){return _})),n.d(e,"Mb",(function(){return Tt})),n.d(e,"Nb",(function(){return Rt})),n.d(e,"Ob",(function(){return io})),n.d(e,"Pb",(function(){return uo})),n.d(e,"Qb",(function(){return po})),n.d(e,"Rb",(function(){return fo})),n.d(e,"Sb",(function(){return ho})),n.d(e,"Tb",(function(){return lo})),n.d(e,"Ub",(function(){return co})),n.d(e,"Vb",(function(){return mo})),n.d(e,"Wb",(function(){return Dn})),n.d(e,"Xb",(function(){return ia})),n.d(e,"Yb",(function(){return Ja})),n.d(e,"Zb",(function(){return tc})),n.d(e,"ac",(function(){return Xa})),n.d(e,"bc",(function(){return Za})),n.d(e,"cc",(function(){return rt})),n.d(e,"dc",(function(){return so})),n.d(e,"ec",(function(){return xl})),n.d(e,"fc",(function(){return bo})),n.d(e,"gc",(function(){return wl})),n.d(e,"hc",(function(){return Je})),n.d(e,"ic",(function(){return Ye})),n.d(e,"jc",(function(){return Oo})),n.d(e,"kc",(function(){return el})),n.d(e,"lc",(function(){return nl})),n.d(e,"mc",(function(){return Io})),n.d(e,"nc",(function(){return Eo})),n.d(e,"oc",(function(){return oo})),n.d(e,"pc",(function(){return ko})),n.d(e,"qc",(function(){return Ao})),n.d(e,"rc",(function(){return $c})),n.d(e,"sc",(function(){return Yc})),n.d(e,"tc",(function(){return Jc})),n.d(e,"uc",(function(){return Xc})),n.d(e,"vc",(function(){return pl})),n.d(e,"wc",(function(){return ro})),n.d(e,"xc",(function(){return Wt})),n.d(e,"yc",(function(){return Se})),n.d(e,"zc",(function(){return Ir})),n.d(e,"Ac",(function(){return Tr})),n.d(e,"Bc",(function(){return It})),n.d(e,"Cc",(function(){return _l})),n.d(e,"Dc",(function(){return ml})),n.d(e,"Ec",(function(){return Fo})),n.d(e,"Fc",(function(){return _o})),n.d(e,"Gc",(function(){return sa})),n.d(e,"Hc",(function(){return no})),n.d(e,"Ic",(function(){return El})),n.d(e,"Jc",(function(){return Xo})),n.d(e,"Kc",(function(){return Zo})),n.d(e,"Lc",(function(){return ta})),n.d(e,"Mc",(function(){return ea})),n.d(e,"Nc",(function(){return gl}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}const l="__parameters__";function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=u("Inject",t=>({token:t})),d=u("Optional"),f=u("Self"),p=u("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return w(t,t[O])||w(t,t[x])}function w(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(T))?t[S]:null}const O=g({"\u0275prov":g}),S=g({"\u0275inj":g}),E=g({"\u0275provFallback":g}),x=g({ngInjectableDef:g}),T=g({ngInjectorDef:g});function I(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(I).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A=g({__forward_ref__:g});function R(t){return t.__forward_ref__=R,t.toString=function(){return I(this())},t}function D(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===R}const j="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,F=j||M||N||L,U=g({"\u0275cmp":g}),V=g({"\u0275dir":g}),B=g({"\u0275pipe":g}),q=g({"\u0275mod":g}),H=g({"\u0275loc":g}),z=g({"\u0275fac":g}),G=g({__NG_ELEMENT_ID__:g});class K{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new K("INJECTOR",-1),Q={},$=/\n/gm,Y="__source",J=g({provide:String,useValue:g});let X,Z=void 0;function tt(t){const e=Z;return Z=t,e}function et(t){const e=X;return X=t,e}function nt(t,e=m.Default){if(void 0===Z)throw new Error("inject() must be called from an injection context");return null===Z?st(t,void 0,e):Z.get(t,e&m.Optional?null:void 0,e)}function rt(t,e=m.Default){return(X||nt)(D(t),e)}const it=rt;function st(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${I(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=D(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof d||"Optional"===i.ngMetadataName||i===d?n|=m.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=m.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=m.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class at{get(t,e=Q){if(e===Q){const e=new Error(`NullInjectorError: No provider for ${I(t)}!`);throw e.name="NullInjectorError",e}return e}}class ct{}class lt{}function ut(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mt(t,e,n){let r=yt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=yt(t,e);if(n>=0)return t[1|n]}function yt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var bt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),_t=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const vt={},wt=[];let Ct=0;function Ot(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Ct++,n.inputs=kt(t.inputs,e),n.outputs=kt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(St):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Et):null,n})}function St(t){return Dt(t)||function(t){return t[V]||null}(t)}function Et(t){return function(t){return t[B]||null}(t)}const xt={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{xt[t.id]=t.type}),e}function It(t,e){return c(()=>{const n=jt(t,!0);n.declarations=e.declarations||wt,n.imports=e.imports||wt,n.exports=e.exports||wt})}function kt(t,e){if(null==t)return vt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const At=Ot;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[U]||null}function Pt(t,e){return t.hasOwnProperty(z)?t[z]:null}function jt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${I(t)} does not have '\u0275mod' property.`);return n}const Nt=20,Lt=10;function Mt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Vt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function qt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}function zt(t){return"string"==typeof t?t:null==t?"":""+t}function Gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():zt(t)}const Kt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function Wt(t){return{name:"body",target:t.ownerDocument.body}}function Qt(t){return t instanceof Function?t():t}function $t(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Gt(t)} found${n}`)}class Yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Jt(){return Xt}function Xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=te),Zt}function Zt(){const t=ee(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===vt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function te(t,e,n,r){const i=ee(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:vt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Yt(c&&c.currentValue,e,o===vt),t[r]=e}function ee(t){return t.__ngSimpleChanges__||null}Jt.ngInherit=!0;const ne="http://www.w3.org/2000/svg";let re=void 0;function ie(t){re=t}function se(){return void 0!==re?re:"undefined"!=typeof document?document:void 0}function oe(t){return!!t.listen}const ae={createRenderer:(t,e)=>se()};function ce(t){for(;Array.isArray(t);)t=t[0];return t}function le(t,e){return ce(e[t+Nt])}function ue(t,e){return ce(e[t.index])}function he(t,e){return t.data[e+Nt]}function de(t,e){return t[e+Nt]}function fe(t,e){const n=e[t];return Mt(n)?n:n[0]}function pe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function me(t){return 4==(4&t[2])}function ge(t){return 128==(128&t[2])}function ye(t,e){return null===t||null==e?null:t[e]}function be(t){t[18]=0}function _e(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ve={lFrame:He(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function we(){return ve.bindingsEnabled}function Ce(){return ve.lFrame.lView}function Oe(){return ve.lFrame.tView}function Se(t){ve.lFrame.contextLView=t}function Ee(){return ve.lFrame.currentTNode}function xe(t,e){ve.lFrame.currentTNode=t,ve.lFrame.isParent=e}function Te(){return ve.lFrame.isParent}function Ie(){ve.lFrame.isParent=!1}function ke(){return ve.isInCheckNoChangesMode}function Ae(t){ve.isInCheckNoChangesMode=t}function Re(){const t=ve.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function De(){return ve.lFrame.bindingIndex}function Pe(){return ve.lFrame.bindingIndex++}function je(t){const e=ve.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ne(t,e){const n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,Le(e)}function Le(t){ve.lFrame.currentDirectiveIndex=t}function Me(t){const e=ve.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Fe(){return ve.lFrame.currentQueryIndex}function Ue(t){ve.lFrame.currentQueryIndex=t}function Ve(t,e){const n=qe();ve.lFrame=n,n.currentTNode=e,n.lView=t}function Be(t){const e=qe(),n=t[1];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function qe(){const t=ve.lFrame,e=null===t?null:t.child;return null===e?He(t):e}function He(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ze(){const t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ge=ze;function Ke(){const t=ze();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function We(){return ve.lFrame.selectedIndex}function Qe(t){ve.lFrame.selectedIndex=t}function $e(){const t=ve.lFrame;return he(t.tView,t.selectedIndex)}function Ye(){ve.lFrame.currentNamespace=ne}function Je(){ve.lFrame.currentNamespace=null}function Xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ze(t,e,n){nn(t,e,3,n)}function tn(t,e,n,r){(3&t[2])===n&&nn(t,e,n,r)}function en(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function nn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(rn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function rn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const sn=-1;class on{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function an(t,e,n){const r=oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];ln(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function cn(t){return 3===t||4===t||6===t}function ln(t){return 64===t.charCodeAt(0)}function un(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||hn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function hn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function dn(t){return t!==sn}function fn(t){return 32767&t}function pn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let mn=!0;function gn(t){const e=mn;return mn=t,e}let yn=0;function bn(t,e){const n=vn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,_n(r.data,t),_n(e,null),_n(r.blueprint,null));const i=wn(t,e),s=t.injectorIndex;if(dn(i)){const t=fn(i),n=pn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function _n(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function wn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return sn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return sn}function Cn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=yn++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function On(t,e,n,r=m.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ve(e,t);try{const t=i();if(null!=t||r&m.Optional)return t;$t(n)}finally{Ge()}}else if("number"==typeof i){if(-1===i)return new An(t,e);let s=null,o=vn(t,e),a=sn,c=r&m.Host?e[16][6]:null;for((-1===o||r&m.SkipSelf)&&(a=-1===o?wn(t,e):e[o+8],a!==sn&&kn(r,!1)?(s=e[1],o=fn(a),e=pn(a,e)):o=-1);-1!==o;){const t=e[1];if(In(i,o,t.data)){const t=En(o,e,n,s,r,c);if(t!==Sn)return t}a=e[o+8],a!==sn&&kn(r,e[1].data[o+8]===c)&&In(i,o,e)?(s=t,o=fn(a),e=pn(a,e)):o=-1}}}if(r&m.Optional&&void 0===i&&(i=null),0==(r&(m.Self|m.Host))){const t=e[9],s=et(void 0);try{return t?t.get(n,i,r&m.Optional):st(n,i,r&m.Optional)}finally{et(s)}}if(r&m.Optional)return i;$t(n,"NodeInjector")}const Sn={};function En(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=xn(a,o,n,null==r?Vt(a)&&mn:r!=o&&2===a.type,i&m.Host&&s===a);return null!==c?Tn(e,o,c,a):Sn}function xn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&qt(t)&&t.type===n)return c}return null}function Tn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof on){const o=i;o.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Gt(s[n]));const a=gn(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?et(o.injectImpl):null;Ve(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&et(c),gn(a),o.resolving=!1,Ge()}}return i}function In(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function kn(t,e){return!(t&m.Self||t&m.Host&&e)}class An{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return On(this._tNode,this._lView,t,void 0,e)}}function Rn(t){const e=t;if(P(t))return()=>{const t=Rn(D(e));return t?t():null};let n=Pt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function Dn(t){return c(()=>{const e=t.prototype.constructor,n=e[z]||Rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[z]||Rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Pn(t){return t.ngDebugContext}function jn(t){return t.ngOriginalError}function Nn(t,...e){t.error(...e)}class Ln{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Nn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Pn(t)?Pn(t):this._findContext(jn(t)):null}_findOriginalError(t){let e=jn(t);for(;e&&jn(e);)e=jn(e);return e}}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Fn extends Mn{getTypeName(){return"HTML"}}class Un extends Mn{getTypeName(){return"Style"}}class Vn extends Mn{getTypeName(){return"Script"}}class Bn extends Mn{getTypeName(){return"URL"}}class qn extends Mn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Gn(t){return t instanceof Mn&&t.getTypeName()||null}function Kn(t){return new Fn(t)}function Wn(t){return new Un(t)}function Qn(t){return new Vn(t)}function $n(t){return new Bn(t)}function Yn(t){return new qn(t)}let Jn=!0,Xn=!1;function Zn(){return Xn=!0,Jn}function tr(){if(Xn)throw new Error("Cannot enable prod mode after platform setup.");Jn=!1}function er(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new nr:new rr(t)}class nr{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class rr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ir=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(ir)||t.match(sr)?t:(Zn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ar(t){return(t=String(t)).split(",").map(t=>or(t.trim())).join(", ")}function cr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function lr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ur=cr("area,br,col,hr,img,wbr"),hr=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=cr("rp,rt"),fr=lr(dr,hr),pr=lr(ur,lr(hr,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lr(dr,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fr),mr=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gr=cr("srcset"),yr=lr(mr,gr,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),br=cr("script,style,template");class _r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pr.hasOwnProperty(e))return this.sanitizedSomething=!0,!br.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!yr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;mr[i]&&(s=or(s)),gr[i]&&(s=ar(s)),this.buf.push(" ",e,'="',Cr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wr=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(vr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(wr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Or;function Sr(t,e){let n=null;try{Or=Or||er(t);let r=e?String(e):"";n=Or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Or.getInertBodyElement(r)}while(r!==s);const o=new _r,a=o.sanitizeChildren(Er(n)||n);return Zn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var xr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){const e=kr();return e?e.sanitize(xr.URL,t)||"":zn(t,"URL")?Hn(t):or(zt(t))}function Ir(t){const e=kr();if(e)return e.sanitize(xr.RESOURCE_URL,t)||"";if(zn(t,"ResourceURL"))return Hn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function kr(){const t=Ce();return t&&t[12]}function Ar(t,e){t.__ngContext__=e}function Rr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Dr="ng-template";function Pr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Rr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function jr(t){return 0===t.type&&t.tagName!==Dr}function Nr(t,e,n){return e===(0!==t.type||n?t.tagName:Dr)}function Lr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(cn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Nr(t,c,n)||""===c&&1===e.length){if(Mr(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Pr(t.attrs,l,n)){if(Mr(r))return!1;o=!0}continue}const u=Fr(8&r?"class":c,i,jr(t),n);if(-1===u){if(Mr(r))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Rr(e,l,0)||2&r&&l!==t){if(Mr(r))return!1;o=!0}}}}else{if(!o&&!Mr(r)&&!Mr(c))return!1;if(o&&Mr(c))continue;o=!1,r=c|1&r}}return Mr(r)||o}function Mr(t){return 0==(1&t)}function Fr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ur(t,e,n=!1){for(let r=0;r<e.length;r++)if(Lr(t,e[r],n))return!0;return!1}function Vr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Br(t,e){return t?":not("+e.trim()+")":e}function qr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Mr(o)||(e+=Br(s,i),i=""),r=o,s=s||!Mr(r);n++}return""!==i&&(e+=Br(s,i)),e}const Hr={};function zr(t){const e=t[3];return Ft(e)?e[3]:e}function Gr(t){return Wr(t[13])}function Kr(t){return Wr(t[4])}function Wr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Qr(t){$r(Oe(),Ce(),We()+t,ke())}function $r(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ze(e,r,n)}else{const r=t.preOrderHooks;null!==r&&tn(e,r,0,n)}Qe(n)}function Yr(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function Xr(t){return 2|t}function Zr(t){return(131068&t)>>2}function ti(t,e){return-131069&t|e<<2}function ei(t){return 1|t}function ni(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ue(i),n.contentQueries(2,e[s],s)}}}function ri(t,e,n){return oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ii(t,e,n,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,be(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function si(t,e,n,r,i){const s=e+Nt,o=t.data[s]||function(t,e,n,r,i){const s=Ee(),o=Te(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return xe(o,!0),o}function oi(t,e,n){Be(e);try{const r=t.viewQuery;null!==r&&Fi(1,r,n);const i=t.template;null!==i&&li(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ni(t,e),t.staticViewQueries&&Fi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Pi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Ke()}}function ai(t,e,n,r){const i=e[2];if(256==(256&i))return;Be(e);const s=ke();try{be(e),ve.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&li(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ze(e,n,null)}else{const n=t.preOrderHooks;null!==n&&tn(e,n,0,null),en(e,0)}if(function(t){for(let e=Gr(t);null!==e;e=Kr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&_e(r,1),n[2]|=1024}}}(e),function(t){for(let e=Gr(t);null!==e;e=Kr(e))for(let t=Lt;t<e.length;t++){const n=e[t],r=n[1];ge(n)&&ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ni(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ze(e,n)}else{const n=t.contentHooks;null!==n&&tn(e,n,1),en(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Qe(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Ne(r,i),o(2,e[i])),i++)}}}finally{Qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Di(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Fi(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ze(e,n)}else{const n=t.viewHooks;null!==n&&tn(e,n,2),en(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,_e(e[3],-1))}finally{Ke()}}function ci(t,e,n,r){const i=e[10],s=!ke(),o=me(e);try{s&&!o&&i.begin&&i.begin(),o&&oi(t,e,r),ai(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function li(t,e,n,r,i){const s=We();try{Qe(-1),2&r&&e.length>Nt&&$r(t,e,0,ke()),n(r,i)}finally{Qe(s)}}function ui(t,e,n){if(Ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function hi(t,e,n){we()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||bn(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=qt(r);s&&Ti(e,n,r);const c=Tn(e,t,a,n);Ar(c,e),null!==o&&ki(0,a-i,c,r,0,o),s&&(fe(n.index,e)[8]=c)}}(t,e,n,ue(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Nt,c=ve.lFrame.currentDirectiveIndex;try{Qe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Le(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?wi(r,i):o&&s.push(null)}}finally{Qe(-1),Le(c)}}(t,e,n))}function di(t,e,n=ue){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function pi(t,e,n,r,i,s,o,a,c,l){const u=Nt+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Hr);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function mi(t,e,n,r){const i=Vi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function gi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function yi(t,e,n,r,i,s,o,a){const c=ue(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(Hi(t,n,l,r,i),Vt(e)&&function(t,e){const n=fe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.tagName||"",r):i,oe(s)?s.setProperty(c,r,i):ln(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function bi(t,e,n,r){let i=!1;if(we()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Ur(n,o.selectors,!1)&&(i||(i=[]),Cn(bn(n,e),t,o.type),qt(o)?(Oi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,Ei(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Ci(t,n,s.length);let a=!1,c=!1;for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=un(n.mergedAttrs,l.hostAttrs),xi(t,e,l),Si(t.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Nt),a=!0),c||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Nt),c=!0),_i(t,l),r+=l.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||jr(e)?null:Ai(n,i);s.push(l),o=gi(n,c,o),a=gi(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),vi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=un(n.mergedAttrs,n.attrs),i}function _i(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function vi(t,e,n){for(let r=0;r<n;r++)e.push(Hr),t.blueprint.push(Hr),t.data.push(null)}function wi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ci(t,e,n){const r=Nt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qt(e)&&(n[""]=t)}}function Ei(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Pt(n.type)),i=new on(r,qt(n),null);t.blueprint.push(i),e.push(i)}function Ti(t,e,n){const r=ue(e,t),i=fi(n),s=t[10],o=ji(t,ii(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ii(t,e,n,r,i,s){const o=ue(t,e),a=e[11];if(null==r)oe(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?zt(r):i(r,t.tagName||"",n);oe(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}function ki(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ai(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ri(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Di(t,e){const n=fe(e,t);if(ge(n)){const t=n[1];80&n[2]?ai(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Gr(e);null!==r;r=Kr(r))for(let e=Lt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ai(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=fe(n[r],e);ge(i)&&i[5]>0&&t(i)}}(n)}}function Pi(t,e){const n=fe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),oi(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ni(t){for(;t;){t[2]|=64;const e=zr(t);if(Ht(t)&&!e)return t;t=e}return null}function Li(t,e,n){const r=e[10];r.begin&&r.begin();try{ai(t,e,t.template,n)}catch(i){throw qi(e,i),i}finally{r.end&&r.end()}}function Mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=pe(n),i=r[1];ci(i,r,i.template,n)}}(t[8])}function Fi(t,e,n){Ue(0),e(t,n)}const Ui=(()=>Promise.resolve(null))();function Vi(t){return t[7]||(t[7]=[])}function Bi(t,e,n){return(null===t||qt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function qi(t,e){const n=t[9],r=n?n.get(Ln,null):null;r&&r.handleError(e)}function Hi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function zi(t,e,n){const r=le(e,t),i=t[11];oe(i)?i.setValue(r,n):r.textContent=n}function Gi(t,e,n,r,i){if(null!=r){let s,o=!1;Ft(r)?s=r:Mt(r)&&(o=!0,r=r[0]);const a=ce(r);0===t&&null!==n?null==i?Zi(e,n,a):Xi(e,n,a,i||null):1===t&&null!==n?Xi(e,n,a,i||null):2===t?is(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ce(n)&&Gi(e,t,r,s,i);for(let o=Lt;o<n.length;o++){const i=n[o];os(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ki(t,e){return oe(e)?e.createText(t):e.createTextNode(t)}function Wi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,_e(i,-1)),n.splice(r,1)}function Qi(t,e){if(t.length<=Lt)return;const n=Lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Wi(s,r),e>0&&(t[n-1][4]=r[4]);const o=ft(t,Lt+e);os(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function $i(t,e){if(!(256&e[2])){const n=e[11];oe(n)&&n.destroyNode&&os(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Yi(t[1],t);for(;e;){let n=null;if(Mt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Mt(e)&&Yi(e[1],e),e=e[3];null===e&&(e=t),Mt(e)&&Yi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof on)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):ce(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&oe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ft(e[3])){n!==e[3]&&Wi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ji(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ue(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==_t.ShadowDom&&n!==_t.Native)return null}return ue(r,n)}function Xi(t,e,n,r){oe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Zi(t,e,n){oe(t)?t.appendChild(e,n):e.appendChild(n)}function ts(t,e,n,r){null!==r?Xi(t,e,n,r):Zi(t,e,n)}function es(t,e){return oe(t)?t.parentNode(e):e.parentNode}function ns(t,e){return 3===t.type||4===t.type?ue(t,e):null}function rs(t,e,n,r){const i=Ji(t,r,e);if(null!=i){const t=e[11],s=ns(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)ts(t,i,n[e],s);else ts(t,i,n,s)}}function is(t,e,n){const r=es(t,e);r&&function(t,e,n,r){oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ss(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;o&&0===e&&(a&&Ar(ce(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(ss(t,e,n.child,r,i,s,!1),Gi(e,t,i,a,s)):1===c?cs(t,e,r,n,i,s):Gi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function os(t,e,n,r,i,s){ss(n,r,t.firstChild,e,i,s,!1)}function as(t,e,n){cs(e[11],0,e,n,Ji(t,n,e),ns(n.parent||e[6],e))}function cs(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Gi(e,t,i,a[c],s);else ss(t,e,a,o[3],i,s,!0)}function ls(t,e,n){oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function us(t,e,n){oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class hs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(ce(o)),Ft(o))for(let e=Lt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=zr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}$i(this._lView[1],this._lView)}onDestroy(t){mi(this._lView[1],this._lView,null,t)}markForCheck(){Ni(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Li(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ae(!0);try{Li(t,e,n)}finally{Ae(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,os(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ds extends hs{constructor(t){super(t),this._view=t}detectChanges(){Mi(this._view)}checkNoChanges(){!function(t){Ae(!0);try{Mi(t)}finally{Ae(!1)}}(this._view)}get context(){return null}}let fs,ps,ms;function gs(t,e,n){return fs||(fs=class extends t{}),new fs(ue(e,n))}function ys(t,e,n,r){return ps||(ps=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ii(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),oi(e,n,t),new hs(n)}}),0===n.type?new ps(r,n,gs(e,n,r)):null}function bs(t,e,n,r){let i;ms||(ms=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return gs(e,this._hostTNode,this._hostView)}get injector(){return new An(this._hostTNode,this._hostView)}get parentInjector(){const t=wn(this._hostTNode,this._hostView);if(dn(t)){const e=pn(t,this._hostView),n=fn(t);return new An(e[1].data[n+8],e)}return new An(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ct,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ms(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Lt?(e[4]=n[i],dt(n,Lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=Lt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ue(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ft(e)?t(-1,e):ce(e)}}{const t=n[16],i=t[6],s=zr(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],c=es(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,os(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(this),dt(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Qi(this._lContainer,e);n&&(ft(this._lContainer[8],e),$i(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Qi(this._lContainer,e);return n&&null!=ft(this._lContainer[8],e)?new hs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ft(s))i=s;else{let t;if(3===n.type)t=ce(s);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=ue(n,r);Xi(e,es(e,i),t,function(t,e){return oe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else rs(r[1],r,t,n);r[n.index]=i=Ri(s,r,t,n),ji(r,i)}return new ms(i,n,r)}function _s(t=!1){return function(t,e,n){if(!n&&Vt(t)){const n=fe(t.index,e);return new hs(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new hs(e[16],e):null}(Ee(),Ce(),t)}let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ws(),t})();const ws=_s,Cs=Function,Os=new K("Set Injector scope."),Ss={},Es={},xs=[];let Ts=void 0;function Is(){return void 0===Ts&&(Ts=new at),Ts}function ks(t,e=null,n=null,r){return new As(t,n,e||Is(),r)}class As{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set(W,Ps(void 0,this));const s=this.records.get(Os);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:I(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Q,n=m.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof K)&&v(t);e=n&&this.injectableDefInScope(n)?Ps(Rs(t),Ss):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?Is():this.parent).get(t,e=n&m.Optional&&e===Q?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(I(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Y]&&i.unshift(e[Y]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=I(e);if(Array.isArray(e))i=e.map(I).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):I(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(I(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=D(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||xs))}}this.injectorDefTypes.add(s),this.records.set(s,Ps(r.factory,Ss));const a=r.providers;if(null!=a&&!o){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ns(t=D(t))?t:D(t&&t.provide);const i=function(t,e,n){return js(t)?Ps(void 0,t.useValue):Ps(Ds(t),Ss)}(t);if(Ns(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ps(void 0,Ss,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ss&&(e.value=Es,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Rs(t){const e=v(t),n=null!==e?e.factory:Pt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof K)throw new Error(`Token ${I(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${I(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[x]||t[E]&&t[E]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ds(t,e,n){let r=void 0;if(Ns(t)){const e=D(t);return Pt(e)||Rs(e)}if(js(t))r=()=>D(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(D(t.useExisting));else{const e=D(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Pt(e)||Rs(e);r=()=>new e(...ot(t.deps))}var i;return r}function Ps(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function js(t){return null!==t&&"object"==typeof t&&J in t}function Ns(t){return"function"==typeof t}const Ls=function(t,e,n){return function(t,e=null,n=null,r){const i=ks(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ms=(()=>{class t{static create(t,e){return Array.isArray(t)?Ls(t,e,""):Ls(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Q,t.NULL=new at,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>rt(W)}),t.__NG_ELEMENT_ID__=-1,t})();const Fs=new K("AnalyzeForEntryComponents");function Us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=k(i,t):2==s&&(r=k(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Vs(t,e){const n=pe(t)[1],r=n.data.length-1;Xe(n,{directiveStart:r,directiveEnd:r+1})}function Bs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=qs(t.inputs),e.declaredInputs=qs(t.declaredInputs),e.outputs=qs(t.outputs);const n=i.hostBindings;n&&Gs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Hs(t,s),o&&zs(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Bs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=un(i.hostAttrs,n=un(n,i.hostAttrs))}}(r)}function qs(t){return t===vt?{}:t===wt?[]:t}function Hs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function zs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Gs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ks=null;function Ws(){if(!Ks){const t=F.Symbol;if(t&&t.iterator)Ks=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ks=n)}}}return Ks}class Qs{constructor(t){this.wrapped=t}static wrap(t){return new Qs(t)}static unwrap(t){return Qs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Qs}}function $s(t){return!!Ys(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ws()in t)}function Ys(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Js(t,e,n){return t[e]=n}function Xs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zs(t,e,n,r){const i=Xs(t,e,n);return Xs(t,e+1,r)||i}function to(t,e,n,r){const i=Ce();return Xs(i,Pe(),e)&&(Oe(),Ii($e(),i,t,e,n,r)),to}function eo(t,e,n,r){return Xs(t,Pe(),n)?e+zt(n)+r:Hr}function no(t,e,n,r,i,s,o,a){const c=Ce(),l=Oe(),u=t+Nt,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const l=e.consts,u=si(e,t,0,o||null,ye(l,a));bi(e,n,u,ye(l,c)),Xe(e,u);const h=u.tViews=pi(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,r,i,s,o):l.data[u];xe(h,!1);const d=c[11].createComment("");rs(l,c,d,h),Ar(d,c),ji(c,c[u]=Ri(d,c,d,h)),Bt(h)&&hi(l,c,h),null!=o&&di(c,h,a)}function ro(t){return de(ve.lFrame.contextLView,t)}function io(t,e=m.Default){const n=Ce();return null===n?rt(t,e):On(Ee(),n,D(t),e)}function so(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(cn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ee(),t)}function oo(t,e,n){const r=Ce();return Xs(r,Pe(),e)&&yi(Oe(),$e(),r,t,e,r[11],n,!1),oo}function ao(t,e,n,r,i){const s=i?"class":"style";Hi(t,n,e.inputs[s],s,r)}function co(t,e,n,r){const i=Ce(),s=Oe(),o=Nt+t,a=i[11],c=i[o]=ri(e,a,ve.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=si(e,t,2,i,ye(a,s));return bi(e,n,c,ye(a,o)),null!==c.attrs&&Us(c,c.attrs,!1),null!==c.mergedAttrs&&Us(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];xe(l,!0);const u=l.mergedAttrs;null!==u&&an(a,c,u);const h=l.classes;null!==h&&us(a,c,h);const d=l.styles;null!==d&&ls(a,c,d),rs(s,i,c,l),0===ve.lFrame.elementDepthCount&&Ar(c,i),ve.lFrame.elementDepthCount++,Bt(l)&&(hi(s,i,l),ui(s,l,i)),null!==r&&di(i,l)}function lo(){let t=Ee();Te()?Ie():(t=t.parent,xe(t,!1));const e=t;ve.lFrame.elementDepthCount--;const n=Oe();n.firstCreatePass&&(Xe(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ao(n,e,Ce(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ao(n,e,Ce(),e.stylesWithoutHost,!1)}function uo(t,e,n,r){co(t,e,n,r),lo()}function ho(t,e,n){const r=Ce(),i=Oe(),s=t+Nt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ye(s,r),a=si(e,t,3,"ng-container",o);return null!==o&&Us(a,o,!0),bi(e,n,a,ye(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];xe(o,!0);const a=r[s]=r[11].createComment("");rs(i,r,a,o),Ar(a,r),Bt(o)&&(hi(i,r,o),ui(i,o,r)),null!=n&&di(r,o)}function fo(){let t=Ee();const e=Oe();Te()?Ie():(t=t.parent,xe(t,!1)),e.firstCreatePass&&(Xe(e,t),Ut(t)&&e.queries.elementEnd(t))}function po(t,e,n){ho(t,e,n),fo()}function mo(){return Ce()}function go(t){return!!t&&"function"==typeof t.then}function yo(t){return!!t&&"function"==typeof t.subscribe}function bo(t,e,n=!1,r){const i=Ce(),s=Oe(),o=Ee();return vo(s,i,i[11],o,t,e,n,r),bo}function _o(t,e,n=!1,r){const i=Ee(),s=Ce(),o=Oe();return vo(o,s,Bi(Me(o.data),i,s),i,t,e,n,r),_o}function vo(t,e,n,r,i,s,o=!1,a){const c=Bt(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Vi(e);let h=!0;if(2===r.type){const d=ue(r,e),f=a?a(d):vt,p=f.target||d,m=u.length,g=a?t=>a(ce(t[r.index])).target:r.index;if(oe(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Co(r,e,s,!1);const t=n.listen(f.name||p,i,s);u.push(s,t),l&&l.push(i,g,m,m+1)}}else s=Co(r,e,s,!0),p.addEventListener(i,s,o),u.push(s),l&&l.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function wo(t,e,n){try{return!1!==e(n)}catch(r){return qi(t,r),!1}}function Co(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?fe(t.index,e):e;0==(32&e[2])&&Ni(o);let a=wo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=wo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Oo(t=1){return function(t){return(ve.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ve.lFrame.contextLView))[8]}(t)}function So(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ur(t,s,!0):Vr(r,s))return i}else n=i}return n}function Eo(t){const e=Ce()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?So(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let xo=!1;function To(t){xo=t}function Io(t,e=0,n){const r=Ce(),i=Oe(),s=si(i,t,1,null,n||null);null===s.projection&&(s.projection=e),Ie(),xo||as(i,r,s)}function ko(t,e,n){return Ao(t,"",e,"",n),ko}function Ao(t,e,n,r,i){const s=Ce(),o=eo(s,e,n,r);return o!==Hr&&yi(Oe(),$e(),s,t,o,s[11],i,!1),Ao}const Ro=[];function Do(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Jr(s):Zr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Po(t[a],e)&&(c=!0,t[a+1]=r?ei(n):Xr(n)),a=r?Jr(n):Zr(n)}c&&(t[n+1]=r?Xr(s):ei(s))}function Po(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yt(t,e)>=0}const jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function No(t){return t.substring(jo.key,jo.keyEnd)}function Lo(t,e){const n=jo.textEnd;return n===e?-1:(e=jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,jo.key=e,n),Mo(t,e,n))}function Mo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fo(t,e,n){return qo(t,e,n,!1),Fo}function Uo(t,e){return qo(t,e,null,!0),Uo}function Vo(t){Ho(mt,Bo,t,!0)}function Bo(t,e){for(let n=function(t){return function(t){jo.key=0,jo.keyEnd=0,jo.value=0,jo.valueEnd=0,jo.textEnd=t.length}(t),Lo(t,Mo(t,0,jo.textEnd))}(e);n>=0;n=Lo(e,n))mt(t,No(e),!0)}function qo(t,e,n,r){const i=Ce(),s=Oe(),o=je(2);s.firstUpdatePass&&Go(s,t,o,r),e!==Hr&&Xs(i,o,e)&&Qo(s,s.data[We()+Nt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=I(Hn(t)))),t}(e,n),r,o)}function Ho(t,e,n,r){const i=Oe(),s=je(2);i.firstUpdatePass&&Go(i,null,s,r);const o=Ce();if(n!==Hr&&Xs(o,s,n)){const a=i.data[We()+Nt];if(Jo(a,r)&&!zo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=k(t,n||"")),ao(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Hr&&(i=Ro);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=c<i.length?i[c+1]:void 0,f=l<s.length?s[l+1]:void 0;let p=null,m=void 0;u===h?(c+=2,l+=2,d!==f&&(p=h,m=f)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,m=f),null!==p&&Qo(t,e,n,r,p,m,o,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ro;const r=[],i=Hn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function zo(t,e){return e>=t.expandoStartIndex}function Go(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[We()+Nt],o=zo(t,n);Jo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Me(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wo(n=Ko(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ko(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Zr(r))return t[Jr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ko(null,t,e,n[1],r),n=Wo(n,e.attrs,r),function(t,e,n,r){t[Jr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Wo(r,t[s].hostAttrs,n);return Wo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Jr(o),c=Zr(o);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||yt(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=Jr(t[a+1]);t[r+1]=Yr(e,a),0!==e&&(t[e+1]=ti(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Yr(a,0),0!==a&&(t[a+1]=ti(t[a+1],r)),a=r;else t[r+1]=Yr(c,0),0===a?a=r:t[c+1]=ti(t[c+1],r),c=r;u&&(t[r+1]=Xr(t[r+1])),Do(t,l,r,!0),Do(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yt(s,e)>=0&&(n[r+1]=ei(n[r+1]))}(e,l,t,r,s),o=Yr(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ko(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Qo(t,e,n,r,i,s,o,a){if(2!==e.type)return;const c=t.data,l=c[a+1];Yo(1==(1&l)?$o(c,e,n,i,Zr(l),o):void 0)||(Yo(s)||2==(2&l)&&(s=$o(c,null,n,i,a,o)),function(t,e,n,r,i){const s=oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,le(We(),n),i,s))}function $o(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[i+1];u===Hr&&(u=l?Ro:void 0);let h=l?gt(u,r):c===r?u:void 0;if(s&&!Yo(h)&&(h=gt(e,r)),Yo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Jr(d):Zr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function Yo(t){return void 0!==t}function Jo(t,e){return 0!=(t.flags&(e?16:32))}function Xo(t,e=""){const n=Ce(),r=Oe(),i=t+Nt,s=r.firstCreatePass?si(r,t,2,null,null):r.data[i],o=n[i]=Ki(e,n[11]);rs(r,n,o,s),xe(s,!1)}function Zo(t){return ta("",t,""),Zo}function ta(t,e,n){const r=Ce(),i=eo(r,t,e,n);return i!==Hr&&zi(r,We(),i),ta}function ea(t,e,n,r,i){const s=Ce(),o=function(t,e,n,r,i,s){const o=Zs(t,De(),n,i);return je(2),o?e+zt(n)+r+zt(i)+s:Hr}(s,t,e,n,r,i);return o!==Hr&&zi(s,We(),o),ea}function na(t,e,n){Ho(mt,Bo,eo(Ce(),t,e,n),!0)}function ra(t,e,n,r,i,s,o,a,c){Ho(mt,Bo,function(t,e,n,r,i,s,o,a,c,l){const u=function(t,e,n,r,i,s){const o=Zs(t,e,n,r);return Zs(t,e+2,i,s)||o}(t,De(),n,i,o,c);return je(4),u?e+zt(n)+r+zt(i)+s+zt(o)+a+zt(c)+l:Hr}(Ce(),t,e,n,r,i,s,o,a,c),!0)}function ia(t,e,n){const r=Ce();return Xs(r,Pe(),e)&&yi(Oe(),$e(),r,t,e,r[11],n,!0),ia}function sa(t,e,n){const r=Ce();if(Xs(r,Pe(),e)){const i=Oe(),s=$e();yi(i,s,r,t,e,Bi(Me(i.data),s,r),n,!0)}return sa}const oa=void 0;var aa=["en",[["a","p"],["AM","PM"],oa],[["AM","PM"],oa,oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oa,"{1} 'at' {0}",oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ca={};function la(t,e,n){"string"!=typeof e&&(n=e,e=t[pa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ca[e]=t,n&&(ca[e][pa.ExtraData]=n)}function ua(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=fa(e);if(n)return n;const r=e.split("-")[0];if(n=fa(r),n)return n;if("en"===r)return aa;throw new Error(`Missing locale data for the locale "${t}".`)}function ha(t){return ua(t)[pa.CurrencyCode]||null}function da(t){return ua(t)[pa.PluralCase]}function fa(t){return t in ca||(ca[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),ca[t]}var pa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ma=["zero","one","two","few","many"],ga="en-US",ya={marker:"element"},ba={marker:"comment"};let _a=ga;function va(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(_a=t.toLowerCase().replace(/_/g,"-"))}const wa=[];let Ca=-1,Oa=0,Sa=0;function Ea(t,e,n,r){const i=r[11];let s=null,o=null;const a=[];for(let c=0;c<n.length;c++){const l=n[c];if("string"==typeof l){const e=Ki(l,i),u=n[++c];o=s,s=Ra(t,r,u,2,e,null),a.push(u),Ie()}else if("number"==typeof l)switch(7&l){case 1:const i=l>>>17;let u;u=i===e?r[6]:he(t,i),o=ka(t,s,u,o,r);break;case 0:const h=l>=0,d=(h?l:~l)>>>3;a.push(d),o=s,s=he(t,d),s&&xe(s,h);break;case 5:o=s=he(t,l>>>3),xe(s,!1);break;case 4:const f=n[++c],p=n[++c];Ii(he(t,l>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case ba:const e=n[++c],u=n[++c],h=i.createComment(e);o=s,s=Ra(t,r,u,4,h,null),a.push(u),Ar(h,r),Ie();break;case ya:const d=n[++c],f=n[++c];o=s,s=Ra(t,r,f,2,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}}return Ie(),a}function xa(t,e,n,r,i,s){let o=!1;for(let a=0;a<r.length;a++){const c=r[a],l=r[++a];if(c&s){let s="";for(let c=a+1;c<=a+l;c++){const a=r[c];if("string"==typeof a)s+=a;else if("number"==typeof a)if(a<0)s+=zt(n[i-a]);else{const l=a>>>2;switch(3&a){case 1:const a=r[++c],u=r[++c];yi(t,he(t,l),n,a,s,n[11],u,!1);break;case 0:zi(n,l,s);break;case 2:o=Ia(t,e,r[++c],n,s);break;case 3:Ta(t,e,r[++c],i,n,o)}}}}a+=l}}function Ta(t,e,n,r,i,s){const o=e[n],a=i[o.currentCaseLViewIndex];null!==a&&xa(t,e,i,o.update[a],r,s?-1:Oa)}function Ia(t,e,n,r,i){!function t(e,n,r,i){const s=n[r],o=i[s.currentCaseLViewIndex];if(null!==o){const r=s.remove[o];for(let s=0;s<r.length;s++){const o=r[s],a=o>>>3;switch(7&o){case 3:Aa(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let s=!1;const o=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=da(e)(parseInt(t,10)),r=ma[n];return void 0!==r?r:"other"}(e,_a);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(o,i);return r[o.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(Ea(t,-1,o.create[a],r),s=!0),s}function ka(t,e,n,r,i){const s=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let o=e.next;for(;o;)o.next===e&&(o.next=s),o=o.next;if(1===e.type)return as(t,i,e),e;rs(t,i,ue(e,i),e);const a=i[e.index];return 0!==e.type&&Ft(a)&&rs(t,i,a[7],e),e}function Aa(t,e,n,r){const i=he(t,n),s=le(n,e);s&&is(e[11],s);const o=de(e,n);if(Ft(o)){const t=o;0!==i.type&&is(e[11],t[7])}r&&i&&(i.flags|=64)}function Ra(t,e,n,r,i,s){const o=Ee();e[n+Nt]=i;const a=si(t,n,r,s,null);return o&&o.next===a&&(o.next=null),a}const Da=/\ufffd(\d+):?\d*\ufffd/gi,Pa=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ja=/\ufffd(\d+)\ufffd/,Na=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let La;const Ma=[],Fa=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ua=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Va=/\uE500/g;function Ba(t,e,n,r=null){const i=[null,null],s=t.split(Da);let o=0;for(let a=0;a<s.length;a++){const t=s[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),o|=za(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function qa(t,e=0){let n;e|=za(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Da.exec(r);)e|=za(parseInt(n[1],10));else e=qa(r,e)}}return e}function Ha(t){return t+La++}function za(t){return 1<<Math.min(t,31)}function Ga(t){return void 0===t}function Ka(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Fa.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Wa(t,e,n,r){const i=[],s=[],o=[],a=[],c=[],l=e.values;for(let u=0;u<l.length;u++){const e=l[u],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const d=$a(e.join(""),n,h,t,r);i.push(d.create),s.push(d.remove),o.push(d.update),a.push(d.vars),c.push(d.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:Nt+r+1,childIcus:c,cases:e.cases,create:i,remove:s,update:o}),La+=Math.max(...a)}function Qa(t){const e=[],n=[];let r=1,i=0;const s=Ya(t=t.replace(Na,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ya(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function $a(t,e,n,r,i){const s=er(se()).getInertBodyElement(t);if(!s)throw new Error("Unable to generate inert body element");const o={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,s,o){if(e){const a=[];for(;e;){const c=e.nextSibling,l=o+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const c=e,u=c.tagName.toLowerCase();if(pr.hasOwnProperty(u)){n.create.push(ya,u,l,r<<17|1);const a=c.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Da)?yr.hasOwnProperty(r)&&ut(mr[r]?Ba(e.value,l,e.name,or):gr[r]?Ba(e.value,l,e.name,ar):Ba(e.value,l,e.name),n.update):n.create.push(l<<3|4,e.name,e.value)}t(e.firstChild,n,l,i,s,o),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",d=h.match(Da);n.create.push(d?"":h,l,r<<17|1),n.remove.push(l<<3|3),d&&ut(Ba(h,l),n.update);break;case Node.COMMENT_NODE:const f=ja.exec(e.textContent||"");if(f){const t=parseInt(f[1],10);n.create.push(ba,"",l,r<<17|1),a.push([i[t],l])}else n.vars--;break;default:n.vars--}e=c}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Wa(s,e,r,o+n.vars);const i=s.length-1;n.vars+=Math.max(...s[i].vars),n.childIcus.push(i);const c=qa(e);n.update.push(za(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,c,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Er(s)||s).firstChild,o,e,n,r,i),o}function Ya(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Na.test(n)?r.push(Qa(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function Ja(t,e,n){(function(t,e,n){const r=Oe(),i=ye(r.consts,e);!function(t){wa[++Ca]=t}(t),To(!0),r.firstCreatePass&&null===r.data[t+Nt]&&function(t,e,n,r,i){const s=e.blueprint.length-Nt;La=0;const o=Ee(),a=Te()?o:o&&o.parent;let c=a&&a!==t[6]?a.index-Nt:n,l=0;Ma[l]=c;const u=[];if(n>0&&o!==a){let t=o.index-Nt;Te()||(t=~t),u.push(t<<3|0)}const h=[],d=[];if(""===r&&Ga(i))u.push(r,Ha(s),c<<17|1);else{const t=function(t,e){if(Ga(e))return Ka(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ka(t.substring(n,r))}}(r,i),e=(f=t,f.replace(Va," ")).split(Ua);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=Ma[--l],u.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);u.push((e?t:~t)<<3|0,c<<17|1),e&&(Ma[++l]=c=t)}else{const e=Ya(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Ha(s);u.push(ba,"",i,c<<17|1);const o=qa(r);Wa(d,r,i,i);const a=d.length-1;h.push(za(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,o,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Da),i=Ha(s);u.push(r?"":t,i,c<<17|1),r&&ut(Ba(t,i),h)}}}}var f;La>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,La),e.data[n+Nt]={vars:La,create:u,update:h,icus:d.length?d:null}}(Ce(),r,t,i,n)})(t,e,n),function(){const t=Ce();(function(t,e){const n=wa[Ca--],r=t.data[n+Nt],i=Ee(),s=Ea(t,n,r.create,e);let o=n+1;for(;null!==i&&o<=i.index-Nt;){-1===s.indexOf(o)&&Aa(t,e,o,!0);const n=he(t,o);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(o+=n.localNames.length>>1),o++}})(Oe(),t),To(!1)}()}function Xa(t,e){const n=Ce(),r=Oe();!function(t,e,n,r){const i=Ee().index-Nt,s=[];for(let o=0;o<r.length;o+=2){const a=r[o],c=r[o+1].split(Pa);for(let r=0;r<c.length;r++){const o=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(Da))e.firstCreatePass&&null===e.data[n+Nt]&&ut(Ba(o,i,a),s);else{const n=he(e,i);2===n.type&&Ii(n,t,a,o,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Hi(e,t,r,a,o)}}}e.firstCreatePass&&null===e.data[n+Nt]&&(e.data[n+Nt]=s)}(n,r,t,ye(r.consts,e))}function Za(t){return Xs(Ce(),Pe(),t)&&(Oa|=1<<Sa),Sa++,Za}function tc(t){!function(t,e,n){if(Sa>0){const r=t.data[n+Nt];let i,s=null;Array.isArray(r)?i=r:(i=r.update,s=r.icus),xa(t,s,e,i,De()-Sa-1,Oa),Oa=0,Sa=0}}(Oe(),Ce(),t)}function ec(t,e,n,r,i){if(t=D(t),Array.isArray(t))for(let s=0;s<t.length;s++)ec(t[s],e,n,r,i);else{const s=Oe(),o=Ce();let a=Ns(t)?t:D(t.provide),c=Ds(t);const l=Ee(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ns(t)||!t.multi){const r=new on(c,i,io),f=ic(a,e,i?u:u+d,h);-1===f?(Cn(bn(l,o),s,a),nc(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ic(a,e,u+d,h),p=ic(a,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Cn(bn(l,o),s,a);const u=function(t,e,n,r,i){const s=new on(t,n,io);return s.multi=[],s.index=e,s.componentProviders=0,rc(s,i,r&&!n),s}(i?oc:sc,n.length,i,r,c);!i&&g&&(n[p].providerFactory=u),nc(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else nc(s,t,f>-1?f:p,rc(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function nc(t,e,n,r){const i=Ns(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function rc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ic(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function sc(t,e,n,r){return ac(this.multi,[])}function oc(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Tn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ac(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ac(i,s);return s}function ac(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function cc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Oe();if(r.firstCreatePass){const i=qt(t);ec(n,r.data,r.blueprint,i,!0),ec(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class lc{}class uc{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${I(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let hc=(()=>{class t{}return t.NULL=new uc,t})(),dc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>fc(t),t})();const fc=function(t){return gs(t,Ee(),Ce())};class pc{}var mc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let gc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>yc(),t})();const yc=function(){const t=Ce(),e=fe(Ee().index,t);return function(t){const e=t[11];if(oe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(e)?e:t)};let bc=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class _c{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vc=new _c("10.2.4");class wc{constructor(){}supports(t){return $s(t)}create(t){return new Oc(t)}}const Cc=(t,e)=>e;class Oc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Tc(n,r,i)?e:n,o=Tc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!$s(t))throw new Error(`Error trying to diff '${I(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Sc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Sc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ec{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ec,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ic{constructor(){}supports(t){return t instanceof Map||Ys(t)}create(){return new kc}}class kc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ys(t)))throw new Error(`Error trying to diff '${I(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ac(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ac{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Rc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new wc])}),t})(),Dc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Ic])}),t})();const Pc=[new Ic],jc=new Rc([new wc]),Nc=new Dc(Pc);let Lc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Mc(t,dc),t})();const Mc=function(t,e){return ys(t,e,Ee(),Ce())};let Fc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uc(t,dc),t})();const Uc=function(t,e){return bs(t,e,Ee(),Ce())},Vc={};class Bc extends hc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new zc(e,this.ngModule)}}function qc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Hc=new K("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kt});class zc extends lc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(qr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qc(this.componentDef.inputs)}get outputs(){return qc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Vc,i);return s!==Vc||r===Vc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(pc,ae),o=i.get(bc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(oe(t))return t.selectRootElement(e,n===_t.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ri(c,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?ne:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Kt,clean:Ui,playerHandler:null,flags:0},d=pi(0,null,null,1,0,null,null,null,null,null),f=ii(null,d,h,u,null,null,s,a,o,i);let p,m;Be(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=si(o,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Us(a,c,!0),null!==t&&(an(i,t,c),null!==a.classes&&us(i,t,a.classes),null!==a.styles&&ls(i,t,a.styles)));const l=r.createRenderer(t,e),u=ii(n,fi(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(Cn(bn(a,n),o,e.type),Oi(o,a),Ei(a,n.length,1)),ji(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)an(a,l,["ng-version",vc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&an(a,l,t),e&&e.length>0&&us(a,l,e.join(" "))}if(m=he(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ci(t,r,1),xi(t,e,n));const i=Tn(e,t,e.length-1,r);Ar(i,e);const s=ue(r,e);return s&&Ar(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ee();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Qe(a.index-Nt);const t=n[1];_i(t,e),vi(t,n,e.hostVars),wi(e,o)}return o}(t,this.componentDef,f,h,[Vs]),oi(d,f,null)}finally{Ke()}return new Gc(this.componentType,p,gs(dc,m,f),f,m)}}class Gc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ds(r),this.componentType=t}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Kc=new Map;class Wc extends ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);const n=jt(t),r=t[H]||null;r&&va(r),this._bootstrapComponents=Qt(n.bootstrap),this._r3Injector=ks(t,e,[{provide:ct,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],I(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ms.THROW_IF_NOT_FOUND,n=m.Default){return t===Ms||t===ct||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qc extends lt{constructor(t){super(),this.moduleType=t,null!==jt(t)&&function(t){const e=new Set;!function t(n){const r=jt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${I(e)} vs ${I(e.name)}`)}(i,Kc.get(i),n),Kc.set(i,n));const s=Qt(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Wc(this.moduleType,t)}}function $c(t,e,n){const r=Re()+t,i=Ce();return i[r]===Hr?Js(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Yc(t,e,n,r){return tl(Ce(),Re(),t,e,n,r)}function Jc(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Zs(t,a,i,s)?Js(t,a+2,o?r.call(o,i,s):r(i,s)):Zc(t,a+2)}(Ce(),Re(),t,e,n,r,i)}function Xc(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=Zs(t,e,n,r);return Xs(t,e+2,i)||s}(t,c,i,s,o)?Js(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Zc(t,c+3)}(Ce(),Re(),t,e,n,r,i,s)}function Zc(t,e){const n=t[e];return n===Hr?void 0:n}function tl(t,e,n,r,i,s){const o=e+n;return Xs(t,o,i)?Js(t,o+1,s?r.call(s,i):r(i)):Zc(t,o+1)}function el(t,e){const n=Oe();let r;const i=t+Nt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pt(r.type)),o=et(io);try{const e=gn(!1),r=s();return gn(e),function(t,e,n,r){const i=n+Nt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ce(),t,r),r}finally{et(o)}}function nl(t,e,n){const r=Ce(),i=de(r,t);return function(t,e){return Qs.isWrapped(e)&&(e=Qs.unwrap(e),t[De()]=Hr),e}(r,function(t,e){return t[1].data[e+Nt].pure}(r,t)?tl(r,Re(),e,i.transform,n,i):i.transform(n))}const rl=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function il(){return this._results[Ws()]()}class sl{constructor(){this.dirty=!0,this._results=[],this.changes=new rl,this.length=0;const t=Ws(),e=sl.prototype;e[t]||(e[t]=il)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ol{constructor(t){this.queryList=t,this.matches=null}clone(){return new ol(this.queryList)}setDirty(){this.queryList.setDirty()}}class al{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new al(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Sl(t,e).matches&&this.queries[e].setDirty()}}class cl{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ll{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ll(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ul{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ul(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,hl(e,i)),this.matchTNodeWithReadOption(t,e,xn(e,t,i,!1,!1))}else n===Lc?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,xn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===dc||r===Fc||r===Lc&&0===e.type)this.addMatch(e.index,-2);else{const n=xn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function hl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function dl(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?gs(dc,t,e):0===t.type?ys(Lc,dc,t,e):null}(e,t):-2===n?function(t,e,n){return n===dc?gs(dc,e,t):n===Lc?ys(Lc,dc,e,t):n===Fc?bs(Fc,dc,e,t):void 0}(t,e,r):Tn(t,t[1],n,e)}function fl(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:dl(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function pl(t){const e=Ce(),n=Oe(),r=Fe();Ue(r+1);const i=Sl(n,r);if(t.dirty&&me(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=fl(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=Lt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):fl(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function ml(t,e,n){yl(Oe(),Ce(),t,e,n,!0)}function gl(t,e,n){yl(Oe(),Ce(),t,e,n,!1)}function yl(t,e,n,r,i,s){t.firstCreatePass&&(Ol(t,new cl(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Cl(t,e)}function bl(t,e,n,r){vl(Oe(),Ce(),e,n,r,!1,Ee(),t)}function _l(t,e,n,r){vl(Oe(),Ce(),e,n,r,!0,Ee(),t)}function vl(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Ol(t,new cl(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Cl(t,e)}function wl(){return t=Ce(),e=Fe(),t[19].queries[e].queryList;var t,e}function Cl(t,e){const n=new sl;mi(t,e,n,n.destroy),null===e[19]&&(e[19]=new al),e[19].queries.push(new ol(n))}function Ol(t,e,n){null===t.queries&&(t.queries=new ll),t.queries.track(new ul(e,n))}function Sl(t,e){return t.queries.getByIndex(e)}function El(t,e){return ys(Lc,dc,t,e)}function xl(t=m.Default){const e=_s(!0);if(null!=e||t&m.Optional)return e;$t("ChangeDetectorRef")}const Tl=new K("Application Initializer");let Il=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();go(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt(Tl,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const kl=new K("AppId"),Al={provide:kl,useFactory:function(){return`${Rl()}${Rl()}${Rl()}`},deps:[]};function Rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dl=new K("Platform Initializer"),Pl=new K("Platform ID"),jl=new K("appBootstrapListener");let Nl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ll=new K("LocaleId"),Ml=new K("DefaultCurrencyCode");class Fl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ul=function(t){return new Qc(t)},Vl=Ul,Bl=function(t){return Promise.resolve(Ul(t))},ql=function(t){const e=Ul(t),n=Qt(jt(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new zc(n)),t},[]);return new Fl(e,n)},Hl=ql,zl=function(t){return Promise.resolve(ql(t))};let Gl=(()=>{class t{constructor(){this.compileModuleSync=Vl,this.compileModuleAsync=Bl,this.compileModuleAndAllComponentsSync=Hl,this.compileModuleAndAllComponentsAsync=zl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Kl=(()=>Promise.resolve(0))();function Wl(t){"undefined"==typeof Zone?Kl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ql{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rl(!1),this.onMicrotaskEmpty=new rl(!1),this.onStable=new rl(!1),this.onError=new rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xl(t),Jl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Zl(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),tu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Zl(t),e.invoke(r,i,s,o,a)}finally{tu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Xl(t),Jl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ql.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ql.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Yl,$l,$l);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function $l(){}const Yl={};function Jl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tu(t){t._nesting--,Jl(t)}class eu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rl,this.onMicrotaskEmpty=new rl,this.onStable=new rl,this.onError=new rl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let nu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ql.assertNotInAngularZone(),Wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(Ql))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),ru=(()=>{class t{constructor(){this._applications=new Map,au.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return au.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class iu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function su(t){au=t}let ou,au=new iu;const cu=new K("AllowMultipleToken");class lu{constructor(t,e){this.name=t,this.token=e}}function uu(t,e,n=[]){const r="Platform: "+e,i=new K(r);return(e=[])=>{let s=hu();if(!s||s.injector.get(cu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Os,useValue:"platform"});!function(t){if(ou&&!ou.destroyed&&!ou.injector.get(cu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ou=t.get(du);const e=t.get(Dl,null);e&&e.forEach(t=>t())}(Ms.create({providers:t,name:r}))}return function(t){const e=hu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hu(){return ou&&!ou.destroyed?ou:null}let du=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new eu:("zone.js"===t?void 0:t)||new Ql({enableLongStackTrace:Zn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ql,useValue:n}];return n.run(()=>{const e=Ms.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Ln,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>mu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return go(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Il);return t.runInitializers(),t.donePromise.then(()=>(va(i.injector.get(Ll,ga)||ga),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=fu({},e);return function(t,e,n){const r=new Qc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${I(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(Ms))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function fu(t,e){return Array.isArray(e)?e.reduce(fu,t):Object.assign(Object.assign({},t),e)}let pu=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Zn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ql.assertNotInAngularZone(),Wl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ql.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof lc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ct),i=n.create(Ms.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(nu,null);return s&&i.injector.get(ru).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Zn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),mu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(Ql),rt(Nl),rt(Ms),rt(Ln),rt(hc),rt(Il))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gu{}class yu{}const bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _u=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||bu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>vu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>vu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(rt(Gl),rt(yu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function vu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class wu extends vs{}class Cu extends wu{}const Ou=function(t){return null},Su=uu(null,"core",[{provide:Pl,useValue:"unknown"},{provide:du,deps:[Ms]},{provide:ru,deps:[]},{provide:Nl,deps:[]}]),Eu=[{provide:pu,useClass:pu,deps:[Ql,Nl,Ms,Ln,hc,Il]},{provide:Hc,deps:[Ql],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Il,useClass:Il,deps:[[new d,Tl]]},{provide:Gl,useClass:Gl,deps:[]},Al,{provide:Rc,useFactory:function(){return jc},deps:[]},{provide:Dc,useFactory:function(){return Nc},deps:[]},{provide:Ll,useFactory:function(t){return va(t=t||"undefined"!=typeof $localize&&$localize.locale||ga),t},deps:[[new h(Ll),new d,new p]]},{provide:Ml,useValue:"USD"}];let xu=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(rt(pu))},providers:Eu}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.3.1","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("8Y7J"),l=n("Jgta");function u(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.r("angularfire2.app.options"),_=new c.r("angularfire2.app.nameOrConfig"),v=new c.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[b,c.A,[new c.B,_]]};let x=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",v.full,t.toString()),l.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.cc(c.C))},providers:[E]}),t})()}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return u}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return M})),n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return D})),n.d(e,"i",(function(){return F})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return q})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return R})),n.d(e,"o",(function(){return g})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return _})),n.d(e,"r",(function(){return j})),n.d(e,"s",(function(){return v})),n.d(e,"t",(function(){return p})),n.d(e,"u",(function(){return m})),n.d(e,"v",(function(){return C})),n.d(e,"w",(function(){return b})),n.d(e,"x",(function(){return w})),n.d(e,"y",(function(){return A})),n.d(e,"z",(function(){return T})),n.d(e,"A",(function(){return N})),n.d(e,"B",(function(){return L})),n.d(e,"C",(function(){return P})),n.d(e,"D",(function(){return K})),n.d(e,"E",(function(){return G})),n.d(e,"F",(function(){return I})),n.d(e,"G",(function(){return B})),n.d(e,"H",(function(){return H})),n.d(e,"I",(function(){return z}));var r=n("mrSG"),i=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(u=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[u],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==c)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=o(t);return a.encodeByteArray(e,!0)},l=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return f().indexOf("Electron/")>=0}function v(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}var O=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,S.prototype.create),s}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?E(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new O(i,a,r);return c},t}();function E(t,e){return t.replace(x,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;function T(t){return JSON.parse(t)}function I(t){return JSON.stringify(t)}var k=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=T(l(s[0])||""),n=T(l(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},A=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},R=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin};function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function j(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function N(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function L(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""}var M=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^a&(c^l),s=1518500249):(i=a^c^l,s=1859775393):r<60?(i=a&c|l&(a|c),s=2400959708):(i=a^c^l,s=3395469782);var h=(o<<5|o>>>27)+i+u+s+n[r]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function F(t,e){var n=new U(t,e);return n.subscribe.bind(n)}var U=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function V(){}var B=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function q(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(q(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(q(t,e,r)+"must be a valid context object.")}var G=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);if(s>=55296&&s<=56319){var o=s-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),s=65536+(o<<10)+(t.charCodeAt(r)-56320)}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},K=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class u extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.j)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.h)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.h)(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.k)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.k)(e,t)},createSubscribe:o.i,ErrorFactory:o.b,deepExtend:o.k}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.o)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.u)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.cc)(u)}const l=new r.r("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u(Object(r.cc)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.cc)(o).location;return new _(Object(r.cc)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a),r.cc(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a),r.cc(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(g),r.cc(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Kb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.cc)(g),Object(r.cc)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.ob;class x{}let T=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.v))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.wb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.u),r.Ob(r.l),r.Ob(r.F))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let M=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),F=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(M,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),U=(()=>{class t{constructor(t,e,n){n._addDefault(new L(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.M),r.Ob(M,1))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),V=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.zb]}),t})();class B{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class q{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const H=new q,z=new B;let G=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return H;if(Object(r.sb)(e))return z;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ec())},t.\u0275pipe=r.Nb({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Nb({name:"json",type:t,pure:!1}),t})(),W=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:T}]}),t})();function Q(t){return"browser"===t}function $(t){return"server"===t}let Y=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new J(Object(r.cc)(o),window,Object(r.cc)(r.n))}),t})();class J{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Z,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=et||(et=document.querySelector("base"),et)?et.getAttribute("href"):null;return null==e?null:(n=e,tt||(tt=document.createElement("a")),tt.setAttribute("href",n),"/"===tt.pathname.charAt(0)?tt.pathname:"/"+tt.pathname);var n}resetBaseElement(){et=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let tt,et=null;const nt=new r.r("TRANSITION_ID"),rt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nt,o,r.s],multi:!0}];class it{static init(){Object(r.Z)(new it)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const st=new r.r("EventManagerPlugins");let ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(st),r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g;function dt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?dt(t,i,n):(i=i.replace(ht,t),n.push(i))}return n}function ft(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let pt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.S.Native:case r.S.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=dt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ot),r.cc(lt),r.cc(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ut[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ut[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ut[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.H.DashCase?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ft(n)):this.eventManager.addEventListener(t,e,ft(n))}}class gt extends mt{constructor(t,e,n,r){super(t),this.component=n;const i=dt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ht,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ht,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class yt extends mt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.S.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=dt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bt=(()=>{class t extends at{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const _t=["alt","control","meta","shift"],vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ot=(()=>{class t extends at{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(_t.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&wt.hasOwnProperty(e)&&(e=wt[e]))}return vt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_t.forEach(r=>{r!=n&&(0,Ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.cc)(Et)},token:t,providedIn:"root"}),t})(),Et=(()=>{class t extends St{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.fb)(e,"HTML")?Object(r.xb)(e):Object(r.db)(this._doc,String(e));case r.J.STYLE:return Object(r.fb)(e,"Style")?Object(r.xb)(e):e;case r.J.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.xb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.xb)(e):Object(r.eb)(String(e));case r.J.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.xb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.cc)(r.p),new Et(t.get(o));var t},token:t,providedIn:"root"}),t})();const xt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Z.makeCurrent(),it.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],Tt=Object(r.T)(r.Y,"browser",xt),It=[[],{provide:r.bb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:st,useClass:bt,multi:!0,deps:[o,r.A,r.C]},{provide:st,useClass:Ot,multi:!0,deps:[o]},[],{provide:pt,useClass:pt,deps:[ot,lt,r.c]},{provide:r.G,useExisting:pt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:ot,useClass:ot,deps:[st,r.A]},[]];let kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:nt,useExisting:r.c},rt]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(t,12))},providers:It,imports:[W,r.f]}),t})();"undefined"!=typeof window&&window;class At{}const Rt="*";function Dt(t,e){return{type:7,name:t,definitions:e,options:{}}}function Pt(t,e=null){return{type:4,styles:e,timings:t}}function jt(t,e=null){return{type:3,steps:t,options:e}}function Nt(t,e=null){return{type:2,steps:t,options:e}}function Lt(t){return{type:6,styles:t,offset:null}}function Mt(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ft(t){return{type:5,steps:t}}function Ut(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Vt(t=null){return{type:9,options:t}}function Bt(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function qt(t){Promise.resolve(null).then(t)}class Ht{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Gt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kt(t){switch(t.length){case 0:return new Ht;case 1:return t[0];default:return new zt(t)}}function Wt(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Rt:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Qt(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&$t(n,"start",t)));break;case"done":t.onDone(()=>r(n&&$t(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&$t(n,"destroy",t)))}}function $t(t,e,n){const r=n.totalTime,i=Yt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Yt(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Jt(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Xt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Zt=(t,e)=>!1,te=(t,e)=>!1,ee=(t,e,n)=>[];const ne=Gt();(ne||"undefined"!=typeof Element)&&(Zt=(t,e)=>t.contains(e),te=(()=>{if(ne||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):te}})(),ee=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let re=null,ie=!1;function se(t){re||(re=("undefined"!=typeof document?document.body:null)||{},ie=!!re.style&&"WebkitAppearance"in re.style);let e=!0;return re.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in re.style,!e&&ie)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in re.style),e}const oe=te,ae=Zt,ce=ee;function le(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let ue=(()=>{class t{validateStyleProperty(t){return se(t)}matchesElement(t,e){return oe(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ht(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{}return t.NOOP=new ue,t})();const de="ng-enter",fe="ng-leave",pe="ng-trigger",me=".ng-trigger",ge="ng-animating",ye=".ng-animating";function be(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_e(parseFloat(e[1]),e[2])}function _e(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ve(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=_e(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=_e(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function we(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ce(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else we(t,n);return n}function Oe(t,e,n){return n?e+":"+n+";":""}function Se(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Oe(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Oe(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ee(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Pe(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Gt()&&Se(t))}function xe(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Pe(e);t.style[n]=""}),Gt()&&Se(t))}function Te(t){return Array.isArray(t)?1==t.length?t[0]:Nt(t):t}const Ie=new RegExp("{{\\s*(.+?)\\s*}}","g");function ke(t){let e=[];if("string"==typeof t){let n;for(;n=Ie.exec(t);)e.push(n[1]);Ie.lastIndex=0}return e}function Ae(t,e,n){const r=t.toString(),i=r.replace(Ie,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Re(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const De=/-+([a-z0-9])/g;function Pe(t){return t.replace(De,(...t)=>t[1].toUpperCase())}function je(t,e){return 0===t||0===e}function Ne(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Me(t,e)}))}}return e}function Le(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Me(t,e){return window.getComputedStyle(t)[e]}const Fe="*";function Ue(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(qe(i,o)),"<"!=s[0]||i==Fe&&o==Fe||e.push(qe(o,i))}(t,n,e)):n.push(t),n}const Ve=new Set(["true","1"]),Be=new Set(["false","0"]);function qe(t,e){const n=Ve.has(t)||Be.has(t),r=Ve.has(e)||Be.has(e);return(i,s)=>{let o=t==Fe||t==i,a=e==Fe||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ve.has(t):Be.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ve.has(e):Be.has(e)),o&&a}}const He=new RegExp("s*:selfs*,?","g");function ze(t,e,n){return new Ge(t).build(e,n)}class Ge{constructor(t){this._driver=t}build(t,e){const n=new Ke(e);return this._resetContextStyleTimingState(n),Le(this,Te(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(We(t)){const e=t;Object.keys(e).forEach(t=>{ke(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Re(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Le(this,Te(t.animation),e);return{type:1,matchers:Ue(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Qe(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Le(this,t,e)),options:Qe(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Le(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Qe(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $e(ve(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=$e(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||ve(r,e),$e(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Lt({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Lt(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Rt?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(We(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ke(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(We(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(We(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Le(this,Te(t.animation),e),options:Qe(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qe(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qe(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(He,"")),[t=t.replace(/@\*/g,me).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ye),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Jt(e.collectedStyles,e.currentQuerySelector,{});const o=Le(this,Te(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Qe(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ve(t.timings,e.errors,!0);return{type:12,animation:Le(this,Te(t.animation),e),timings:n,options:null}}}class Ke{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function We(t){return!Array.isArray(t)&&"object"==typeof t}function Qe(t){var e;return t?(t=we(t)).params&&(t.params=(e=t.params)?we(e):null):t={},t}function $e(t,e,n){return{duration:t,delay:e,easing:n}}function Ye(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Je{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Xe=new RegExp(":enter","g"),Ze=new RegExp(":leave","g");function tn(t,e,n,r,i,s={},o={},a,c,l=[]){return(new en).buildKeyframes(t,e,n,r,i,s,o,a,c,l)}class en{buildKeyframes(t,e,n,r,i,s,o,a,c,l=[]){c=c||new Je;const u=new rn(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Le(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ye(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?be(n.duration):null,s=null!=n.delay?be(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Le(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nn);const t=be(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Le(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?be(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Le(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ve(e.params?Ae(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?be(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nn);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Le(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Le(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const nn={};class rn{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new sn(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=be(n.duration)),null!=n.delay&&(r.delay=be(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ae(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new rn(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=nn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new on(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Xe,"."+this._enterClassName)).replace(Ze,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class sn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new sn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Rt,this._currentKeyframe[t]=Rt}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Rt})):Ce(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Ae(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Rt),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Ce(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Rt&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Re(t.values()):[],s=e.size?Re(e.values()):[];if(n){const t=r[0],e=we(t);t.offset=0,e.offset=1,r=[t,e]}return Ye(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class on extends sn{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Ce(t[0],!1);a.offset=0,i.push(a);const c=Ce(t[0],!1);c.offset=an(o),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let o=Ce(t[r],!1);o.offset=an((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ye(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function an(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class cn{}class ln extends cn{normalizePropertyName(t,e){return Pe(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(un[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const un=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function hn(t,e,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const dn={};class fn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||dn,d=this.buildStyles(n,o&&o.params||dn,u),f=a&&a.params||dn,p=this.buildStyles(r,f,u),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=l?[]:tn(t,e,this.ast.animation,i,s,d,p,_,c,u);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return hn(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,u);v.forEach(t=>{const n=t.element,r=Jt(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Jt(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=Re(m.values());return hn(e,this._triggerName,n,r,b,d,p,v,C,g,y,w)}}class pn{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=we(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Ae(s,r,e)),n[t]=s})}}),n}}class mn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new pn(t.style,t.options&&t.options.params||{})}),gn(this.states,"true","1"),gn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new fn(t,e,this.states))}),this.fallbackTransition=new fn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function gn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const yn=new Je;class bn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ze(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Wt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=tn(this._driver,e,i,de,fe,{},{},n,yn,r),s.forEach(t=>{const e=Jt(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Rt)})});const a=Kt(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Yt(e,"","","");return Qt(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _n="ng-animate-queued",vn="ng-animate-disabled",wn=".ng-animate-disabled",Cn=[],On={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class En{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=we(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const xn="void",Tn=new En(xn);class In{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Jt(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Jt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Nn(t,pe),Nn(t,"ng-trigger-"+e),a[e]=Tn),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new An(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Nn(t,pe),Nn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new En(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Tn),c.value!==xn&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{xe(t,n),Ee(t,r)})}return}const l=Jt(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Nn(t,_n),s.onStart(()=>{Ln(t,_n)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,me,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,xn,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Kt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Tn,o=new En(xn),a=new An(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==On||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Nn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Yt(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Qt(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class kn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new In(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Rn(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Rn(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nn(t,vn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ln(t,vn))}removeNode(t,e,n,r){if(Rn(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Rn(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,me,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ye,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=On,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,wn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,wn,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Nn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Kt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Je,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=jn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=de+p++;f.set(e,n),t.forEach(t=>Nn(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,_=jn(h,Array.from(g));_.forEach((t,e)=>{const n=fe+p++;b.set(e,n),t.forEach(t=>Nn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Ln(t,n))}),_.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Ln(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>xe(i,p.fromStyles)),e.onDestroy(()=>Ee(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>xe(i,p.fromStyles)),e.onDestroy(()=>Ee(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Jt(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Jt(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Fn(t,a,c)),E=new Map;Pn(E,this.driver,y,c,Rt).forEach(t=>{Fn(t,a,c)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{Pn(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=E.get(t),n=x.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const T=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>Ee(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,x,E);if(s.setRealPlayer(n),t===k)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Kt(e)),r.push(s)}}else xe(e,o.fromStyles),s.onDestroy(()=>Ee(e,o.toStyles)),I.push(s),l.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Kt(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Ln(t,fe),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,ye,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Mn(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==xn;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Jt(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}xe(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ht(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof zt?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Cn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Wt(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&u.add(h),f){const e=new An(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Jt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Nn(t,ge));const d=Kt(h);return d.onDestroy(()=>{l.forEach(t=>Ln(t,ge)),Ee(a,e.toStyles)}),u.forEach(t=>{Jt(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ht(t.duration,t.delay)}}class An{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ht,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Qt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Jt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rn(t){return t&&1===t.nodeType}function Dn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Pn(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Dn(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Sn,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Dn(t,s[a++])),o}function jn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Nn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ln(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Mn(t,e,n){Kt(n).onDone(()=>t.processLeaveNode(e))}function Fn(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Un{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new kn(t,e,n),this._timelineEngine=new bn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ze(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new mn(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Xt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Xt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Vn(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=qn(e[0]),e.length>1&&(r=qn(e[e.length-1]))):e&&(n=qn(e)),n||r?new Bn(t,n,r):null}let Bn=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ee(this._element,this._initialStyles),this._endStyles&&(Ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(xe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xe(this._element,this._endStyles),this._endStyles=null),Ee(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qn(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Hn(i)&&(e=e||{},e[i]=t[i])}return e}function Hn(t){return"display"===t||"position"===t}const zn="animation",Gn="animationend";class Kn{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Xn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Yn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Wn(this._element,this._name,"paused")}resume(){Wn(this._element,this._name,"running")}setPosition(t){const e=Qn(this._element,this._name);this._position=t*this._duration,Jn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Yn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Xn(t,"").split(","),r=$n(n,e);r>=0&&(n.splice(r,1),Jn(t,"",n.join(",")))}(this._element,this._name))}}function Wn(t,e,n){Jn(t,"PlayState",n,Qn(t,e))}function Qn(t,e){const n=Xn(t,"");return n.indexOf(",")>0?$n(n.split(","),e):$n([n],e)}function $n(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Yn(t,e,n){n?t.removeEventListener(Gn,e):t.addEventListener(Gn,e)}function Jn(t,e,n,r){const i=zn+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Xn(t,e){return t.style[zn+e]}class Zn{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Kn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Me(this.element,n))})}this.currentSnapshot=t}}class tr extends Ht{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=le(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class er{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return se(t)}matchesElement(t,e){return oe(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>le(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Zn),c={};je(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ne(t,e,c));if(0==n)return new tr(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Vn(t,e),f=new Zn(t,e,u,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class nr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Me(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class rr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ir().toString()),this._cssKeyframesDriver=new er}validateStyleProperty(t){return se(t)}matchesElement(t,e){return oe(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(t=>t instanceof nr);je(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=Vn(t,e=Ne(t,e=e.map(t=>Ce(t,!1)),c));return new nr(t,e,a,u)}}function ir(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let sr=(()=>{class t extends At{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Nt(t):t;return cr(this._renderer,null,e,"register",[n]),new or(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.G),r.cc(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class or extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ar(this._id,t,e||{},this._renderer)}}class ar{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cr(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function cr(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const lr="@",ur="@.disabled";let hr=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new dr("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new fr(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.G),r.cc(Un),r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class dr{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==lr&&e==ur?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fr extends dr{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==lr?"."==e.charAt(1)&&e==ur?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==lr){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=lr&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let pr=(()=>{class t extends Un{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o),r.cc(he),r.cc(cn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const mr=new r.r("AnimationModuleType"),gr=[{provide:he,useFactory:function(){return"function"==typeof ir()?new rr:new er}},{provide:mr,useValue:"BrowserAnimations"},{provide:At,useClass:sr},{provide:cn,useFactory:function(){return new ln}},{provide:Un,useClass:pr},{provide:r.G,useFactory:function(t,e,n){return new hr(t,e,n)},deps:[pt,Un,r.A]}];let yr=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:gr,imports:[kt]}),t})();var br=n("HDdC"),_r=n("DH7j"),vr=n("lJxs"),wr=n("XoHu"),Cr=n("Cfvw");function Or(...t){if(1===t.length){const e=t[0];if(Object(_r.a)(e))return Sr(e,null);if(Object(wr.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Sr(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Sr(t=1===t.length&&Object(_r.a)(t[0])?t[0]:t,null).pipe(Object(vr.a)(t=>e(...t)))}return Sr(t,null)}function Sr(t,e){return new br.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Cr.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Er=new r.r("NgValueAccessor"),xr={provide:Er,useExisting:Object(r.V)(()=>Tr),multi:!0};let Tr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([xr])]}),t})();const Ir={provide:Er,useExisting:Object(r.V)(()=>Ar),multi:!0},kr=new r.r("CompositionEventMode");let Ar=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l),r.Ob(kr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.fc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([Ir])]}),t})(),Rr=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),Dr=(()=>{class t extends Rr{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Pr(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.yb]}),t})();const Pr=r.Wb(Dr);class jr extends Rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Nr{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Lr=(()=>{class t extends Nr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(jr,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})(),Mr=(()=>{class t extends Nr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dr,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),t})();function Fr(t){return null==t||0===t.length}function Ur(t){return null!=t&&"number"==typeof t.length}const Vr=new r.r("NgValidators"),Br=new r.r("NgAsyncValidators"),qr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hr{static min(t){return e=>{if(Fr(e.value)||Fr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Fr(e.value)||Fr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Fr(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Fr(t.value)||qr.test(t.value)?null:{email:!0}}static minLength(t){return e=>Fr(e.value)||!Ur(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ur(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Hr.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Fr(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(zr);return 0==e.length?null:function(t){return Kr(Wr(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(zr);return 0==e.length?null:function(t){return Or(Wr(t,e).map(Gr)).pipe(Object(vr.a)(Kr))}}}function zr(t){return null!=t}function Gr(t){const e=Object(r.tb)(t)?Object(Cr.a)(t):t;return Object(r.sb)(e),e}function Kr(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Wr(t,e){return e.map(e=>e(t))}function Qr(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const $r={provide:Er,useExisting:Object(r.V)(()=>Yr),multi:!0};let Yr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([$r])]}),t})();const Jr={provide:Er,useExisting:Object(r.V)(()=>Zr),multi:!0};let Xr=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(jr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l),r.Ob(Xr),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([Jr])]}),t})();const ti={provide:Er,useExisting:Object(r.V)(()=>ei),multi:!0};let ei=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([ti])]}),t})();const ni={provide:Er,useExisting:Object(r.V)(()=>ri),multi:!0};let ri=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([ni])]}),t})();const ii={provide:Er,useExisting:Object(r.V)(()=>si),multi:!0};let si=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.F),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([ii])]}),t})();function oi(t,e){return[...e.path,t]}function ai(t,e){t.validator=Hr.compose([t.validator,e.validator]),t.asyncValidator=Hr.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ci(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ci(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function ci(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function li(t,e){t.validator=Hr.compose([t.validator,e.validator]),t.asyncValidator=Hr.composeAsync([t.asyncValidator,e.asyncValidator])}function ui(t){return null!=t?Hr.compose(Qr(t)):null}function hi(t){return null!=t?Hr.composeAsync(Qr(t)):null}function di(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const fi=[Tr,ei,Yr,ri,si,Zr];function pi(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function mi(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ar?n=t:(e=t,fi.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function gi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yi="VALID",bi="INVALID",_i="PENDING",vi="DISABLED";function wi(t){return(Ei(t)?t.validators:t)||null}function Ci(t){return Array.isArray(t)?ui(t):t||null}function Oi(t,e){return(Ei(e)?e.asyncValidators:t)||null}function Si(t){return Array.isArray(t)?hi(t):t||null}function Ei(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xi{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ci(this._rawValidators),this._composedAsyncValidatorFn=Si(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yi}get invalid(){return this.status===bi}get pending(){return this.status==_i}get disabled(){return this.status===vi}get enabled(){return this.status!==vi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ci(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Si(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_i,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vi,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yi,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==yi&&this.status!==_i||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vi:yi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_i,this._hasOwnPendingAsyncValidator=!0;const e=Gr(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ii?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ki&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?vi:this.errors?bi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_i)?_i:this._anyControlsHaveStatus(bi)?bi:yi}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ei(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ti extends xi{constructor(t=null,e,n){super(wi(e),Oi(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ii extends xi{constructor(t,e,n){super(wi(e),Oi(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ti?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ki extends xi{constructor(t,e,n){super(wi(e),Oi(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ti?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ai={provide:Dr,useExisting:Object(r.V)(()=>Di)},Ri=(()=>Promise.resolve(null))();let Di=(()=>{class t extends Dr{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Ii({},ui(t),hi(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ri.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ai(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ri.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),gi(this._directives,t)})}addFormGroup(t){Ri.then(()=>{const e=this._findContainer(t.path),n=new Ii({});li(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ri.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ri.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,pi(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vr,10),r.Ob(Br,10))},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.fc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Ai]),r.yb]}),t})();const Pi={provide:jr,useExisting:Object(r.V)(()=>Ni)},ji=(()=>Promise.resolve(null))();let Ni=(()=>{class t extends jr{constructor(t,e,n,i){super(),this.control=new Ti,this._registered=!1,this.update=new r.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=mi(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),di(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?oi(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ui(this._rawValidators)}get asyncValidator(){return hi(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ai(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ji.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ji.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dr,9),r.Ob(Vr,10),r.Ob(Br,10),r.Ob(Er,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([Pi]),r.yb,r.zb]}),t})(),Li=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Mi=new r.r("NgModelWithFormControlWarning"),Fi={provide:Dr,useExisting:Object(r.V)(()=>Ui)};let Ui=(()=>{class t extends Dr{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ai(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){gi(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);li(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);li(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,pi(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ai(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=ui(this._validators);this.form.validator=Hr.compose([this.form.validator,t]);const e=hi(this._asyncValidators);this.form.asyncValidator=Hr.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vr,10),r.Ob(Br,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.fc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([Fi]),r.yb,r.zb]}),t})();const Vi={provide:jr,useExisting:Object(r.V)(()=>Bi)};let Bi=(()=>{class t extends jr{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=mi(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),di(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.X)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return oi(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ui(this._rawValidators)}get asyncValidator(){return hi(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dr,13),r.Ob(Vr,10),r.Ob(Br,10),r.Ob(Er,10),r.Ob(Mi,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([Vi]),r.yb,r.zb]}),t._ngModelWarningSentOnce=!1,t})(),qi=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),Hi=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ii(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Ti(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new ki(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ti||t instanceof Ii||t instanceof ki?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),zi=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Xr],imports:[qi]}),t})(),Gi=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Mi,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Hi,Xr],imports:[qi]}),t})();var Ki=n("LRne"),Wi=n("XNiG"),Qi=n("9ppp");class $i extends Wi.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qi.a;return this._value}next(t){super.next(this._value=t)}}var Yi=n("z+Ro"),Ji=n("7o/Q");class Xi extends Ji.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Zi extends Ji.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ts=n("SeVD");function es(t,e,n,r,i=new Zi(t,n,r)){if(!i.closed)return e instanceof br.a?e.subscribe(i):Object(ts.a)(e)(i)}var ns=n("yCtX");const rs={};function is(...t){let e=void 0,n=void 0;return Object(Yi.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_r.a)(t[0])&&(t=t[0]),Object(ns.a)(t,n).lift(new ss(e))}class ss{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new os(t,this.resultSelector))}}class os extends Xi{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(rs),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(es(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===rs?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const as=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var cs=n("EY2u");function ls(t){return new br.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Cr.a)(n):Object(cs.b)()).subscribe(e)})}var us=n("bHdf");function hs(){return Object(us.a)(1)}function ds(t,e){return function(n){return n.lift(new fs(t,e))}}class fs{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ps(t,this.predicate,this.thisArg))}}class ps extends Ji.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ms=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function gs(t){return function(e){return 0===t?Object(cs.b)():e.lift(new ys(t))}}class ys{constructor(t){if(this.total=t,this.total<0)throw new ms}call(t,e){return e.subscribe(new bs(t,this.total))}}class bs extends Ji.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function _s(t=Cs){return e=>e.lift(new vs(t))}class vs{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ws(t,this.errorFactory))}}class ws extends Ji.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(cO){t=cO}this.destination.error(t)}}}function Cs(){return new as}function Os(t=null){return e=>e.lift(new Ss(t))}class Ss{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Es(t,this.defaultValue))}}class Es extends Ji.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var xs=n("SpAZ"),Ts=n("zx2A");function Is(t,e){return"function"==typeof e?n=>n.pipe(Is((n,r)=>Object(Cr.a)(t(n,r)).pipe(Object(vr.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ks(t))}class ks{constructor(t){this.project=t}call(t,e){return e.subscribe(new As(t,this.project))}}class As extends Ts.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ts.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ts.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Rs(t){return e=>0===t?Object(cs.b)():e.lift(new Ds(t))}class Ds{constructor(t){if(this.total=t,this.total<0)throw new ms}call(t,e){return e.subscribe(new Ps(t,this.total))}}class Ps extends Ji.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function js(...t){return hs()(Object(Ki.a)(...t))}function Ns(...t){const e=t[t.length-1];return Object(Yi.a)(e)?(t.pop(),n=>js(t,n,e)):e=>js(t,e)}function Ls(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ms(t,e,n))}}class Ms{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Fs(t,this.accumulator,this.seed,this.hasSeed))}}class Fs extends Ji.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Us(t){return function(e){const n=new Vs(t),r=e.lift(n);return n.caught=r}}class Vs{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Bs(t,this.selector,this.caught))}}class Bs extends Ts.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ts.a(this);this.add(r);const i=Object(Ts.c)(n,r);i!==r&&this.add(i)}}}var qs=n("5+tZ");function Hs(t,e){return Object(qs.a)(t,e,1)}function zs(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ds((e,n)=>t(e,n,r)):xs.a,Rs(1),n?Os(e):_s(()=>new as))}var Gs=n("vkgz"),Ks=n("quSY");function Ws(t){return e=>e.lift(new Qs(t))}class Qs{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $s(t,this.callback))}}class $s extends Ji.a{constructor(t,e){super(t),this.add(new Ks.a(e))}}class Ys{constructor(t,e){this.id=t,this.url=e}}class Js extends Ys{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends Ys{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zs extends Ys{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class to extends Ys{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eo extends Ys{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class no extends Ys{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ro extends Ys{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class io extends Ys{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends Ys{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ao{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class co{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const po="primary";class mo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function go(t){return new mo(t)}function yo(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function bo(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _o(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vo(t[i],e[i]))return!1;return!0}function vo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function wo(t){return Array.prototype.concat.apply([],t)}function Co(t){return t.length>0?t[t.length-1]:null}function Oo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function So(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Cr.a)(Promise.resolve(t)):Object(Ki.a)(t)}function Eo(t,e,n){return n?function(t,e){return _o(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ko(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vo(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ko(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ko(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!ko(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class xo{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=go(this.queryParams)),this._queryParamMap}toString(){return Po.serialize(this)}}class To{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oo(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jo(this)}}class Io{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=go(this.parameters)),this._parameterMap}toString(){return Vo(this)}}function ko(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ao(t,e){let n=[];return Oo(t.children,(t,r)=>{r===po&&(n=n.concat(e(t,r)))}),Oo(t.children,(t,r)=>{r!==po&&(n=n.concat(e(t,r)))}),n}class Ro{}class Do{parse(t){const e=new Go(t);return new xo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return jo(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Oo(e.children,(e,n)=>{n!==po&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ao(e,(n,r)=>r===po?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${jo(e)}/${n[0]}`:`${jo(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lo(e)}=${Lo(t)}`).join("&"):`${Lo(e)}=${Lo(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Po=new Do;function jo(t){return t.segments.map(t=>Vo(t)).join("/")}function No(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lo(t){return No(t).replace(/%3B/gi,";")}function Mo(t){return No(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(t){return decodeURIComponent(t)}function Uo(t){return Fo(t.replace(/\+/g,"%20"))}function Vo(t){return`${Mo(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Mo(t)}=${Mo(e[t])}`).join("")}`;var e}const Bo=/^[^\/()?;=#]+/;function qo(t){const e=t.match(Bo);return e?e[0]:""}const Ho=/^[^=?&#]+/,zo=/^[^?&#]+/;class Go{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new To([],{}):new To([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new To(t,e)),n}parseSegment(){const t=qo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Io(Fo(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=qo(this.remaining);t&&(n=t,this.capture(n))}t[Fo(e)]=Fo(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ho);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(zo);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Uo(e),i=Uo(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=qo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=po);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new To([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ko{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Wo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Wo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qo(t,this._root).map(t=>t.value)}}function Wo(t,e){if(t===e.value)return e;for(const n of e.children){const e=Wo(t,n);if(e)return e}return null}function Qo(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qo(t,n);if(r.length)return r.unshift(e),r}return[]}class $o{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yo(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jo extends Ko{constructor(t,e){super(t),this.snapshot=e,ra(this,t)}toString(){return this.snapshot.toString()}}function Xo(t,e){const n=function(t,e){const n=new ea([],{},{},"",{},po,e,null,t.root,-1,{});return new na("",new $o(n,[]))}(t,e),r=new $i([new Io("",{})]),i=new $i({}),s=new $i({}),o=new $i({}),a=new $i(""),c=new Zo(r,i,o,a,s,po,e,n.root);return c.snapshot=n.root,new Jo(new $o(c,[]),n)}class Zo{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(vr.a)(t=>go(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(vr.a)(t=>go(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ta(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ea{constructor(t,e,n,r,i,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=go(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=go(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class na extends Ko{constructor(t,e){super(e),this.url=t,ra(this,e)}toString(){return ia(this._root)}}function ra(t,e){e.value._routerState=t,e.children.forEach(e=>ra(t,e))}function ia(t){const e=t.children.length>0?` { ${t.children.map(ia).join(", ")} } `:"";return`${t.value}${e}`}function sa(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_o(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_o(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_o(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_o(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function oa(t,e){return _o(t.params,e.params)&&function(t,e){return ko(t,e)&&t.every((t,n)=>_o(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||oa(t.parent,e.parent))}function aa(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ca(t){return"object"==typeof t&&null!=t&&t.outlets}function la(t,e,n,r,i){let s={};return r&&Oo(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new xo(n.root===t?e:function t(e,n,r){const i={};return Oo(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new To(e.segments,i)}(n.root,t,e),s,i)}class ua{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&aa(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ca);if(r&&r!==Co(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ha{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function da(t,e,n){if(t||(t=new To([],{})),0===t.segments.length&&t.hasChildren())return fa(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(ca(o))break;const a=""+o,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ya(a,c,e))return s;r+=2}else{if(!ya(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new To(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new To(t.segments.slice(r.pathIndex),t.children),fa(e,0,i)}return r.match&&0===i.length?new To(t.segments,{}):r.match&&!t.hasChildren()?pa(t,e,n):r.match?fa(t,0,i):pa(t,e,n)}function fa(t,e,n){if(0===n.length)return new To(t.segments,{});{const r=function(t){return ca(t[0])?t[0].outlets:{[po]:t}}(n),i={};return Oo(r,(n,r)=>{null!==n&&(i[r]=da(t.children[r],e,n))}),Oo(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new To(t.segments,i)}}function pa(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ca(s)){const t=ma(s.outlets);return new To(r,t)}if(0===i&&aa(n[0])){r.push(new Io(t.segments[e].path,n[0])),i++;continue}const o=ca(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&aa(a)?(r.push(new Io(o,ga(a))),i+=2):(r.push(new Io(o,{})),i++)}return new To(r,{})}function ma(t){const e={};return Oo(t,(t,n)=>{null!==t&&(e[n]=pa(new To([],{}),0,t))}),e}function ga(t){const e={};return Oo(t,(t,n)=>e[n]=""+t),e}function ya(t,e,n){return t==n.path&&_o(e,n.parameters)}class ba{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),sa(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yo(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Oo(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Yo(t),i=t.value.component?n.children:e;Oo(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Yo(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ho(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lo(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(sa(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_a(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _a(t){sa(t.value),t.children.forEach(_a)}class va{constructor(t,e){this.routes=t,this.module=e}}function wa(t){return"function"==typeof t}function Ca(t){return t instanceof xo}const Oa=Symbol("INITIAL_VALUE");function Sa(){return Is(t=>is(...t.map(t=>t.pipe(Rs(1),Ns(Oa)))).pipe(Ls((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Oa)return t;if(r===Oa&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ca(r))return r}return t},t)},Oa),ds(t=>t!==Oa),Object(vr.a)(t=>Ca(t)?t:!0===t),Rs(1)))}class Ea{constructor(t){this.segmentGroup=t||null}}class xa{constructor(t){this.urlTree=t}}function Ta(t){return new br.a(e=>e.error(new Ea(t)))}function Ia(t){return new br.a(e=>e.error(new xa(t)))}function ka(t){return new br.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Aa{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,po).pipe(Object(vr.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Us(t=>{if(t instanceof xa)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ea)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,po).pipe(Object(vr.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Us(t=>{if(t instanceof Ea)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new To([],{[po]:t}):t;return new xo(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(vr.a)(t=>new To([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Ki.a)({});const n=[],r=[],i={};return Oo(t,(t,s)=>{const o=e(s,t).pipe(Object(vr.a)(t=>i[s]=t));s===po?n.push(o):r.push(o)}),Ki.a.apply(null,n.concat(r)).pipe(hs(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ds((e,n)=>t(e,n,r)):xs.a,gs(1),n?Os(e):_s(()=>new as))}(),Object(vr.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Ki.a)(...n).pipe(Hs(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Us(t=>{if(t instanceof Ea)return Object(Ki.a)(null);throw t}))),zs(t=>!!t),Us((t,n)=>{if(t instanceof as||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Ki.a)(new To([],{}));throw new Ea(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return ja(r)!==s?Ta(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Ta(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ia(i):this.lineralizeSegments(n,i).pipe(Object(qs.a)(n=>{const i=new To(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Ra(e,r,i);if(!o)return Ta(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Ia(u):this.lineralizeSegments(r,u).pipe(Object(qs.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(vr.a)(t=>(n._loadedConfig=t,new To(r,{})))):Object(Ki.a)(new To(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Ra(e,n,r);if(!i)return Ta(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(qs.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Pa(t,e,n)&&ja(n)!==po)}(t,n,r)?{segmentGroup:Da(new To(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ja(r)!==po&&(n[ja(r)]=new To([],{}));return n}(r,new To(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Pa(t,e,n))}(t,n,r)?{segmentGroup:Da(new To(t.segments,function(t,e,n,r){const i={};for(const s of n)Pa(t,e,s)&&!r[ja(s)]&&(i[ja(s)]=new To([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(vr.a)(t=>new To(s,t))):0===r.length&&0===o.length?Object(Ki.a)(new To(s,{})):this.expandSegment(n,i,r,o,po,!0).pipe(Object(vr.a)(t=>new To(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ki.a)(new va(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ki.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(qs.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(vr.a)(t=>(e._loadedConfig=t,t))):function(t){return new br.a(e=>e.error(yo(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ki.a)(new va([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ki.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&wa(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!wa(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return So(s)});return Object(Ki.a)(i).pipe(Sa(),Object(Gs.a)(t=>{if(!Ca(t))return;const e=yo(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(vr.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ki.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ka(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new xo(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Oo(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Oo(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new To(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ra(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||bo)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Da(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new To(t.segments.concat(e.segments),e.children)}return t}function Pa(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ja(t){return t.outlet||po}class Na{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class La{constructor(t,e){this.component=t,this.route=e}}function Ma(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yo(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ko(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(t.url,e.url)||!_o(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oa(t,e)||!_o(t.queryParams,e.queryParams);case"paramsChange":default:return!oa(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new Na(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?c?c.children:null:r,i,s),l&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new La(c.outlet.component,a))}else a&&Ua(n,c,s),s.canActivateChecks.push(new Na(i)),t(e,null,o.component?c?c.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Oo(o,(t,e)=>Ua(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Fa(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ua(t,e,n){const r=Yo(t),i=t.value;Oo(r,(t,r)=>{Ua(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new La(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Va(t,e){return null!==t&&e&&e(new uo(t)),Object(Ki.a)(!0)}function Ba(t,e){return null!==t&&e&&e(new co(t)),Object(Ki.a)(!0)}function qa(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ki.a)(!0);const i=r.map(r=>ls(()=>{const i=Fa(r,e,n);let s;if(function(t){return t&&wa(t.canActivate)}(i))s=So(i.canActivate(e,t));else{if(!wa(i))throw new Error("Invalid CanActivate guard");s=So(i(e,t))}return s.pipe(zs())}));return Object(Ki.a)(i).pipe(Sa())}function Ha(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ls(()=>{const i=e.guards.map(i=>{const s=Fa(i,e.node,n);let o;if(function(t){return t&&wa(t.canActivateChild)}(s))o=So(s.canActivateChild(r,t));else{if(!wa(s))throw new Error("Invalid CanActivateChild guard");o=So(s(r,t))}return o.pipe(zs())});return Object(Ki.a)(i).pipe(Sa())}));return Object(Ki.a)(i).pipe(Sa())}class za{}class Ga{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Qa(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,po),n=new ea([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},po,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $o(n,e),i=new na(this.url,r);return this.inheritParamsAndData(i._root),Object(Ki.a)(i)}catch(cO){return new br.a(e=>e.error(cO))}}inheritParamsAndData(t){const e=t.value,n=ta(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ao(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===po?-1:e.value.outlet===po?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(cO){if(!(cO instanceof za))throw cO}if(this.noLeftoversInUrl(e,n,r))return[];throw new za}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new za;if((t.outlet||po)!==r)throw new za;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Co(n).parameters:{};i=new ea(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ja(t),r,t.component,t,Ka(e),Wa(e)+n.length,Xa(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new za;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||bo)(n,t,e);if(!r)throw new za;const i={};Oo(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new ea(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ja(t),r,t.component,t,Ka(e),Wa(e)+s.length,Xa(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Qa(e,s,o,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new $o(i,t)]}if(0===a.length&&0===l.length)return[new $o(i,[])];const u=this.processSegment(a,c,l,po);return[new $o(i,u)]}}function Ka(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Wa(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qa(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>$a(t,e,n)&&Ya(n)!==po)}(t,n,r)){const i=new To(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Ya(s)!==po){const n=new To([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ya(s)]=n}return i}(t,e,r,new To(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>$a(t,e,n))}(t,n,r)){const s=new To(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if($a(t,n,a)&&!i[Ya(a)]){const n=new To([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ya(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new To(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function $a(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ya(t){return t.outlet||po}function Ja(t){return t.data||{}}function Xa(t){return t.resolve||{}}function Za(t){return function(e){return e.pipe(Is(e=>{const n=t(e);return n?Object(Cr.a)(n).pipe(Object(vr.a)(()=>e)):Object(Cr.a)([e])}))}}class tc extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let ec=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[mc]},encapsulation:2}),t})();function nc(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rc(r,ic(e,r))}}function rc(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==po)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&nc(t.children,e)}function ic(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sc(t){const e=t.children&&t.children.map(sc),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==po&&(n.component=ec),n}const oc=new r.r("ROUTES");class ac{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(vr.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new va(wo(r.injector.get(oc)).map(sc),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Cr.a)(this.loader.load(t)):So(t()).pipe(Object(qs.a)(t=>t instanceof r.w?Object(Ki.a)(t):Object(Cr.a)(this.compiler.compileModuleAsync(t))))}}class cc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lc,this.attachRef=null}}class lc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cc,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class uc{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hc(t){throw t}function dc(t,e,n){return e.parse("/")}function fc(t,e){return Object(Ki.a)(null)}let pc=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Wi.a,this.errorHandler=hc,this.malformedUriErrorHandler=dc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fc,afterPreactivation:fc},this.urlHandlingStrategy=new uc,this.routeReuseStrategy=new tc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const l=s.get(r.A);this.isNgZoneEnabled=l instanceof r.A,this.resetConfig(c),this.currentUrlTree=new xo(new To([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ac(o,a,t=>this.triggerEvent(new oo(t)),t=>this.triggerEvent(new ao(t))),this.routerState=Xo(this.currentUrlTree,this.rootComponentType),this.transitions=new $i({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ds(t=>0!==t.id),Object(vr.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Is(t=>{let n=!1,r=!1;return Object(Ki.a)(t).pipe(Object(Gs.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Is(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ki.a)(t).pipe(Is(t=>{const n=this.transitions.getValue();return e.next(new Js(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?cs.a:[t]}),Is(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Is(t=>function(t,e,n,r,i){return new Aa(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(vr.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Gs.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(qs.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Ga(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(vr.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Gs.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Gs.a)(t=>{const n=new eo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Js(n,this.serializeUrl(r),i,s);e.next(a);const c=Xo(r,this.rootComponentType).snapshot;return Object(Ki.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),cs.a}),Za(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Gs.a)(t=>{const e=new no(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(vr.a)(t=>Object.assign(Object.assign({},t),{guards:Ma(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(qs.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ki.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Cr.a)(t).pipe(Object(qs.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ki.a)(!0);const o=s.map(s=>{const o=Fa(s,e,i);let a;if(function(t){return t&&wa(t.canDeactivate)}(o))a=So(o.canDeactivate(t,e,n,r));else{if(!wa(o))throw new Error("Invalid CanDeactivate guard");a=So(o(t,e,n,r))}return a.pipe(zs())});return Object(Ki.a)(o).pipe(Sa())}(t.component,t.route,n,e,r)),zs(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(qs.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Cr.a)(e).pipe(Hs(e=>Object(Cr.a)([Ba(e.route.parent,r),Va(e.route,r),Ha(t,e.path,n),qa(t,e.route,n)]).pipe(hs(),zs(t=>!0!==t,!0))),zs(t=>!0!==t,!0))}(r,s,t,e):Object(Ki.a)(n)),Object(vr.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Gs.a)(t=>{if(Ca(t.guardsResult)){const e=yo(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Gs.a)(t=>{const e=new ro(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ds(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Zs(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Za(t=>{if(t.guards.canActivateChecks.length)return Object(Ki.a)(t).pipe(Object(Gs.a)(t=>{const e=new io(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Is(t=>{let n=!1;return Object(Ki.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(qs.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ki.a)(t);let s=0;return Object(Cr.a)(n).pipe(Hs(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ki.a)({});const s={};return Object(Cr.a)(i).pipe(Object(qs.a)(i=>function(t,e,n,r){const i=Fa(t,e,r);return So(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Gs.a)(t=>{s[i]=t}))),gs(1),Object(qs.a)(()=>Object.keys(s).length===i.length?Object(Ki.a)(s):cs.a))}(t._resolve,t,e,r).pipe(Object(vr.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ta(t,n).resolve),null)))}(t.route,e,r,i)),Object(Gs.a)(()=>s++),gs(1),Object(qs.a)(e=>s===n.length?Object(Ki.a)(t):cs.a))}))}),Object(Gs.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Zs(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Gs.a)(t=>{const e=new so(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Za(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(vr.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new $o(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Zo(new $i((i=n.value).url),new $i(i.params),new $i(i.queryParams),new $i(i.fragment),new $i(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new $o(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Jo(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Gs.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(vr.a)(t=>(new ba(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Gs.a)({next(){n=!0},complete(){n=!0}}),Ws(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Zs(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Us(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ca(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Zs(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new to(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Dp){t.reject(Dp)}}var i;return cs.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nc(t),this.config=t.map(sc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:c}=e;Object(r.X)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return la(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ua(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Oo(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ua(n,e,r)}(n);if(s.toRoot())return la(e.root,new To([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ha(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ha(t,t===e.root,0)}const r=aa(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ha(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?fa(o.segmentGroup,o.index,s.commands):da(o.segmentGroup,o.index,s.commands);return la(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,h,u)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.A.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ca(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(cO){e=this.malformedUriErrorHandler(cO,this.urlSerializer,t)}return e}isActive(t,e){if(Ca(t))return Eo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Eo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Xs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.O),r.cc(Ro),r.cc(lc),r.cc(w),r.cc(r.s),r.cc(r.x),r.cc(r.i),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),mc=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||po,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gc(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(lc),r.Ob(r.R),r.Ob(r.j),r.dc("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gc{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Zo?this.route:t===lc?this.childContexts:this.parent.get(t,e)}}class yc{}class bc{preload(t,e){return Object(Ki.a)(null)}}let _c=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ac(e,n,e=>t.triggerEvent(new oo(e)),e=>t.triggerEvent(new ao(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ds(t=>t instanceof Xs),Hs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Cr.a)(n).pipe(Object(us.a)(),Object(vr.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(qs.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(pc),r.cc(r.x),r.cc(r.i),r.cc(r.s),r.cc(yc))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),vc=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new fo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(pc),r.cc(Y),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const wc=new r.r("ROUTER_CONFIGURATION"),Cc=new r.r("ROUTER_FORROOT_GUARD"),Oc=[w,{provide:Ro,useClass:Do},{provide:pc,useFactory:function(t,e,n,r,i,o,a,c={},l,u){const h=new pc(null,t,e,n,r,i,o,wo(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Ro,lc,w,r.s,r.x,r.i,oc,wc,[class{},new r.B],[class{},new r.B]]},lc,{provide:Zo,useFactory:function(t){return t.routerState.root},deps:[pc]},{provide:r.x,useClass:r.L},_c,bc,class{preload(t,e){return e().pipe(Us(()=>Object(Ki.a)(null)))}},{provide:wc,useValue:{enableTracing:!1}}];function Sc(){return new r.z("Router",pc)}let Ec=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Oc,kc(e),{provide:Cc,useFactory:Ic,deps:[[pc,new r.B,new r.K]]},{provide:wc,useValue:n||{}},{provide:g,useFactory:Tc,deps:[a,[new r.q(b),new r.B],wc]},{provide:vc,useFactory:xc,deps:[pc,Y,wc]},{provide:yc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bc},{provide:r.z,multi:!0,useFactory:Sc},[Ac,{provide:r.d,multi:!0,useFactory:Rc,deps:[Ac]},{provide:Pc,useFactory:Dc,deps:[Ac]},{provide:r.b,multi:!0,useExisting:Pc}]]}}static forChild(e){return{ngModule:t,providers:[kc(e)]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(Cc,8),r.cc(pc,8))}}),t})();function xc(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new vc(t,e,n)}function Tc(t,e,n={}){return n.useHash?new v(t,e):new _(t,e)}function Ic(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kc(t){return[{provide:r.a,multi:!0,useValue:t},{provide:oc,multi:!0,useValue:t}]}let Ac=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Wi.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(pc),r=this.injector.get(wc);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ki.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(wc),n=this.injector.get(_c),i=this.injector.get(vc),s=this.injector.get(pc),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.s))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function Rc(t){return t.appInitializer.bind(t)}function Dc(t){return t.bootstrapListener.bind(t)}const Pc=new r.r("Router Initializer");class jc{constructor(t,e,n,r,i,s,o=0){this._game_logo_link=t,this._game_title=e,this._game_description=n,this._game_link=r,this._game_iframelink=i,this._game_category=s,this._game_rating=o}get game_logo_link(){return this._game_logo_link}get game_title(){return this._game_title}get game_description(){return this._game_description}get game_link(){return this._game_link}get game_iframelink(){return this._game_iframelink}get game_category(){return this._game_category}get game_rating(){return this._game_rating}set game_logo_link(t){this._game_logo_link=t}set game_title(t){this._game_title=t}set game_description(t){this._game_description=t}set game_link(t){this._game_link=t}set game_iframelink(t){this._game_iframelink=t}set game_category(t){null==t&&(this._game_category=Mc[0]),this._game_category=t}set game_rating(t){this._game_rating=t}}class Nc{constructor(t,e,n){this._category_title=t,this._category_description=e,this._category_value=n}get category_title(){return this._category_title}set category_title(t){this._category_title=t}get category_description(){return this._category_description}set category_description(t){this._category_description=t}get category_value(){return this._category_value}set category_value(t){this._category_value=t}}class Lc{constructor(t,e,n,r){this._carousel_title=t,this._carousel_description=e,this._carousel_img_link=n,this._carousel_game_link=r}get carousel_title(){return this._carousel_title}set carousel_title(t){this._carousel_title=t}get carousel_description(){return this._carousel_description}set carousel_description(t){this._carousel_description=t}get carousel_img_link(){return this._carousel_img_link}set carousel_img_link(t){this._carousel_img_link=t}get carousel_game_link(){return this._carousel_game_link}set carousel_game_link(t){this._carousel_game_link=t}}const Mc=[new Nc("All","All Games","all"),new Nc("RPG","All Role Playing Games","rpg"),new Nc("Action","All Action Games","action")],Fc=[0,1,2,3,4,5],Uc={APPNAME:"Game Box",ROOTPATH:"gamebox-app-ui-demo",LANGUAGES:[{LANGUAGE_DISPLAYNAME:"English",LANGUAGE_VALUE:"en"},{LANGUAGE_DISPLAYNAME:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",LANGUAGE_VALUE:"te"}],GAMES:[new jc("assets/images/pokemon.jpeg","Pokemon","An RPG Pokemon Game","pokemon","https://jsemu2.github.io/gba/launcher.html#pokemonred",Mc[1],Fc[4]),new jc("assets/images/mortalkombat.jpg","Mortal Kombat","Fighting & Action Game","mortalkombat","https://jsemu2.github.io/gba/launcher.html#mortal_kombat",Mc[2],Fc[3])],CAROUSEL_LIST:[new Lc("Pokemon","An RPG Pokemon Game","assets/images/pokemon-go-carousel.jpg","pokemon"),new Lc("Mortal Kombat","Fighting & Action Game","assets/images/kombat-pack-2.jpg","mortalkombat")]};var Vc=n("D0XW");function Bc(){return t=>t.lift(new qc)}class qc{call(t,e){return e.subscribe(new Hc(t))}}class Hc extends Ji.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function zc(t,e){return n=>n.lift(new Gc(t,e))}class Gc{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Kc(t,this.compare,this.keySelector))}}class Kc extends Ji.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Wc=n("pxpQ"),Qc=n("jmUF"),$c=n("Jgta"),Yc=n("zIRd"),Jc=n("q/0M"),Xc=n("qOnz"),Zc=function(t,e){return(Zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function tl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var el,nl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rl=rl||{},il=nl||self;function sl(){}function ol(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function al(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cl="closure_uid_"+(1e9*Math.random()>>>0),ll=0;function ul(t,e,n){return t.call.apply(t.bind,arguments)}function hl(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function dl(t,e,n){return(dl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ul:hl).apply(null,arguments)}function fl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function pl(){return Date.now()}function ml(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function gl(){this.j=this.j,this.i=this.i}gl.prototype.j=!1,gl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,cl)&&t[cl]||(t[cl]=++ll)}(this)},gl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var yl=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},bl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function _l(t){return Array.prototype.concat.apply([],arguments)}function vl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function wl(t){return/^[\s\xa0]*$/.test(t)}var Cl,Ol=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Sl(t,e){return-1!=t.indexOf(e)}function El(t,e){return t<e?-1:t>e?1:0}t:{var xl=il.navigator;if(xl){var Tl=xl.userAgent;if(Tl){Cl=Tl;break t}}Cl=""}function Il(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function kl(t){var e={};for(var n in t)e[n]=t[n];return e}var Al="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Al.length;s++)n=Al[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dl(t){return Dl[" "](t),t}Dl[" "]=sl;var Pl,jl,Nl=Sl(Cl,"Opera"),Ll=Sl(Cl,"Trident")||Sl(Cl,"MSIE"),Ml=Sl(Cl,"Edge"),Fl=Ml||Ll,Ul=Sl(Cl,"Gecko")&&!(Sl(Cl.toLowerCase(),"webkit")&&!Sl(Cl,"Edge"))&&!(Sl(Cl,"Trident")||Sl(Cl,"MSIE"))&&!Sl(Cl,"Edge"),Vl=Sl(Cl.toLowerCase(),"webkit")&&!Sl(Cl,"Edge");function Bl(){var t=il.document;return t?t.documentMode:void 0}t:{var ql="",Hl=(jl=Cl,Ul?/rv:([^\);]+)(\)|;)/.exec(jl):Ml?/Edge\/([\d\.]+)/.exec(jl):Ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(jl):Vl?/WebKit\/(\S+)/.exec(jl):Nl?/(?:Version)[ \/]?(\S+)/.exec(jl):void 0);if(Hl&&(ql=Hl?Hl[1]:""),Ll){var zl=Bl();if(null!=zl&&zl>parseFloat(ql)){Pl=String(zl);break t}}Pl=ql}var Gl={};function Kl(t){return function(t,e){var n=Gl;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Ol(String(Pl)).split("."),r=Ol(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=El(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||El(0==o[2].length,0==a[2].length)||El(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Wl=il.document&&Ll&&(Bl()||parseInt(Pl,10))||void 0,Ql=!Ll||9<=Number(Wl),$l=Ll&&!Kl("9"),Yl=function(){if(!il.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{il.addEventListener("test",sl,e),il.removeEventListener("test",sl,e)}catch(n){}return t}();function Jl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Xl(t,e){if(Jl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ul){t:{try{Dl(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zl[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Jl.prototype.b=function(){this.defaultPrevented=!0},ml(Xl,Jl);var Zl={2:"touch",3:"pen",4:"mouse"};Xl.prototype.b=function(){Xl.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$l)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var tu="closure_listenable_"+(1e6*Math.random()|0),eu=0;function nu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++eu,this.Y=this.Z=!1}function ru(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function iu(t){this.src=t,this.a={},this.b=0}function su(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=yl(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ru(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ou(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}iu.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ou(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new nu(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var au="closure_lm_"+(1e6*Math.random()|0),cu={};function lu(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=yu(r),e&&e[tu]?e.wa(n,r,al(i)?!!i.capture:!!i,s):uu(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lu(t,e[s],n,r,i);return null}return n=yu(n),t&&t[tu]?t.va(e,n,al(r)?!!r.capture:!!r,i):uu(t,e,n,!1,r,i)}function uu(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=al(i)?!!i.capture:!!i;if(o&&!Ql)return null;var a=mu(t);if(a||(t[au]=a=new iu(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=pu,e=Ql?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Yl||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(du(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function hu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[tu])su(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(du(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mu(e))?(su(n,t),0==n.b&&(n.src=null,e[au]=null)):ru(t)}}}function du(t){return t in cu?cu[t]:cu[t]="on"+t}function fu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&hu(t),n.call(r,e)}function pu(t,e){if(t.Y)return!0;if(!Ql){if(!e)t:{e=["window","event"];for(var n=il,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return fu(t,e=new Xl(e,this))}return fu(t,new Xl(e,this))}function mu(t){return(t=t[au])instanceof iu?t:null}var gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(t){return"function"==typeof t?t:(t[gu]||(t[gu]=function(e){return t.handleEvent(e)}),t[gu])}function bu(){gl.call(this),this.c=new iu(this),this.J=this,this.C=null}function _u(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Jl(e,t);else if(e instanceof Jl)e.target=e.target||t;else{var i=e;Rl(e=new Jl(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=vu(o,r,!0,e)&&i}if(i=vu(o=e.a=t,r,!0,e)&&i,i=vu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=vu(o=e.a=n[s],r,!1,e)&&i}function vu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&su(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}ml(bu,gl),bu.prototype[tu]=!0,(el=bu.prototype).addEventListener=function(t,e,n,r){lu(this,t,e,n,r)},el.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=al(i)?!!i.capture:!!i,r=yu(r),e&&e[tu]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ou(o=e.a[n],r,i,s))&&(ru(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=mu(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ou(n,r,i,s)),(r=-1<e?n[e]:null)&&hu(r))}(this,t,e,n,r)},el.G=function(){if(bu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ru(n[r]);delete e.a[t],e.b--}}this.C=null},el.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},el.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wu=il.JSON.stringify;function Cu(){this.b=this.a=null}var Ou,Su=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new xu}),(function(t){t.reset()}));function Eu(){var t=Au,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xu(){this.next=this.b=this.a=null}function Tu(t){il.setTimeout((function(){throw t}),0)}function Iu(t,e){Ou||function(){var t=il.Promise.resolve(void 0);Ou=function(){t.then(Ru)}}(),ku||(Ou(),ku=!0),Au.add(t,e)}Cu.prototype.add=function(t,e){var n=Su.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xu.prototype.reset=function(){this.next=this.b=this.a=null};var ku=!1,Au=new Cu;function Ru(){for(var t;t=Eu();){try{t.a.call(t.b)}catch(n){Tu(n)}var e=Su;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ku=!1}function Du(t,e){bu.call(this),this.b=t||1,this.a=e||il,this.f=dl(this.Za,this),this.g=pl()}function Pu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ju(t,e,n){if("function"==typeof t)n&&(t=dl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dl(t.handleEvent,t)}return 2147483647<Number(e)?-1:il.setTimeout(t,e||0)}function Nu(t){t.a=ju((function(){t.a=null,t.c&&(t.c=!1,Nu(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ml(Du,bu),(el=Du.prototype).aa=!1,el.M=null,el.Za=function(){if(this.aa){var t=pl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),_u(this,"tick"),this.aa&&(Pu(this),this.start()))}},el.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=pl())},el.G=function(){Du.X.G.call(this),Pu(this),delete this.a};var Lu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Zc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Nu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(il.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(gl);function Mu(t){gl.call(this),this.b=t,this.a={}}ml(Mu,gl);var Fu=[];function Uu(t,e,n,r){Array.isArray(n)||(n&&(Fu[0]=n.toString()),n=Fu);for(var i=0;i<n.length;i++){var s=lu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Vu(t){Il(t.a,(function(t,e){this.a.hasOwnProperty(e)&&hu(t)}),t),t.a={}}function Bu(){this.a=!0}function qu(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Mu.prototype.G=function(){Mu.X.G.call(this),Vu(this)},Mu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bu.prototype.info=function(){};var Hu={},zu=null;function Gu(){return zu=zu||new bu}function Ku(t){Jl.call(this,Hu.Fa,t)}function Wu(t){var e=Gu();_u(e,new Ku(e,t))}function Qu(t,e){Jl.call(this,Hu.STAT_EVENT,t),this.stat=e}function $u(t){var e=Gu();_u(e,new Qu(e,t))}function Yu(t){Jl.call(this,Hu.Ga,t)}function Ju(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return il.setTimeout((function(){t()}),e)}Hu.Fa="serverreachability",ml(Ku,Jl),Hu.STAT_EVENT="statevent",ml(Qu,Jl),Hu.Ga="timingevent",ml(Yu,Jl);var Xu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Zu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function th(){}function eh(){}th.prototype.a=null;var nh,rh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ih(){Jl.call(this,"d")}function sh(){Jl.call(this,"c")}function oh(){}function ah(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mu(this),this.P=ch,this.R=new Du(t=Fl?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ml(ih,Jl),ml(sh,Jl),ml(oh,th),nh=new oh;var ch=45e3,lh={},uh={};function hh(t,e,n){t.H=1,t.i=Ph(Th(e)),t.j=n,t.I=!0,dh(t,null)}function dh(t,e){t.u=pl(),mh(t),t.l=Th(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kh(n.b,"t",r),t.D=0,t.a=Vd(t.g,t.g.C?e:null),0<t.O&&(t.F=new Lu(dl(t.Ca,t,t.a),t.O)),Uu(t.J,t.a,"readystatechange",t.Xa),e=t.B?kl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Wu(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function fh(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ph(t,n);if(i==uh){4==e&&(t.h=4,$u(14),r=!1),qu(t.c,t.f,null,"[Incomplete Response]");break}if(i==lh){t.h=4,$u(15),qu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qu(t.c,t.f,i,null),vh(t,i)}4==e&&0==n.length&&(t.h=1,$u(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dd(e),e.F=!0,$u(11))):(qu(t.c,t.f,n,"[Invalid Chunked Response]"),_h(t),bh(t))}function ph(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?uh:(n=Number(e.substring(n,r)),isNaN(n)?lh:(r+=1)+n>e.length?uh:(e=e.substr(r,n),t.D=r+n,e))}function mh(t){t.T=pl()+t.P,gh(t,t.P)}function gh(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ju(dl(t.Va,t),e)}function yh(t){t.o&&(il.clearTimeout(t.o),t.o=null)}function bh(t){0==t.g.v||t.A||Nd(t.g,t)}function _h(t){yh(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Pu(t.R),Vu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function vh(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zh(n.b,t)))if(n.I=t.N,!t.C&&Zh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(wC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;jd(n),Od(n)}Rd(n),$u(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ju(dl(n.Sa,n),6e3));if(1>=Xh(n.b)&&n.ea){try{n.ea()}catch(wC){}n.ea=void 0}}else Md(n,11)}else if((t.C||n.a==t)&&jd(n),!wl(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(Sl(u,"spdy")||Sl(u,"quic")||Sl(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(td(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Dh(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=pl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ud(c,c.C?c.ga:null,c.fa),f.C){ed(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(yh(p),mh(p)),c.a=f}else Ad(c);0<n.g.length&&xd(n)}else"stop"!=i[0]&&"close"!=i[0]||Md(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Md(n,7):Cd(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Wu(4)}catch(wC){}}function wh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ol(t)||"string"==typeof t)bl(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ol(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ol(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ch(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ch)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(el=ah.prototype).setTimeout=function(t){this.P=t},el.Xa=function(t){t=t.target;var e=this.F;e&&3==bd(t)?e.f():this.Ca(t)},el.Ca=function(t){try{if(t==this.a)t:{var e=bd(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Fl&&!this.a.$())){this.A||4!=e||7==n||Wu(8==n||0>=r?3:2),yh(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wl(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,$u(12),_h(this),bh(this);break t}qu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,vh(this,c)}this.I?(fh(this,e,s),Fl&&this.b&&3==e&&(Uu(this.J,this.R,"tick",this.Wa),this.R.start())):(qu(this.c,this.f,s,null),vh(this,s)),4==e&&_h(this),this.b&&!this.A&&(4==e?Nd(this.g,this):(this.b=!1,mh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,$u(12)):(this.h=0,$u(13)),_h(this),bh(this)}}}catch(l){}},el.Wa=function(){if(this.a){var t=bd(this.a),e=this.a.$();this.D<e.length&&(yh(this),fh(this,t,e),this.b&&4!=t&&mh(this))}},el.cancel=function(){this.A=!0,_h(this)},el.Va=function(){this.o=null;var t=pl();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Wu(3),$u(17)),_h(this),this.h=2,bh(this)):gh(this,this.T-t)},(el=Ch.prototype).K=function(){Oh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},el.L=function(){return Oh(this),this.a.concat()},el.get=function(t,e){return Sh(this.b,t)?this.b[t]:e},el.set=function(t,e){Sh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},el.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Eh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xh){this.a=void 0!==e?e:t.a,Ih(this,t.f),this.j=t.j,kh(this,t.c),Ah(this,t.h),this.g=t.g,e=t.b;var n=new qh;n.c=e.c,e.a&&(n.a=new Ch(e.a),n.b=e.b),Rh(this,n),this.i=t.i}else t&&(n=String(t).match(Eh))?(this.a=!!e,Ih(this,n[1]||"",!0),this.j=jh(n[2]||""),kh(this,n[3]||"",!0),Ah(this,n[4]),this.g=jh(n[5]||"",!0),Rh(this,n[6]||"",!0),this.i=jh(n[7]||"")):(this.a=!!e,this.b=new qh(null,this.a))}function Th(t){return new xh(t)}function Ih(t,e,n){t.f=n?jh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function kh(t,e,n){t.c=n?jh(e,!0):e}function Ah(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Rh(t,e,n){e instanceof qh?(t.b=e,function(t,e){e&&!t.f&&(Hh(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(zh(this,e),Kh(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Nh(e,Vh)),t.b=new qh(e,t.a))}function Dh(t,e,n){t.b.set(e,n)}function Ph(t){return Dh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^pl()).toString(36)),t}function jh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Lh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Lh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Nh(e,Mh,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Nh(e,Mh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nh(n,"/"==n.charAt(0)?Uh:Fh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Nh(n,Bh)),t.join("")};var Mh=/[#\/\?@]/g,Fh=/[#\?:]/g,Uh=/[#\?]/g,Vh=/[#\?@]/g,Bh=/#/g;function qh(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hh(t){t.a||(t.a=new Ch,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function zh(t,e){Hh(t),e=Wh(t,e),Sh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oh(t)))}function Gh(t,e){return Hh(t),e=Wh(t,e),Sh(t.a.b,e)}function Kh(t,e,n){zh(t,e),0<n.length&&(t.c=null,t.a.set(Wh(t,e),vl(n)),t.b+=n.length)}function Wh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(el=qh.prototype).add=function(t,e){Hh(this),this.c=null,t=Wh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},el.forEach=function(t,e){Hh(this),this.a.forEach((function(n,r){bl(n,(function(n){t.call(e,n,r,this)}),this)}),this)},el.L=function(){Hh(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},el.K=function(t){Hh(this);var e=[];if("string"==typeof t)Gh(this,t)&&(e=_l(e,this.a.get(Wh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=_l(e,t[n])}return e},el.set=function(t,e){return Hh(this),this.c=null,Gh(this,t=Wh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},el.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},el.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Qh=function(){return function(t,e){this.b=t,this.a=e}}();function $h(t){this.g=t||Yh,t=il.PerformanceNavigationTiming?0<(t=il.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(il.ia&&il.ia.ya&&il.ia.ya()&&il.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Yh=10;function Jh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Xh(t){return t.b?1:t.a?t.a.size:0}function Zh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function td(t,e){t.a?t.a.add(e):t.b=e}function ed(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=tl(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return vl(t.c)}function rd(){}function id(){this.a=new rd}function sd(t,e,n){var r=n||"";try{wh(t,(function(t,n){var i=t;al(t)&&(i=wu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(cO){throw e.push(r+"type="+encodeURIComponent("_badmap")),cO}}function od(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}$h.prototype.cancel=function(){var t,e;if(this.c=nd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=tl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},rd.prototype.stringify=function(t){return il.JSON.stringify(t,void 0)},rd.prototype.parse=function(t){return il.JSON.parse(t,void 0)};var ad=il.JSON.parse;function cd(t){bu.call(this),this.headers=new Ch,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ld,this.D=this.F=!1}ml(cd,bu);var ld="",ud=/^https?$/i,hd=["POST","PUT"];function dd(t){return"content-type"==t.toLowerCase()}function fd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pd(t),gd(t)}function pd(t){t.u||(t.u=!0,_u(t,"complete"),_u(t,"error"))}function md(t){if(t.b&&void 0!==rl&&(!t.s[1]||4!=bd(t)||2!=t.W()))if(t.l&&4==bd(t))ju(t.za,0,t);else if(_u(t,"readystatechange"),4==bd(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Eh)[1]||null;if(!s&&il.self&&il.self.location){var o=il.self.location.protocol;s=o.substr(0,o.length-1)}i=!ud.test(s?s.toLowerCase():"")}e=i}if(e)_u(t,"complete"),_u(t,"success");else{t.h=6;try{var a=2<bd(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",pd(t)}}finally{gd(t)}}}function gd(t,e){if(t.a){yd(t);var n=t.a,r=t.s[0]?sl:null;t.a=null,t.s=null,e||_u(t,"ready");try{n.onreadystatechange=r}catch(cO){}}}function yd(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(il.clearTimeout(t.m),t.m=null)}function bd(t){return t.a?t.a.readyState:0}function _d(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Il(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Dh(t,e,n))}function vd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wd(t){this.pa=0,this.g=[],this.c=new Bu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=vd("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=vd("baseRetryDelayMs",5e3,t),this.Ra=vd("retryDelaySeedMs",1e4,t),this.Ma=vd("forwardChannelMaxRetries",2,t),this.ma=vd("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new $h(t&&t.concurrentRequestLimit),this.ka=new id,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Cd(t){if(Sd(t),3==t.v){var e=t.R++,n=Th(t.B);Dh(n,"SID",t.J),Dh(n,"RID",e),Dh(n,"TYPE","terminate"),Id(t,n),(e=new ah(t,t.c,e,void 0)).H=2,e.i=Ph(Th(n)),n=!1,il.navigator&&il.navigator.sendBeacon&&(n=il.navigator.sendBeacon(e.i.toString(),"")),!n&&il.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vd(e.g,null),e.a.ba(e.i)),e.u=pl(),mh(e)}Fd(t)}function Od(t){t.a&&(Dd(t),t.a.cancel(),t.a=null)}function Sd(t){Od(t),t.j&&(il.clearTimeout(t.j),t.j=null),jd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&il.clearTimeout(t.h),t.h=null)}function Ed(t,e){t.g.push(new Qh(t.Oa++,e)),3==t.v&&xd(t)}function xd(t){Jh(t.b)||t.h||(t.h=!0,Iu(t.Ba,t),t.u=0)}function Td(t,e){var n;n=e?e.f:t.R++;var r=Th(t.B);Dh(r,"SID",t.J),Dh(r,"RID",n),Dh(r,"AID",t.P),Id(t,r),t.i&&t.l&&_d(r,t.i,t.l),n=new ah(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=kd(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),td(t.b,n),hh(n,r,e)}function Id(t,e){t.f&&wh({},(function(t,n){Dh(e,n,t)}))}function kd(t,e,n){n=Math.min(t.g.length,n);var r=t.f?dl(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=i[c].b,u=i[c].a;if(0>(l-=s))s=Math.max(0,i[c].b-100),a=!1;else try{sd(u,o,"req"+l+"_")}catch(vf){r&&r(u)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ad(t){t.a||t.j||(t.T=1,Iu(t.Aa,t),t.o=0)}function Rd(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ju(dl(t.Aa,t),Ld(t,t.o)),t.o++,0))}function Dd(t){null!=t.s&&(il.clearTimeout(t.s),t.s=null)}function Pd(t){t.a=new ah(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Th(t.la);Dh(e,"RID","rpc"),Dh(e,"SID",t.J),Dh(e,"CI",t.H?"0":"1"),Dh(e,"AID",t.P),Id(t,e),Dh(e,"TYPE","xmlhttp"),t.i&&t.l&&_d(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ph(Th(e)),n.j=null,n.I=!0,dh(n,t)}function jd(t){null!=t.m&&(il.clearTimeout(t.m),t.m=null)}function Nd(t,e){var n=null;if(t.a==e){jd(t),Dd(t),t.a=null;var r=2}else{if(!Zh(t.b,e))return;n=e.s,ed(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=pl()-e.u;var i=t.u;_u(r=Gu(),new Yu(r,n,e,i)),xd(t)}else Ad(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Xh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ju(dl(t.Ba,t,e),Ld(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rd(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Md(t,5);break;case 4:Md(t,10);break;case 3:Md(t,6);break;default:Md(t,2)}}function Ld(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Md(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=dl(t.Ya,t);n||(n=new xh("//www.google.com/images/cleardot.gif"),il.location&&"http"==il.location.protocol||Ih(n,"https"),Ph(n)),function(t,e){var n=new Bu;if(il.Image){var r=new Image;r.onload=fl(od,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fl(od,n,r,"TestLoadImage: error",!1,e),r.onabort=fl(od,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fl(od,n,r,"TestLoadImage: timeout",!1,e),il.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else $u(2);t.v=0,t.f&&t.f.ra(e),Fd(t),Sd(t)}function Fd(t){t.v=0,t.I=-1,t.f&&(0==nd(t.b).length&&0==t.g.length||(t.b.c.length=0,vl(t.g),t.g.length=0),t.f.qa())}function Ud(t,e,n){var r=function(t){return t instanceof xh?Th(t):new xh(t,void 0)}(n);if(""!=r.c)e&&kh(r,e+"."+r.c),Ah(r,r.h);else{var i=il.location;r=function(t,e,n,r){var i=new xh(null,void 0);return t&&Ih(i,t),e&&kh(i,e),n&&Ah(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Il(t.V,(function(t,e){Dh(r,e,t)})),n=t.na,(e=t.A)&&n&&Dh(r,e,n),Dh(r,"VER",t.ha),Id(t,r),r}function Vd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cd(t.Na)).F=t.C,e}function Bd(){}function qd(){if(Ll&&!(10<=Number(Wl)))throw Error("Environmental error: no available transport.")}function Hd(t,e){bu.call(this),this.a=new wd(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!wl(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wl(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kd(this)}function zd(t){ih.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Gd(){sh.call(this),this.status=1}function Kd(t){this.a=t}(el=cd.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:nh),this.a.onreadystatechange=dl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void fd(this,s)}t=n||"";var i=new Ch(this.headers);r&&wh(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=dd,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=il.FormData&&t instanceof il.FormData,!(0<=yl(hd,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yd(this),0<this.o&&((this.D=function(t){return Ll&&Kl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=dl(this.xa,this)):this.m=ju(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){fd(this,s)}},el.xa=function(){void 0!==rl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,_u(this,"timeout"),this.abort(8))},el.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,_u(this,"complete"),_u(this,"abort"),gd(this))},el.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),gd(this,!0)),cd.X.G.call(this)},el.za=function(){this.j||(this.A||this.l||this.g?md(this):this.Ua())},el.Ua=function(){md(this)},el.W=function(){try{return 2<bd(this)?this.a.status:-1}catch(jl){return-1}},el.$=function(){try{return this.a?this.a.responseText:""}catch(jl){return""}},el.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ad(e)}},el.ua=function(){return this.h},el.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(el=wd.prototype).ha=8,el.v=1,el.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ah(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Rl(r=kl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=kd(this,n,e),Dh(i=Th(this.B),"RID",t),Dh(i,"CVER",22),this.A&&Dh(i,"X-HTTP-Session-Id",this.A),Id(this,i),this.i&&r&&_d(i,this.i,r),td(this.b,n),this.Ia&&Dh(i,"TYPE","init"),this.da?(Dh(i,"$req",e),Dh(i,"SID","null"),n.U=!0,hh(n,i,null)):hh(n,i,e),this.v=2}}else 3==this.v&&(t?Td(this,t):0==this.g.length||Jh(this.b)||Td(this))},el.Aa=function(){if(this.j=null,Pd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ju(dl(this.Ta,this),t)}},el.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$u(10),Od(this),Pd(this))},el.Sa=function(){null!=this.m&&(this.m=null,Od(this),Rd(this),$u(19))},el.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),$u(2)):(this.c.info("Failed to ping google.com"),$u(1))},(el=Bd.prototype).ta=function(){},el.sa=function(){},el.ra=function(){},el.qa=function(){},el.Ja=function(){},qd.prototype.a=function(t,e){return new Hd(t,e)},ml(Hd,bu),Hd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;$u(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ud(t,null,t.fa),xd(t)},Hd.prototype.close=function(){Cd(this.a)},Hd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ed(this.a,e)}else this.l?((e={}).__data__=wu(t),Ed(this.a,e)):Ed(this.a,t)},Hd.prototype.G=function(){this.a.f=null,delete this.f,Cd(this.a),delete this.a,Hd.X.G.call(this)},ml(zd,ih),ml(Gd,sh),ml(Kd,Bd),Kd.prototype.ta=function(){_u(this.a,"a")},Kd.prototype.sa=function(t){_u(this.a,new zd(t))},Kd.prototype.ra=function(t){_u(this.a,new Gd(t))},Kd.prototype.qa=function(){_u(this.a,"b")},qd.prototype.createWebChannel=qd.prototype.a,Hd.prototype.send=Hd.prototype.h,Hd.prototype.open=Hd.prototype.g,Hd.prototype.close=Hd.prototype.close,Xu.NO_ERROR=0,Xu.TIMEOUT=8,Xu.HTTP_ERROR=6,Zu.COMPLETE="complete",eh.EventType=rh,rh.OPEN="a",rh.CLOSE="b",rh.ERROR="c",rh.MESSAGE="d",bu.prototype.listen=bu.prototype.va,cd.prototype.listenOnce=cd.prototype.wa,cd.prototype.getLastError=cd.prototype.Qa,cd.prototype.getLastErrorCode=cd.prototype.ua,cd.prototype.getStatus=cd.prototype.W,cd.prototype.getResponseJson=cd.prototype.Pa,cd.prototype.getResponseText=cd.prototype.$,cd.prototype.send=cd.prototype.ba;var Wd=Xu,Qd=Zu,$d=Hu,Yd=eh,Jd=cd,Xd=n("mrSG"),Zd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Zd.o=-1;var tf=new Jc.b("@firebase/firestore");function ef(){return tf.logLevel}function nf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tf.logLevel<=Jc.a.DEBUG){var r=e.map(of);tf.debug.apply(tf,Object(Xd.f)(["Firestore (8.3.1): "+t],r))}}function rf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tf.logLevel<=Jc.a.ERROR){var r=e.map(of);tf.error.apply(tf,Object(Xd.f)(["Firestore (8.3.1): "+t],r))}}function sf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tf.logLevel<=Jc.a.WARN){var r=e.map(of);tf.warn.apply(tf,Object(Xd.f)(["Firestore (8.3.1): "+t],r))}}function of(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(cO){return t}}function af(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function cf(t,e){t||af()}function lf(t,e){return t}function uf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hf=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=uf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function df(t,e){return t<e?-1:t>e?1:0}function ff(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function pf(t){return t+"\0"}function mf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bf(t){return null==t}function _f(t){return 0===t&&1/t==-1/0}function vf(t){return"number"==typeof t&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Xd.c)(e,t),e}(Error),Of=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&af(),void 0===n?n=t.length-e:n>t.length-e&&af(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Cf(wf.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Of),Ef=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ef.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Cf(wf.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Cf(wf.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Cf(wf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Cf(wf.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Of),Tf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Sf.fromString(e))},t.fromName=function(e){return new t(Sf.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Sf.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Sf.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Sf(e.slice()))},t}(),If=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return df(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();If.EMPTY_BYTE_STRING=new If("");var kf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Af(t){if(cf(!!t),"string"==typeof t){var e=0,n=kf.exec(t);if(cf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rf(t.seconds),nanos:Rf(t.nanos)}}function Rf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Df(t){return"string"==typeof t?If.fromBase64String(t):If.fromUint8Array(t)}var Pf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cf(wf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cf(wf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cf(wf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cf(wf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?df(this.nanoseconds,t.nanoseconds):df(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function jf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nf(t){var e=Af(t.mapValue.fields.__local_write_time__.timestampValue);return new Pf(e.seconds,e.nanos)}function Lf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jf(t)?4:10:af()}function Mf(t,e){var n=Lf(t);if(n!==Lf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nf(t).isEqual(Nf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Af(t.timestampValue),r=Af(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Df(t.bytesValue).isEqual(Df(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Rf(t.geoPointValue.latitude)===Rf(e.geoPointValue.latitude)&&Rf(t.geoPointValue.longitude)===Rf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Rf(t.integerValue)===Rf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Rf(t.doubleValue),r=Rf(e.doubleValue);return n===r?_f(n)===_f(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ff(t.arrayValue.values||[],e.arrayValue.values||[],Mf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(mf(n)!==mf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mf(n[i],r[i])))return!1;return!0}(t,e);default:return af()}}function Ff(t,e){return void 0!==(t.values||[]).find((function(t){return Mf(t,e)}))}function Uf(t,e){var n=Lf(t),r=Lf(e);if(n!==r)return df(n,r);switch(n){case 0:return 0;case 1:return df(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Rf(t.integerValue||t.doubleValue),r=Rf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Vf(t.timestampValue,e.timestampValue);case 4:return Vf(Nf(t),Nf(e));case 5:return df(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Df(t),r=Df(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=df(n[i],r[i]);if(0!==s)return s}return df(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=df(Rf(t.latitude),Rf(e.latitude));return 0!==n?n:df(Rf(t.longitude),Rf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Uf(n[i],r[i]);if(s)return s}return df(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=df(r[o],s[o]);if(0!==a)return a;var c=Uf(n[r[o]],i[s[o]]);if(0!==c)return c}return df(r.length,s.length)}(t.mapValue,e.mapValue);default:throw af()}}function Vf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return df(t,e);var n=Af(t),r=Af(e),i=df(n.seconds,r.seconds);return 0!==i?i:df(n.nanos,r.nanos)}function Bf(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Af(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Df(e.bytesValue).toBase64():"referenceValue"in e?Tf.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):af();var n}(t)}function qf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hf(t){return!!t&&"integerValue"in t}function zf(t){return!!t&&"arrayValue"in t}function Gf(t){return!!t&&"nullValue"in t}function Kf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}var Qf=function(t,e){this.key=t,this.version=e},$f=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).objectValue=r,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Xd.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qf),Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Xd.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qf),Jf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qf),Xf=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Zf(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Xf(t,e,n,r,i,s,o)}function tp(t){var e=lf(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Bf(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fp(e.startAt)),e.endAt&&(n+="|ub:",n+=fp(e.endAt)),e.h=n}return e.h}function ep(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!mp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Mf(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yp(t.startAt,e.startAt)&&yp(t.endAt,e.endAt)}function np(t){return Tf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Xd.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ip(t,n,r):"array-contains"===n?new cp(t,r):"in"===n?new lp(t,r):"not-in"===n?new up(t,r):"array-contains-any"===n?new hp(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new sp(t,n):new op(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Uf(e,this.value)):null!==e&&Lf(this.value)===Lf(e)&&this.m(Uf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return af()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tf.fromName(r.referenceValue),i}return Object(Xd.c)(e,t),e.prototype.matches=function(t){var e=Tf.comparator(t.key,this.key);return this.m(e)},e}(rp),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ap(0,n),r}return Object(Xd.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rp),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ap(0,n),r}return Object(Xd.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rp);function ap(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Tf.fromName(t.referenceValue)}))}var cp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Xd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return zf(e)&&Ff(e.arrayValue,this.value)},e}(rp),lp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Xd.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ff(this.value.arrayValue,e)},e}(rp),up=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Xd.c)(e,t),e.prototype.matches=function(t){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ff(this.value.arrayValue,e)},e}(rp),hp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Xd.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ff(e.value.arrayValue,t)}))},e}(rp),dp=function(t,e){this.position=t,this.before=e};function fp(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Bf(t)})).join(",")}var pp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function mp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Tf.comparator(Tf.fromName(o.referenceValue),n.key):Uf(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function yp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mf(t.position[n],e.position[n]))return!1;return!0}var bp=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function _p(t,e,n,r,i,s,o,a){return new bp(t,e,n,r,i,s,o,a)}function vp(t){return new bp(t)}function wp(t){return!bf(t.limit)&&"F"===t.limitType}function Cp(t){return!bf(t.limit)&&"L"===t.limitType}function Op(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ep(t){return null!==t.collectionGroup}function xp(t){var e=lf(t);if(null===e.p){e.p=[];var n=Sp(e),r=Op(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new pp(n)),e.p.push(new pp(xf.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new pp(xf.keyField(),c))}}}return e.p}function Tp(t){var e=lf(t);if(!e.T)if("F"===e.limitType)e.T=Zf(e.path,e.collectionGroup,xp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xp(e);r<i.length;r++){var s=i[r];n.push(new pp(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new dp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new dp(e.startAt.position,!e.startAt.before):null;e.T=Zf(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Ip(t,e,n){return new bp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kp(t,e){return ep(Tp(t),Tp(e))&&t.limitType===e.limitType}function Ap(t){return tp(Tp(t))+"|lt:"+t.limitType}function Rp(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Bf(e.value);var e})).join(", ")+"]"),bf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fp(t.startAt)),t.endAt&&(e+=", endAt: "+fp(t.endAt)),"Target("+e+")"}(Tp(t))+"; limitType="+t.limitType+")"}function Dp(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Tf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gp(t.startAt,xp(t),e)||t.endAt&&gp(t.endAt,xp(t),e))}(t,e)}function Pp(t){return function(e,n){for(var r=!1,i=0,s=xp(t);i<s.length;i++){var o=s[i],a=jp(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function jp(t,e,n){var r=t.field.isKeyField()?Tf.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Uf(r,i):af()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return af()}}var Np=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Pf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Lp=function(){function t(t){this.fields=t,t.sort(xf.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ff(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Mp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Wf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Mf(this.proto,t.proto)},t}(),Fp=function(){function t(t){void 0===t&&(t=Mp.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Lf(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(xf.emptyPath(),this.A);return null!=t?new Mp(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),s=Wf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.P(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Up(t){var e=[];return gf(t.fields||{},(function(t,n){var r=new xf([t]);if(Wf(n)){var i=Up(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Lp(e)}function Vp(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function Bp(t){return{integerValue:""+t}}function qp(t,e){return vf(e)?Bp(e):Vp(t,e)}var Hp=function(){this._=void 0};function zp(t,e,n){return t instanceof Wp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qp?$p(t,e):t instanceof Yp?Jp(t,e):function(t,e){var n=Kp(t,e),r=Zp(n)+Zp(t.S);return Hf(n)&&Hf(t.S)?Bp(r):Vp(t.D,r)}(t,e)}function Gp(t,e,n){return t instanceof Qp?$p(t,e):t instanceof Yp?Jp(t,e):n}function Kp(t,e){return t instanceof Xp?Hf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e}(Hp),Qp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Xd.c)(e,t),e}(Hp);function $p(t,e){for(var n=tm(e),r=function(t){n.some((function(e){return Mf(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Yp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Xd.c)(e,t),e}(Hp);function Jp(t,e){for(var n=tm(e),r=function(t){n=n.filter((function(e){return!Mf(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Xp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Xd.c)(e,t),e}(Hp);function Zp(t){return Rf(t.integerValue||t.doubleValue)}function tm(t){return zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var em=function(t,e){this.field=t,this.transform=e},nm=function(t,e){this.version=t,this.transformResults=e},rm=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function im(t,e){return void 0!==t.updateTime?e instanceof $f&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof $f}var sm=function(){};function om(t,e,n){return t instanceof hm?function(t,e,n){var r=t.value,i=pm(t.fieldTransforms,e,n.transformResults);return r=gm(t.fieldTransforms,r,i),new $f(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof dm?function(t,e,n){if(!im(t.precondition,e))return new Jf(t.key,n.version);var r=fm(t,e,pm(t.fieldTransforms,e,n.transformResults));return new $f(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Yf(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function am(t,e,n){return t instanceof hm?function(t,e,n){if(!im(t.precondition,e))return e;var r=t.value,i=mm(t.fieldTransforms,n,e);r=gm(t.fieldTransforms,r,i);var s=um(e);return new $f(t.key,s,r,{hasLocalMutations:!0})}(t,e,n):t instanceof dm?function(t,e,n){if(!im(t.precondition,e))return e;var r=um(e),i=fm(t,e,mm(t.fieldTransforms,n,e));return new $f(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return im(t.precondition,e)?new Yf(t.key,Np.min()):e}(t,e)}function cm(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof $f?e.field(s.field):void 0,a=Kp(s.transform,o||null);null!=a&&(n=null==n?(new Fp).set(s.field,a):n.set(s.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function lm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ff(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qp&&e instanceof Qp||t instanceof Yp&&e instanceof Yp?ff(t.elements,e.elements,Mf):t instanceof Xp&&e instanceof Xp?Mf(t.S,e.S):t instanceof Wp&&e instanceof Wp}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function um(t){return t instanceof $f?t.version:Np.min()}var hm=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Xd.c)(e,t),e}(sm),dm=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Xd.c)(e,t),e}(sm);function fm(t,e,n){var r;return r=function(t,e){var n=new Fp(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.v()}(t,r=e instanceof $f?e.data():Mp.empty()),gm(t.fieldTransforms,r,n)}function pm(t,e,n){var r=[];cf(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof $f&&(a=e.field(s.field)),r.push(Gp(o,a,n[i]))}return r}function mm(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=null;n instanceof $f&&(c=n.field(o.field)),r.push(zp(a,c,e))}return r}function gm(t,e,n){for(var r=new Fp(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var ym,bm,_m=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Xd.c)(e,t),e}(sm),vm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Xd.c)(e,t),e}(sm),wm=function(t){this.count=t};function Cm(t){switch(t){case wf.OK:return af();case wf.CANCELLED:case wf.UNKNOWN:case wf.DEADLINE_EXCEEDED:case wf.RESOURCE_EXHAUSTED:case wf.INTERNAL:case wf.UNAVAILABLE:case wf.UNAUTHENTICATED:return!1;case wf.INVALID_ARGUMENT:case wf.NOT_FOUND:case wf.ALREADY_EXISTS:case wf.PERMISSION_DENIED:case wf.FAILED_PRECONDITION:case wf.ABORTED:case wf.OUT_OF_RANGE:case wf.UNIMPLEMENTED:case wf.DATA_LOSS:return!0;default:return af()}}function Om(t){if(void 0===t)return rf("GRPC error has no .code"),wf.UNKNOWN;switch(t){case ym.OK:return wf.OK;case ym.CANCELLED:return wf.CANCELLED;case ym.UNKNOWN:return wf.UNKNOWN;case ym.DEADLINE_EXCEEDED:return wf.DEADLINE_EXCEEDED;case ym.RESOURCE_EXHAUSTED:return wf.RESOURCE_EXHAUSTED;case ym.INTERNAL:return wf.INTERNAL;case ym.UNAVAILABLE:return wf.UNAVAILABLE;case ym.UNAUTHENTICATED:return wf.UNAUTHENTICATED;case ym.INVALID_ARGUMENT:return wf.INVALID_ARGUMENT;case ym.NOT_FOUND:return wf.NOT_FOUND;case ym.ALREADY_EXISTS:return wf.ALREADY_EXISTS;case ym.PERMISSION_DENIED:return wf.PERMISSION_DENIED;case ym.FAILED_PRECONDITION:return wf.FAILED_PRECONDITION;case ym.ABORTED:return wf.ABORTED;case ym.OUT_OF_RANGE:return wf.OUT_OF_RANGE;case ym.UNIMPLEMENTED:return wf.UNIMPLEMENTED;case ym.DATA_LOSS:return wf.DATA_LOSS;default:return af()}}(bm=ym||(ym={}))[bm.OK=0]="OK",bm[bm.CANCELLED=1]="CANCELLED",bm[bm.UNKNOWN=2]="UNKNOWN",bm[bm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bm[bm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bm[bm.NOT_FOUND=5]="NOT_FOUND",bm[bm.ALREADY_EXISTS=6]="ALREADY_EXISTS",bm[bm.PERMISSION_DENIED=7]="PERMISSION_DENIED",bm[bm.UNAUTHENTICATED=16]="UNAUTHENTICATED",bm[bm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bm[bm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bm[bm.ABORTED=10]="ABORTED",bm[bm.OUT_OF_RANGE=11]="OUT_OF_RANGE",bm[bm.UNIMPLEMENTED=12]="UNIMPLEMENTED",bm[bm.INTERNAL=13]="INTERNAL",bm[bm.UNAVAILABLE=14]="UNAVAILABLE",bm[bm.DATA_LOSS=15]="DATA_LOSS";var Sm=function(){function t(t,e){this.comparator=t,this.root=e||xm.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xm.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xm.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Em(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Em(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Em(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Em(this.root,t,this.comparator,!0)},t}(),Em=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xm=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw af();if(this.right.isRed())throw af();var t=this.left.check();if(t!==this.right.check())throw af();return t+(this.isRed()?0:1)},t}();xm.EMPTY=null,xm.RED=!0,xm.BLACK=!1,xm.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw af()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw af()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw af()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw af()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw af()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xm(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Tm=function(){function t(t){this.comparator=t,this.data=new Sm(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Im(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Im(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Im=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),km=new Sm(Tf.comparator);function Am(){return km}function Rm(){return Am()}var Dm=new Sm(Tf.comparator);function Pm(){return Dm}var jm=new Sm(Tf.comparator);function Nm(){return jm}var Lm=new Tm(Tf.comparator);function Mm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lm,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Fm=new Tm(df);function Um(){return Fm}var Vm=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Bm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Np.min(),r,Um(),Am(),Mm())},t}(),Bm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(If.EMPTY_BYTE_STRING,n,Mm(),Mm(),Mm())},t}(),qm=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Hm=function(t,e){this.targetId=t,this.$=e},zm=function(t,e,n,r){void 0===n&&(n=If.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gm=function(){function t(){this.F=0,this.O=Qm(),this.k=If.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Mm(),e=Mm(),n=Mm();return this.O.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:af()}})),new Bm(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Qm()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Km=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Am(),this.et=Wm(),this.nt=new Tm(df)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof $f?this.it(r,t.N):t.N instanceof Yf&&this.rt(r,t.key,t.N)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.rt(r=s[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:af()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,r){n.at(r)&&e(r)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(np(i))if(0===n){var s=new Tf(i.path);this.rt(e,s,new Yf(s,Np.min()))}else cf(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(r,i){var s=e.lt(i);if(s){if(r.current&&np(s.target)){var o=new Tf(s.target.path);null!==e.tt.get(o)||e.wt(i,o)||e.rt(i,o,new Yf(o,t))}r.q&&(n.set(i,r.K()),r.W())}}));var r=Mm();this.et.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Vm(t,n,this.nt,this.tt,r);return this.tt=Am(),this.et=Wm(),this.nt=new Tm(df),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Gm,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Tm(df),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||nf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Gm),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Wm(){return new Sm(Tf.comparator)}function Qm(){return new Sm(Tf.comparator)}var $m={asc:"ASCENDING",desc:"DESCENDING"},Ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jm=function(t,e){this.databaseId=t,this.V=e};function Xm(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zm(t,e){return t.V?e.toBase64():e.toUint8Array()}function tg(t,e){return Xm(t,e.toTimestamp())}function eg(t){return cf(!!t),Np.fromTimestamp(function(t){var e=Af(t);return new Pf(e.seconds,e.nanos)}(t))}function ng(t,e){return function(t){return new Sf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function rg(t){var e=Sf.fromString(t);return cf(xg(e)),e}function ig(t,e){return ng(t.databaseId,e.path)}function sg(t,e){var n=rg(e);if(n.get(1)!==t.databaseId.projectId)throw new Cf(wf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cf(wf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Tf(lg(n))}function og(t,e){return ng(t.databaseId,e)}function ag(t){var e=rg(t);return 4===e.length?Sf.emptyPath():lg(e)}function cg(t){return new Sf(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lg(t){return cf(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ug(t,e,n){return{name:ig(t,e),fields:n.proto.mapValue.fields}}function hg(t,e,n){var r=sg(t,e.name),i=eg(e.updateTime),s=new Mp({mapValue:{fields:e.fields}});return new $f(r,i,s,{hasCommittedMutations:!!n})}function dg(t,e){var n;if(e instanceof hm)n={update:ug(t,e.key,e.value)};else if(e instanceof _m)n={delete:ig(t,e.key)};else if(e instanceof dm)n={update:ug(t,e.key,e.data),updateMask:Eg(e.fieldMask)};else{if(!(e instanceof vm))return af();n={verify:ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Wp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xp)return{fieldPath:e.field.canonicalString(),increment:n.S};throw af()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:tg(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:af()}(t,e.precondition)),n}function fg(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?rm.updateTime(eg(t.updateTime)):void 0!==t.exists?rm.exists(t.exists):rm.none()}(e.currentDocument):rm.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(cf("REQUEST_TIME"===e.setToServerValue),n=new Wp):"appendMissingElements"in e?n=new Qp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Yp(e.removeAllFromArray.values||[]):"increment"in e?n=new Xp(t,e.increment):af();var r=xf.fromServerFormat(e.fieldPath);return new em(r,n)}(t,e)})):[];if(e.update){var i=sg(t,e.update.name),s=new Mp({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Lp((t.fieldPaths||[]).map((function(t){return xf.fromServerFormat(t)})))}(e.updateMask);return new dm(i,s,o,n,r)}return new hm(i,s,n,r)}if(e.delete){var a=sg(t,e.delete);return new _m(a,n)}if(e.verify){var c=sg(t,e.verify);return new vm(c,n)}return af()}function pg(t,e){return{documents:[og(t,e.path)]}}function mg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=og(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=og(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Kf(t.value))return{unaryFilter:{field:wg(t.field),op:"IS_NAN"}};if(Gf(t.value))return{unaryFilter:{field:wg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Kf(t.value))return{unaryFilter:{field:wg(t.field),op:"IS_NOT_NAN"}};if(Gf(t.value))return{unaryFilter:{field:wg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wg(t.field),op:vg(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:wg(t.field),direction:_g(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.V||bf(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=yg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yg(e.endAt)),n}function gg(t){var e=ag(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cf(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Sg(e)]:void 0!==e.fieldFilter?[Og(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):af():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new pp(Cg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return bf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=bg(n.startAt));var u=null;return n.endAt&&(u=bg(n.endAt)),_p(e,i,a,o,c,"F",l,u)}function yg(t){return{before:t.before,values:t.position}}function bg(t){return new dp(t.values||[],!!t.before)}function _g(t){return $m[t]}function vg(t){return Ym[t]}function wg(t){return{fieldPath:t.canonicalString()}}function Cg(t){return xf.fromServerFormat(t.fieldPath)}function Og(t){return rp.create(Cg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return af()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cg(t.unaryFilter.field);return rp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cg(t.unaryFilter.field);return rp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cg(t.unaryFilter.field);return rp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cg(t.unaryFilter.field);return rp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return af()}}function Eg(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function xg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=kg(e)),e=Ig(t.get(n),e);return kg(e)}function Ig(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function kg(t){return t+"\x01\x01"}function Ag(t){var e=t.length;if(cf(e>=2),2===e)return cf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Sf.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&af(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:af()}s=o+2}return new Sf(r)}var Rg=function(t,e){this.seconds=t,this.nanoseconds=e},Dg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dg.store="owner",Dg.key="owner";var Pg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Pg.store="mutationQueues",Pg.keyPath="userId";var jg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};jg.store="mutations",jg.keyPath="batchId",jg.userMutationsIndex="userMutationsIndex",jg.userMutationsKeyPath=["userId","batchId"];var Ng=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tg(e)]},t.key=function(t,e,n){return[t,Tg(e),n]},t}();Ng.store="documentMutations",Ng.PLACEHOLDER=new Ng;var Lg=function(t,e){this.path=t,this.readTime=e},Mg=function(t,e){this.path=t,this.version=e},Fg=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Fg.store="remoteDocuments",Fg.readTimeIndex="readTimeIndex",Fg.readTimeIndexPath="readTime",Fg.collectionReadTimeIndex="collectionReadTimeIndex",Fg.collectionReadTimeIndexPath=["parentPath","readTime"];var Ug=function(t){this.byteSize=t};Ug.store="remoteDocumentGlobal",Ug.key="remoteDocumentGlobalKey";var Vg=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Vg.store="targets",Vg.keyPath="targetId",Vg.queryTargetsIndexName="queryTargetsIndex",Vg.queryTargetsKeyPath=["canonicalId","targetId"];var Bg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Bg.store="targetDocuments",Bg.keyPath=["targetId","path"],Bg.documentTargetsIndex="documentTargetsIndex",Bg.documentTargetsKeyPath=["path","targetId"];var qg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};qg.key="targetGlobalKey",qg.store="targetGlobal";var Hg=function(t,e){this.collectionId=t,this.parent=e};Hg.store="collectionParents",Hg.keyPath=["collectionId","parent"];var zg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zg.store="clientMetadata",zg.keyPath="clientId";var Gg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Gg.store="bundles",Gg.keyPath="bundleId";var Kg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Kg.store="namedQueries",Kg.keyPath="name";var Wg=Object(Xd.f)(Object(Xd.f)([],Object(Xd.f)(Object(Xd.f)([],Object(Xd.f)(Object(Xd.f)([],Object(Xd.f)(Object(Xd.f)([],[Pg.store,jg.store,Ng.store,Fg.store,Vg.store,Dg.store,qg.store,Bg.store]),[zg.store])),[Ug.store])),[Hg.store])),[Gg.store,Kg.store]),Qg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$g=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Yg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Jg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&af(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Xg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Yg,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new ey(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=oy(e.target.error);n.gt.reject(new ey(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ey(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(nf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ry(e)},t}(),Zg=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Xc.m)())&&rf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nf("SimpleDb","Removing database:",t),iy(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Xc.m)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(nf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ey(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cf(wf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ey(t,n))},i.onupgradeneeded=function(t){nf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){nf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s,o,a,c;return Object(Xd.d)(this,(function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,u;return Object(Xd.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=Xg.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Jg.reject(t)})).toPromise(),c={},o.catch((function(){})),[4,e.Et];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return nf("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&s<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ty=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return iy(this.xt.delete())},t}(),ey=function(t){function e(e,n){var r=this;return(r=t.call(this,wf.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Xd.c)(e,t),e}(Cf);function ny(t){return"IndexedDbTransactionError"===t.name}var ry=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),iy(n)},t.prototype.add=function(t){return nf("SimpleDb","ADD",this.store.name,t,t),iy(this.store.add(t))},t.prototype.get=function(t){var e=this;return iy(this.store.get(t)).next((function(n){return void 0===n&&(n=null),nf("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return nf("SimpleDb","DELETE",this.store.name,t),iy(this.store.delete(t))},t.prototype.count=function(){return nf("SimpleDb","COUNT",this.store.name),iy(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Lt=function(t,e){nf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Jg((function(n,r){e.onerror=function(t){var e=oy(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new Jg((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ty(i),o=e(i.primaryKey,i.value,s);if(o instanceof Jg){var a=o.catch((function(t){return s.done(),Jg.reject(t)}));n.push(a)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}else r()}})).next((function(){return Jg.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function iy(t){return new Jg((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=oy(t.target.error);n(e)}}))}var sy=!1;function oy(t){var e=Zg.It(Object(Xc.m)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sy||(sy=!0,setTimeout((function(){throw r}),0)),r}}return t}var ay=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Xd.c)(e,t),e}($g);function cy(t,e){var n=lf(t);return Zg.Pt(n.Qt,e)}var ly=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=om(s,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=am(o,e,this.localWriteTime));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=am(o,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ff(this.mutations,t.mutations,(function(t,e){return lm(t,e)}))&&ff(this.baseMutations,t.baseMutations,(function(t,e){return lm(t,e)}))},t}(),uy=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){cf(e.mutations.length===r.length);for(var i=Nm(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),hy=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Np.min()),void 0===s&&(s=Np.min()),void 0===o&&(o=If.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),dy=function(t){this.Kt=t};function fy(t,e){if(e.document)return hg(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tf.fromSegments(e.noDocument.path),r=by(e.noDocument.readTime);return new Yf(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Tf.fromSegments(e.unknownDocument.path);return r=by(e.unknownDocument.version),new Jf(i,r)}return af()}function py(t,e,n){var r=my(n),i=e.key.path.popLast().toArray();if(e instanceof $f){var s=function(t,e){return{name:ig(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Xm(t,e.version.toTimestamp())}}(t.Kt,e),o=e.hasCommittedMutations;return new Fg(null,null,s,o,r,i)}if(e instanceof Yf){var a=e.key.path.toArray(),c=yy(e.version);return o=e.hasCommittedMutations,new Fg(null,new Lg(a,c),null,o,r,i)}if(e instanceof Jf){var l=e.key.path.toArray(),u=yy(e.version);return new Fg(new Mg(l,u),null,null,!0,r,i)}return af()}function my(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gy(t){var e=new Pf(t[0],t[1]);return Np.fromTimestamp(e)}function yy(t){var e=t.toTimestamp();return new Rg(e.seconds,e.nanoseconds)}function by(t){var e=new Pf(t.seconds,t.nanoseconds);return Np.fromTimestamp(e)}function _y(t,e){for(var n=(e.baseMutations||[]).map((function(e){return fg(t.Kt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return fg(t.Kt,e)})),s=Pf.fromMillis(e.localWriteTimeMs);return new ly(e.batchId,s,n,i)}function vy(t){var e,n,r=by(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?by(t.lastLimboFreeSnapshotVersion):Np.min();return void 0!==t.query.documents?(cf(1===(n=t.query).documents.length),e=Tp(vp(ag(n.documents[0])))):e=function(t){return Tp(gg(t))}(t.query),new hy(e,t.targetId,0,t.lastListenSequenceNumber,r,i,If.fromBase64String(t.resumeToken))}function wy(t,e){var n,r=yy(e.snapshotVersion),i=yy(e.lastLimboFreeSnapshotVersion);n=np(e.target)?pg(t.Kt,e.target):mg(t.Kt,e.target);var s=e.resumeToken.toBase64();return new Vg(e.targetId,tp(e.target),r,s,e.sequenceNumber,i,n)}function Cy(t){var e=gg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ip(e,e.limit,"L"):e}var Oy=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Sy(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:by(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Sy(t).put({bundleId:(n=e).id,createTime:yy(eg(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ey(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Cy(e.bundledQuery),readTime:by(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Ey(t).put(function(t){return{name:t.name,readTime:yy(eg(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Sy(t){return cy(t,Gg.store)}function Ey(t){return cy(t,Kg.store)}var xy=function(){function t(){this.Wt=new Ty}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Jg.resolve()},t.prototype.getCollectionParents=function(t,e){return Jg.resolve(this.Wt.getEntries(e))},t}(),Ty=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Tm(Sf.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Tm(Sf.comparator)).toArray()},t}(),Iy=function(){function t(){this.jt=new Ty}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var s={collectionId:r,parent:Tg(i)};return ky(t).put(s)}return Jg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[pf(e),""],!1,!0);return ky(t).kt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ag(s.parent))}return n}))},t}();function ky(t){return cy(t,Hg.store)}var Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ry=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Dy(t,e,n){var r=t.store(jg.store),i=t.store(Ng.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.qt({range:o},(function(t,e,n){return a++,n.delete()}));s.push(c.next((function(){cf(1===a)})));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=Ng.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return Jg.waitFor(s).next((function(){return l}))}function Py(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw af();e=t.noDocument}return JSON.stringify(e).length}Ry.DEFAULT_COLLECTION_PERCENTILE=10,Ry.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ry.DEFAULT=new Ry(41943040,Ry.DEFAULT_COLLECTION_PERCENTILE,Ry.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ry.DISABLED=new Ry(-1,0,0);var jy=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return cf(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ly(t).qt({index:jg.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=My(t),o=Ly(t);return o.add({}).next((function(a){cf("number"==typeof a);for(var c=new ly(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return dg(t.Kt,e)})),i=n.mutations.map((function(e){return dg(t.Kt,e)}));return new jg(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,c),u=[],h=new Tm((function(t,e){return df(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=Ng.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(m,Ng.PLACEHOLDER))}return h.forEach((function(e){u.push(i.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.zt[a]=c.keys()})),Jg.waitFor(u).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Ly(t).get(e).next((function(t){return t?(cf(t.userId===n.userId),_y(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Jg.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ly(t).qt({index:jg.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(cf(e.batchId>=r),s=_y(n.D,e)),i.done()})).next((function(){return s}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ly(t).qt({index:jg.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ly(t).kt(jg.userMutationsIndex,n).next((function(t){return t.map((function(t){return _y(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ng.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return My(t).qt({range:i},(function(r,i,o){var a=r[0],c=r[2],l=Ag(r[1]);if(a===n.userId&&e.path.isEqual(l))return Ly(t).get(c).next((function(t){if(!t)throw af();cf(t.userId===n.userId),s.push(_y(n.D,t))}));o.done()})).next((function(){return s}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tm(df),i=[];return e.forEach((function(e){var s=Ng.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=My(t).qt({range:o},(function(t,i,s){var o=t[0],a=t[2],c=Ag(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()}));i.push(a)})),Jg.waitFor(i).next((function(){return n.Yt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ng.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Tm(df);return My(t).qt({range:o},(function(t,e,s){var o=t[0],c=t[2],l=Ag(t[1]);o===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):s.done()})).next((function(){return n.Yt(t,a)}))},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ly(t).get(e).next((function(t){if(null===t)throw af();cf(t.userId===n.userId),r.push(_y(n.D,t))})))})),Jg.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Dy(t.Qt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),Jg.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Jg.resolve();var r=IDBKeyRange.lowerBound(Ng.prefixForUser(e.userId)),i=[];return My(t).qt({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Ag(t[1]);i.push(s)}else r.done()})).next((function(){cf(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Ny(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Fy(t).get(this.userId).next((function(t){return t||new Pg(e.userId,-1,"")}))},t}();function Ny(t,e,n){var r=Ng.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return My(t).qt({range:s,Bt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Ly(t){return cy(t,jg.store)}function My(t){return cy(t,Ng.store)}function Fy(t){return cy(t,Pg.store)}var Uy=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Vy=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var r=new Uy(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return Np.fromTimestamp(new Pf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return By(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return cf(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return By(t).qt((function(o,a){var c=vy(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))})).next((function(){return Jg.waitFor(s)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return By(t).qt((function(t,n){var r=vy(n);e(r)}))},t.prototype.se=function(t){return qy(t).get(qg.key).next((function(t){return cf(null!==t),t}))},t.prototype.ie=function(t,e){return qy(t).put(qg.key,e)},t.prototype.re=function(t,e){return By(t).put(wy(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=tp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return By(t).qt({range:r,index:Vg.queryTargetsIndexName},(function(t,n,r){var s=vy(n);ep(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Hy(t);return e.forEach((function(e){var o=Tg(e.path);i.push(s.put(new Bg(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))})),Jg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Hy(t);return Jg.forEach(e,(function(e){var s=Tg(e.path);return Jg.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Hy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hy(t),i=Mm();return r.qt({range:n,Bt:!0},(function(t,e,n){var r=Ag(t[1]),s=new Tf(r);i=i.add(s)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Tg(e.path),r=IDBKeyRange.bound([n],[pf(n)],!1,!0),i=0;return Hy(t).qt({index:Bg.documentTargetsIndex,Bt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.yt=function(t,e){return By(t).get(e).next((function(t){return t?vy(t):null}))},t}();function By(t){return cy(t,Vg.store)}function qy(t){return cy(t,qg.store)}function Hy(t){return cy(t,Bg.store)}function zy(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){if(t.code!==wf.FAILED_PRECONDITION||t.message!==Qg)throw t;return nf("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Gy(t,e){var n=t[1],r=e[1],i=df(t[0],e[0]);return 0===i?df(n,r):i}var Ky=function(){function t(t){this.ce=t,this.buffer=new Tm(Gy),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wy=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;nf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Xd.b)(e,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ny(e=n.sent())?(nf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Qy=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Jg.resolve(Zd.o);var r=new Ky(e);return this.we.forEachTarget(t,(function(t){return r.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return r.he(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(nf("LruGarbageCollector","Garbage collection skipped; disabled"),Jg.resolve(Ay)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(nf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ay):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,s,o,a,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(nf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),ef()<=Jc.a.DEBUG&&nf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),Jg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),$y=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Qy(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Yy(t,n)},t.prototype.removeReference=function(t,e,n){return Yy(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Yy(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Fy(t).Ut((function(r){return Ny(t,r,e).next((function(t){return t&&(n=!0),Jg.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.pe(t,(function(o,a){if(a<=e){var c=n.Ee(t,o).next((function(e){if(!e)return s++,r.getEntry(t,o).next((function(){return r.removeEntry(o),Hy(t).delete([0,Tg(o.path)])}))}));i.push(c)}})).next((function(){return Jg.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Yy(t,e)},t.prototype.pe=function(t,e){var n,r=Hy(t),i=Zd.o;return r.qt({index:Bg.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Zd.o&&e(new Tf(Ag(n)),i),i=o,n=s):i=Zd.o})).next((function(){i!==Zd.o&&e(new Tf(Ag(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Yy(t,e){return Hy(t).put(function(t,e){return new Bg(0,Tg(t.path),e)}(e,t.currentSequenceNumber))}var Jy=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){gf(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.isEmpty=function(){return yf(this.inner)},t}(),Xy=function(){function t(){this.changes=new Jy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Np.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Jg.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Zy=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return nb(t).put(rb(e),n)},t.prototype.removeEntry=function(t,e){var n=nb(t),r=rb(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Te(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return nb(t).get(rb(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return nb(t).get(rb(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Py(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Rm();return this.Re(t,e,(function(t,e){var i=n.Ie(e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.be=function(t,e){var n=this,r=Rm(),i=new Sm(Tf.comparator);return this.Re(t,e,(function(t,e){var s=n.Ie(e);s?(r=r.insert(t,s),i=i.insert(t,Py(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{ve:r,Pe:i}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Jg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return nb(t).qt({range:r},(function(t,e,r){for(var o=Tf.fromSegments(t);s&&Tf.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ot(s.path.toArray()):r.done()})).next((function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Pm(),s=e.path.length+1,o={};if(n.isEqual(Np.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),l=my(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=Fg.collectionReadTimeIndex}return nb(t).qt(o,(function(t,n,o){if(t.length===s){var a=fy(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof $f&&Dp(e,a)&&(i=i.insert(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new tb(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return eb(t).get(Ug.key).next((function(t){return cf(!!t),t}))},t.prototype.Te=function(t,e){return eb(t).put(Ug.key,e)},t.prototype.Ie=function(t){if(t){var e=fy(this.D,t);return e instanceof Yf&&e.version.isEqual(Np.min())?null:e}return null},t}(),tb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Jy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Xd.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Tm((function(t,e){return df(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(s,o){var a=e.Se.get(s);if(o.maybeDocument){var c=py(e.Ve.D,o.maybeDocument,e.getReadTime(s));i=i.add(s.path.popLast());var l=Py(c);r+=l-a,n.push(e.Ve.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var u=py(e.Ve.D,new Yf(s,Np.min()),e.getReadTime(s));n.push(e.Ve.addEntry(t,s,u))}else n.push(e.Ve.removeEntry(t,s))})),i.forEach((function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))})),n.push(this.Ve.updateMetadata(t,r)),Jg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(Xy);function eb(t){return cy(t,Ug.store)}function nb(t){return cy(t,Fg.store)}function rb(t){return t.path.toArray()}var ib=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;cf(n<r&&n>=0&&r<=11);var s=new Xg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dg.store)}(t),function(t){t.createObjectStore(Pg.store,{keyPath:Pg.keyPath}),t.createObjectStore(jg.store,{keyPath:jg.keyPath,autoIncrement:!0}).createIndex(jg.userMutationsIndex,jg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ng.store)}(t),sb(t),function(t){t.createObjectStore(Fg.store)}(t));var o=Jg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Bg.store),t.deleteObjectStore(Vg.store),t.deleteObjectStore(qg.store)}(t),sb(t)),o=o.next((function(){return function(t){var e=t.store(qg.store),n=new qg(0,0,Np.min().toTimestamp(),0);return e.put(qg.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(jg.store).kt().next((function(n){t.deleteObjectStore(jg.store),t.createObjectStore(jg.store,{keyPath:jg.keyPath,autoIncrement:!0}).createIndex(jg.userMutationsIndex,jg.userMutationsKeyPath,{unique:!0});var r=e.store(jg.store),i=n.map((function(t){return r.put(t)}));return Jg.waitFor(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(zg.store,{keyPath:zg.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.De(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Ug.store)}(t),i.Ce(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Ne(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Fg.store);e.createIndex(Fg.readTimeIndex,Fg.readTimeIndexPath,{unique:!1}),e.createIndex(Fg.collectionReadTimeIndex,Fg.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.$e(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Gg.store,{keyPath:Gg.keyPath})}(t),function(t){t.createObjectStore(Kg.store,{keyPath:Kg.keyPath})}(t)}))),o},t.prototype.Ce=function(t){var e=0;return t.store(Fg.store).qt((function(t,n){e+=Py(n)})).next((function(){var n=new Ug(e);return t.store(Ug.store).put(Ug.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(Pg.store),r=t.store(jg.store);return n.kt().next((function(n){return Jg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(jg.userMutationsIndex,i).next((function(r){return Jg.forEach(r,(function(r){cf(r.userId===n.userId);var i=_y(e.D,r);return Dy(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(Bg.store),n=t.store(Fg.store);return t.store(qg.store).get(qg.key).next((function(t){var r=[];return n.qt((function(n,i){var s=new Sf(n),o=function(t){return[0,Tg(t)]}(s);r.push(e.get(o).next((function(n){return n?Jg.resolve():function(n){return e.put(new Bg(0,Tg(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Jg.waitFor(r)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(Hg.store,{keyPath:Hg.keyPath});var n=e.store(Hg.store),r=new Ty,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tg(i)})}};return e.store(Fg.store).qt({Bt:!0},(function(t,e){var n=new Sf(t);return i(n.popLast())})).next((function(){return e.store(Ng.store).qt({Bt:!0},(function(t,e){var n=Ag(t[1]);return i(n.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(Vg.store);return n.qt((function(t,r){var i=vy(r),s=wy(e.D,i);return n.put(s)}))},t}();function sb(t){t.createObjectStore(Bg.store,{keyPath:Bg.keyPath}).createIndex(Bg.documentTargetsIndex,Bg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vg.store,{keyPath:Vg.keyPath}).createIndex(Vg.queryTargetsIndexName,Vg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qg.store)}var ob="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ab=function(){function t(e,n,r,i,s,o,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=s,this.window=o,this.document=a,this.Oe=l,this.ke=u,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Cf(wf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $y(this,i),this.We=n+"main",this.D=new dy(c),this.je=new Zg(this.We,11,new ib(this.D)),this.Ge=new Vy(this.referenceDelegate,this.D),this.Gt=new Iy,this.ze=function(t,e){return new Zy(t,e)}(this.D,this.Gt),this.He=new Oy,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===u&&rf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cf(wf.FAILED_PRECONDITION,ob);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new Zd(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Xd.b)(e,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return Object(Xd.b)(e,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return Object(Xd.b)(e,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return lb(e).put(new zg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(ny(e))return nf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return cb(t).get(Dg.key).next((function(t){return Jg.resolve(e.cn(t))}))},t.prototype.an=function(t){return lb(t).delete(this.clientId)},t.prototype.un=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=cy(t,zg.store);return e.kt().next((function(t){var n=r.ln(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Jg.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Jg.resolve(!0):cb(t).get(Dg.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Cf(wf.FAILED_PRECONDITION,ob);return!1}}return!(!e.networkEnabled||!e.inForeground)||lb(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&nf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t=this;return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Dg.store,zg.store],(function(e){var n=new ay(e,Zd.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return lb(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return jy.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nf("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Wg,(function(s){return r=new ay(s,i.Me?i.Me.next():Zd.o),"readwrite-primary"===e?i.nn(r).next((function(t){return!!t||i.sn(r)})).next((function(e){if(!e)throw rf("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable((function(){return i.Ke(!1)})),new Cf(wf.FAILED_PRECONDITION,Qg);return n(r)})).next((function(t){return i.on(r).next((function(){return t}))})):i.pn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return cb(t).get(Dg.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cf(wf.FAILED_PRECONDITION,ob)}))},t.prototype.on=function(t){var e=new Dg(this.clientId,this.allowTabSynchronization,Date.now());return cb(t).put(Dg.key,e)},t.At=function(){return Zg.At()},t.prototype.rn=function(t){var e=this,n=cb(t);return n.get(Dg.key).next((function(t){return e.cn(t)?(nf("IndexedDbPersistence","Releasing primary lease."),n.delete(Dg.key)):Jg.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rf("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return nf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rf("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){rf("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function cb(t){return cy(t,Dg.store)}function lb(t){return cy(t,zg.store)}function ub(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hb=function(t,e){this.progress=t,this.En=e},db=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.An(t,e,r)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var r=Rm();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.Rn(t,e,r),s=Am();return i.forEach((function(t,e){e||(e=new Yf(t,Np.min())),s=s.insert(t,e)})),s}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Tf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Ep(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Tf(e)).next((function(t){var e=Pm();return t instanceof $f&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,s=Pm();return this.Gt.getCollectionParents(t,i).next((function(o){return Jg.forEach(o,(function(o){var a=function(t,e){return new bp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Sn(t,a,n).next((function(t){t.forEach((function(t,e){s=s.insert(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Sn=function(t,e,n){var r,i,s=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,s.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return s.Dn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=am(c,r.get(l),s.localWriteTime);r=u instanceof $f?r.insert(l,u):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){Dp(e,n)||(r=r.remove(t))})),r}))},t.prototype.Dn=function(t,e,n){for(var r=Mm(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof dm&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.ze.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof $f&&(l=l.insert(t,e))})),l}))},t}(),fb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Mm(),i=Mm(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pb=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Np.min())?this.On(t,e):this.Fn.bn(t,r).next((function(s){var o=i.kn(e,s);return(wp(e)||Cp(e))&&i.Mn(e.limitType,o,r,n)?i.On(t,e):(ef()<=Jc.a.DEBUG&&nf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rp(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return o.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new Tm(Pp(t));return e.forEach((function(e,r){r instanceof $f&&Dp(t,r)&&(n=n.add(r))})),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return ef()<=Jc.a.DEBUG&&nf("QueryEngine","Using full collection scan to execute query:",Rp(e)),this.Fn.getDocumentsMatchingQuery(t,e,Np.min())},t}(),mb=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Sm(df),this.qn=new Jy((function(t){return tp(t)}),ep),this.Un=Np.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new db(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();function gb(t,e,n,r){return new mb(t,e,n,r)}function yb(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Xd.d)(this,(function(o){switch(o.label){case 0:return n=lf(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Tn.getAllMutationBatches(t).next((function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new db(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],o=Mm(),a=0,c=s;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.bn(t,o).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),s)]}}))}))}function bb(t,e){var n=lf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Jg.resolve();return s.forEach((function(t){o=o.next((function(){return r.getEntry(e,t)})).next((function(e){var s=e,o=n.docVersions.get(t);cf(null!==o),(!s||s.version.compareTo(o)<0)&&(s=i.applyToRemoteDocument(t,s,n))&&r.addEntry(s,n.commitVersion)}))})),o.next((function(){return t.Tn.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}function _b(t){var e=lf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function vb(t,e){var n=lf(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var o=[];e.targetChanges.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,s).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,s)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,l),function(t,e,n){return cf(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&o.push(n.Ge.updateTargetData(t,l))}}}));var a=Am();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(wb(t,s,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Np.min())){var c=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)}));o.push(c)}return Jg.waitFor(o).next((function(){return s.apply(t)})).next((function(){return n.Kn.vn(t,a)}))})).then((function(t){return n.Bn=i,t}))}function wb(t,e,n,r,i){var s=Mm();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Am();return n.forEach((function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o instanceof Yf&&o.version.isEqual(Np.min())?(e.removeEntry(n,c),s=s.insert(n,o)):null==a||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):nf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Cb(t,e){var n=lf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function Ob(t,e){var n=lf(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ge.getTargetData(t,e).next((function(i){return i?Jg.resolve(r=i):n.Ge.allocateTargetId(t).next((function(i){return r=new hy(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function Sb(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:r=lf(t),i=r.Bn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ny(o=a.sent()))throw o;return nf("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}}))}))}function Eb(t,e,n){var r=lf(t),i=Np.min(),s=Mm();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=lf(t),i=r.qn.get(n);return void 0!==i?Jg.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Tp(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Np.min(),n?s:Mm())})).next((function(t){return{documents:t,jn:s}}))}))}function xb(t,e){var n=lf(t),r=lf(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.yt(t,e).next((function(t){return t?t.target:null}))}))}function Tb(t){var e=lf(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=lf(t),i=Am(),s=my(n),o=nb(e),a=IDBKeyRange.lowerBound(s,!0);return o.qt({index:Fg.readTimeIndex,range:a},(function(t,e){var n=fy(r.D,e);i=i.insert(n.key,n),s=e.readTime})).next((function(){return{En:i,readTime:gy(s)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En;return e.Un=t.readTime,n}))}function Ib(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){return[2,(e=lf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=nb(t),n=Np.min();return e.qt({index:Fg.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=gy(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function kb(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s,o,a,c,l,u,h,d,f;return Object(Xd.d)(this,(function(p){switch(p.label){case 0:for(i=lf(t),s=Mm(),o=Am(),a=Nm(),c=0,l=n;c<l.length;c++)h=e.Gn((u=l[c]).metadata.name),u.document&&(s=s.add(h)),o=o.insert(h,e.zn(u)),a=a.insert(h,e.Hn(u.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,Ob(i,function(t){return Tp(vp(Sf.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return wb(t,d,o,Np.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.Ge.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.Ge.addMatchingKeys(t,s,f.targetId)})).next((function(){return i.Kn.vn(t,e)}))}))}))]}}))}))}function Ab(t,e,n){return void 0===n&&(n=Mm()),Object(Xd.b)(this,void 0,void 0,(function(){var r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return[4,Ob(t,Tp(Cy(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=lf(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=eg(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.He.saveNamedQuery(t,e);var o=r.withResumeToken(If.EMPTY_BYTE_STRING,s);return i.Bn=i.Bn.insert(o.targetId,o),i.Ge.updateTargetData(t,o).next((function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.Ge.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.He.saveNamedQuery(t,e)}))}))]}}))}))}var Rb=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Jg.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:eg(n.createTime)}),Jg.resolve()},t.prototype.getNamedQuery=function(t,e){return Jg.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Cy(t.bundledQuery),readTime:eg(t.readTime)}}(e)),Jg.resolve()},t}(),Db=function(){function t(){this.Xn=new Tm(Pb.Zn),this.ts=new Tm(Pb.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Pb(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new Pb(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new Tf(new Sf([])),r=new Pb(n,t),i=new Pb(n,t+1),s=[];return this.ts.forEachInRange([r,i],(function(t){e.ss(t),s.push(t.key)})),s},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Tf(new Sf([])),n=new Pb(e,t),r=new Pb(e,t+1),i=Mm();return this.ts.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Pb(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Pb=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Tf.comparator(t.key,e.key)||df(t.hs,e.hs)},t.es=function(t,e){return df(t.hs,e.hs)||Tf.comparator(t.key,e.key)},t}(),jb=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Tm(Pb.Zn)}return t.prototype.checkEmpty=function(t){return Jg.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var s=new ly(i,e,n,r);this.Tn.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.fs=this.fs.add(new Pb(c.key,i)),this.Gt.addToCollectionParentIndex(t,c.key.path.popLast())}return Jg.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Jg.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Jg.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Jg.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Jg.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Pb(e,0),i=new Pb(e,Number.POSITIVE_INFINITY),s=[];return this.fs.forEachInRange([r,i],(function(t){var e=n.ds(t.hs);s.push(e)})),Jg.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Tm(df);return e.forEach((function(t){var e=new Pb(t,0),i=new Pb(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],(function(t){r=r.add(t.hs)}))})),Jg.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Tf.isDocumentKey(i)||(i=i.child(""));var s=new Pb(new Tf(i),0),o=new Tm(df);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.hs)),!0)}),s),Jg.resolve(this._s(o))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.ds(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;cf(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Jg.forEach(e.mutations,(function(i){var s=new Pb(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.fs=r}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Pb(e,0),r=this.fs.firstAfterOrEqual(n);return Jg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Jg.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Nb=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Sm(Tf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:o,readTime:n}),this.size+=o-s,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Jg.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Rm();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),Jg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Pm(),i=new Tf(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.maybeDocument,l=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;l.compareTo(n)<=0||c instanceof $f&&Dp(e,c)&&(r=r.insert(c.key,c))}return Jg.resolve(r)},t.prototype.ps=function(t,e){return Jg.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Lb(this)},t.prototype.getSize=function(t){return Jg.resolve(this.size)},t}(),Lb=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Xd.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)})),Jg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Xy),Mb=function(){function t(t){this.persistence=t,this.Es=new Jy((function(t){return tp(t)}),ep),this.lastRemoteSnapshotVersion=Np.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Db,this.targetCount=0,this.As=Uy.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),Jg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Jg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Jg.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Jg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Jg.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Uy(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Jg.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Jg.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Jg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.Es.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Jg.waitFor(s).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Jg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Jg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Jg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Jg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Jg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Jg.resolve(n)},t.prototype.containsKey=function(t,e){return Jg.resolve(this.Is.containsKey(e))},t}(),Fb=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Zd(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Mb(this),this.Gt=new xy,this.ze=function(t,e){return new Nb(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new dy(e),this.He=new Rb(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new jb(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;nf("MemoryPersistence","Starting transaction:",t);var i=new Ub(this.Me.next());return this.referenceDelegate.vs(),n(i).next((function(t){return r.referenceDelegate.Ps(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return Jg.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Xd.c)(e,t),e}($g),Vb=function(){function t(t){this.persistence=t,this.Ss=new Db,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw af()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Jg.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Jg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Jg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jg.forEach(this.xs,(function(r){var i=Tf.fromPath(r);return e.Ns(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Jg.or([function(){return Jg.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Bb=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function qb(t,e){return"firestore_clients_"+t+"_"+e}function Hb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function zb(t,e){return"firestore_targets_"+t+"_"+e}Bb.UNAUTHENTICATED=new Bb(null),Bb.GOOGLE_CREDENTIALS=new Bb("google-credentials-uid"),Bb.FIRST_PARTY=new Bb("first-party-uid");var Gb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Cf(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(rf("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cf(i.error.code,i.error.message)),s?new t(e,i.state,r):(rf("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Um(),o=0;i&&o<r.activeTargetIds.length;++o)i=vf(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rf("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rf("SharedClientState","Failed to parse online state: "+e),null)},t}(),$b=function(){function t(){this.activeTargetIds=Um()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Yb=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Sm(df),this.started=!1,this.Us=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=qb(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new $b),this.Ws=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,c,l,u=this;return Object(Xd.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(qb(this.persistenceKey,r)))&&(s=Wb.$s(r,i))&&(this.qs=this.qs.insert(s.clientId,s));for(this.Js(),(o=this.storage.getItem(this.zs))&&(a=this.Ys(o))&&this.Xs(a),c=0,l=this.Us;c<l.length;c++)this.Bs(l[c]);return this.Us=[],this.window.addEventListener("unload",(function(){return u.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(zb(this.persistenceKey,t));if(n){var r=Kb.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(zb(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.ei(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void rf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return Object(Xd.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Xd.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(s=this.Ys(n.newValue)))return[2,this.Xs(s)]}else if(n.key===this.Ks)(o=function(t){var e=Zd.o;if(null!=t)try{var n=JSON.parse(t);cf("number"==typeof n),e=n}catch(t){rf("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zd.o&&this.sequenceNumberHandler(o);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Gb(this.currentUser,t,e,n),i=Hb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Hb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=zb(this.persistenceKey,t),i=new Kb(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Wb.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Gb.$s(new Bb(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Kb.$s(r,e)},t.prototype.Ys=function(t){return Qb.$s(t)},t.prototype.hi=function(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(nf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),s=this.Zs(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.syncEngine.mi(o,a).then((function(){n.qs=r}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Um();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Jb=function(){function t(){this.yi=new $b,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new $b,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Xb=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Zb=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){nf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){nf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),t_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},e_=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),n_=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Xd.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise((function(i,s){var o=new Jd;o.listenOnce(Qd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Wd.NO_ERROR:var e=o.getResponseJson();nf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Wd.TIMEOUT:nf("Connection",'RPC "'+t+'" timed out'),s(new Cf(wf.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:var n=o.getStatus();if(nf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(wf).indexOf(e)>=0?e:wf.UNKNOWN}(r.status);s(new Cf(a,r.message))}else s(new Cf(wf.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Cf(wf.UNAVAILABLE,"Connection failed."));break;default:af()}}finally{nf("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new qd,i=Gu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,e),Object(Xc.t)()||Object(Xc.w)()||Object(Xc.q)()||Object(Xc.s)()||Object(Xc.x)()||Object(Xc.p)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");nf("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,l=!1,u=new e_({vi:function(t){l?nf("Connection","Not sending because WebChannel is closed:",t):(c||(nf("Connection","Opening WebChannel transport."),a.open(),c=!0),nf("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Yd.EventType.OPEN,(function(){l||nf("Connection","WebChannel transport opened.")})),h(a,Yd.EventType.CLOSE,(function(){l||(l=!0,nf("Connection","WebChannel transport closed"),u.$i())})),h(a,Yd.EventType.ERROR,(function(t){l||(l=!0,sf("Connection","WebChannel transport errored:",t),u.$i(new Cf(wf.UNAVAILABLE,"The operation could not be completed")))})),h(a,Yd.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];cf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nf("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=ym[t];if(void 0!==e)return Om(e)}(i),o=r.message;void 0===s&&(s=wf.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,u.$i(new Cf(s,o)),a.close()}else nf("Connection","WebChannel received:",n),u.Fi(n)}})),h(i,$d.STAT_EVENT,(function(t){10===t.stat?nf("Connection","Detected buffering proxy"):11===t.stat&&nf("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Ni()}),0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);nf("RestConnection","Sending: ",i,n);var s={};return this.Bi(s,r),this.qi(t,i,s,n).then((function(t){return nf("RestConnection","Received: ",t),t}),(function(e){throw sf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+t_[t]},t}());function r_(){return"undefined"!=typeof window?window:null}function i_(){return"undefined"!=typeof document?document:null}function s_(t){return new Jm(t,!0)}var o_=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&nf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),a_=function(){function t(t,e,n,r,i,s){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new o_(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===wf.RESOURCE_EXHAUSTED?(rf(e.toString()),rf("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===wf.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new Cf(wf.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return Object(Xd.b)(t,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return nf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(nf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),c_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).D=i,o}return Object(Xd.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:af()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.V?(cf(void 0===e||"string"==typeof e),If.fromBase64String(e||"")):(cf(void 0===e||e instanceof Uint8Array),If.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?wf.UNKNOWN:Om(t.code);return new Cf(e,t.message||"")}(a);n=new zm(r,i,s,o||null)}else if("documentChange"in e){i=sg(t,(r=e.documentChange).document.name),s=eg(r.document.updateTime);var a=new Mp({mapValue:{fields:r.document.fields}}),c=(o=new $f(i,s,a,{}),r.targetIds||[]);n=new qm(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=sg(t,(r=e.documentDelete).document),s=r.readTime?eg(r.readTime):Np.min(),a=new Yf(i,s),n=new qm([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=sg(t,(r=e.documentRemove).document),n=new qm([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return af();var l=e.filter;i=new wm(r=l.count||0),n=new Hm(s=l.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Np.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Np.min():e.readTime?eg(e.readTime):Np.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=cg(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=np(r)?{documents:pg(t,r)}:{query:mg(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Zm(t,e.resumeToken):e.snapshotVersion.compareTo(Np.min())>0&&(n.readTime=Xm(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return af()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=cg(this.D),e.removeTarget=t,this.wr(e)},e}(a_),l_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).D=i,o.Rr=!1,o}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(cf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(cf(void 0!==e),t.map((function(t){return function(t,e){var n=eg(t.updateTime?t.updateTime:e);return n.isEqual(Np.min())&&(n=eg(e)),new nm(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=eg(t.commitTime);return this.listener.Pr(n,e)}return cf(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=cg(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return dg(e.D,t)}))};this.wr(n)},e}(a_),u_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Xd.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Cf(wf.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Mi(t,e,n,i)})).catch((function(t){throw t.code===wf.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then((function(i){return r.er.Ui(t,e,n,i)})).catch((function(t){throw t.code===wf.UNAUTHENTICATED&&r.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),h_=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(rf(e),this.Fr=!1):nf("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),d_=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi((function(t){n.enqueueAndForget((function(){return Object(Xd.b)(s,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return w_(this)?(nf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return(e=lf(t)).Qr.add(4),[4,p_(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,f_(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new h_(n,r)};function f_(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:if(!w_(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function p_(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function m_(t,e){var n=lf(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),v_(n)?__(n):L_(n).ar()&&y_(n,e))}function g_(t,e){var n=lf(t),r=L_(n);n.Ur.delete(e),r.ar()&&b_(n,e),0===n.Ur.size&&(r.ar()?r.lr():w_(n)&&n.jr.set("Unknown"))}function y_(t,e){t.Gr.H(e.targetId),L_(t).Ir(e)}function b_(t,e){t.Gr.H(e),L_(t).Ar(e)}function __(t){t.Gr=new Km({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),L_(t).start(),t.jr.Or()}function v_(t){return w_(t)&&!L_(t).cr()&&t.Ur.size>0}function w_(t){return 0===lf(t).Qr.size}function C_(t){t.Gr=void 0}function O_(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){return t.Ur.forEach((function(e,n){y_(t,e)})),[2]}))}))}function S_(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(n){return C_(t),v_(t)?(t.jr.Lr(e),__(t)):t.jr.set("Unknown"),[2]}))}))}function E_(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Xd.d)(this,(function(o){switch(o.label){case 0:if(t.jr.set("Online"),!(e instanceof zm&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Xd.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ur.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ur.delete(s),t.Gr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),nf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,x_(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof qm?t.Gr.st(e):e instanceof Hm?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Np.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,_b(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(If.EMPTY_BYTE_STRING,n.snapshotVersion)),b_(t,e);var r=new hy(n.target,e,1,n.sequenceNumber);y_(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return nf("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,x_(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function x_(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r=this;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:if(!ny(e))throw e;return t.Qr.add(1),[4,p_(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return _b(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Xd.b)(r,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return nf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,f_(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function T_(t,e){return e().catch((function(n){return x_(t,n,e)}))}function I_(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Xd.d)(this,(function(o){switch(o.label){case 0:e=lf(t),n=M_(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return w_(t)&&t.qr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Cb(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=M_(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,x_(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return k_(e)&&A_(e),[2]}}))}))}function k_(t){return w_(t)&&!M_(t).cr()&&t.qr.length>0}function A_(t){M_(t).start()}function R_(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){return M_(t).Sr(),[2]}))}))}function D_(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Xd.d)(this,(function(i){for(e=M_(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]}))}))}function P_(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return r=t.qr.shift(),i=uy.from(r,e,n),[4,T_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return s.sent(),[4,I_(t)];case 2:return s.sent(),[2]}}))}))}function j_(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e&&M_(t).br?[4,function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return Cm(r=e.code)&&r!==wf.ABORTED?(n=t.qr.shift(),M_(t).hr(),[4,T_(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,I_(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return k_(t)&&A_(t),[2]}}))}))}function N_(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return n=lf(t),e?(n.Qr.delete(2),[4,f_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,p_(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function L_(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=lf(t);return r.Cr(),new c_(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:O_.bind(null,t),Di:S_.bind(null,t),Tr:E_.bind(null,t)}),t.Kr.push((function(n){return Object(Xd.b)(e,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),v_(t)?__(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),C_(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function M_(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=lf(t);return r.Cr(),new l_(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:R_.bind(null,t),Di:j_.bind(null,t),Vr:D_.bind(null,t),Pr:P_.bind(null,t)}),t.Kr.push((function(n){return Object(Xd.b)(e,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,I_(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(nf("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr}var F_=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cf(wf.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function U_(t,e){if(rf("AsyncQueue",e+": "+t),ny(t))return new Cf(wf.UNAVAILABLE,e+": "+t);throw t}var V_=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Tf.comparator(e.key,n.key)}:function(t,e){return Tf.comparator(t.key,e.key)},this.keyedMap=Pm(),this.sortedSet=new Sm(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),B_=function(){function t(){this.Jr=new Sm(Tf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):af():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),q_=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,V_.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),H_=function(){this.Xr=void 0,this.listeners=[]},z_=function(){this.queries=new Jy((function(t){return Ap(t)}),kp),this.onlineState="Unknown",this.Zr=new Set};function G_(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(Xd.d)(this,(function(l){switch(l.label){case 0:if(n=lf(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new H_),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Xr=l.sent(),[3,4];case 3:return a=l.sent(),c=U_(a,"Initialization of query '"+Rp(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&$_(n),[2]}}))}))}function K_(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Xd.d)(this,(function(a){return n=lf(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function W_(t,e){for(var n=lf(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].no(o)&&(r=!0);a.Xr=o}}r&&$_(n)}function Q_(t,e,n){var r=lf(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function $_(t){t.Zr.forEach((function(t){t.next()}))}var Y_=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new q_(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.io?this.oo(t)&&(this.so.next(t),s=!0):this.co(t,this.onlineState)&&(this.ao(t),s=!0),this.ro=t,s},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=q_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),J_=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),X_=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return sg(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?hg(this.D,t.document,!1):new Yf(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return eg(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new X_(this.D),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Gn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||Mm()).add(o);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return[4,kb(this.localStore,new X_(this.D),this.documents,this.lo.id)];case 1:t=s.sent(),e=this.wo(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Ab(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hb(Object.assign({},this.progress),t))]}}))}))}}();var Z_=function(t){this.key=t},tv=function(t){this.key=t},ev=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Mm(),this.mutatedKeys=Mm(),this.po=Pp(t),this.Eo=new V_(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new B_,i=e?e.Eo:this.Eo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=wp(this.query)&&i.size===this.query.limit?i.last():null,l=Cp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var u=i.get(t),h=e instanceof $f?e:null;h&&(h=Dp(n.query,h)?h:null);var d=!!u&&n.mutatedKeys.has(u.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Ro(u,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.po(h,c)>0||l&&n.po(h,l)<0)&&(a=!0)):!u&&h?(r.track({type:0,doc:h}),p=!0):u&&!h&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),wp(this.query)||Cp(this.query))for(;o.size>this.query.limit;){var u=wp(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Eo:o,Ao:r,Mn:a,mutatedKeys:s}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var s=t.Ao.Yr();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return af()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)})),this.bo(n);var o=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,c=a!==this.mo;return this.mo=a,0!==s.length||c?{snapshot:new q_(this.query,t.Eo,i,s,t.mutatedKeys,0===a,c,!1),Po:o}:{Po:o}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new B_,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Mm(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new tv(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new Z_(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Mm();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return q_.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),nv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rv=function(t){this.key=t,this.Co=!1},iv=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.xo={},this.No=new Jy((function(t){return Ap(t)}),kp),this.$o=new Map,this.Fo=new Set,this.Oo=new Sm(Tf.comparator),this.ko=new Map,this.Mo=new Db,this.Lo={},this.Bo=new Map,this.qo=Uy.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function sv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:return n=jv(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,Ob(n.localStore,Tp(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ov(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&m_(n.remoteStore,s),a.label=4;case 4:return[2,r]}}))}))}function ov(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s,o,a,c,l;return Object(Xd.d)(this,(function(u){switch(u.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Eb(t.localStore,e.query,!1).then((function(t){return e.view.Io(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(_v(t,e.targetId,o.Po),o.snapshot)]}}))}))}(t,e,n,r)},[4,Eb(t.localStore,e,!0)];case 1:return i=u.sent(),s=new ev(e,i.jn),o=s.Io(i.documents),a=Bm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),_v(t,n,c.Po),l=new nv(e,n,s),[2,(t.No.set(e,l),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),c.snapshot)]}}))}))}function av(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return n=lf(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter((function(t){return!kp(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Sb(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),g_(n.remoteStore,r.targetId),yv(n,r.targetId)})).catch(zy)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return yv(n,r.targetId),[4,Sb(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function cv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:r=Nv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=lf(t),i=Pf.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Mm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Kn.bn(t,s).next((function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=cm(l,n.get(l.key));null!=u&&o.push(new dm(l.key,u,Up(u.proto.mapValue),rm.exists(!0)))}return r.Tn.addMutationBatch(t,i,o,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Sm(df)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Cv(r,i.changes)];case 3:return a.sent(),[4,I_(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=U_(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function lv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:n=lf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,vb(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.ko.get(e);r&&(cf(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?cf(r.Co):t.removedDocuments.size>0&&(cf(r.Co),r.Co=!1))})),[4,Cv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function uv(t,e,n){var r=lf(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach((function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=lf(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].eo(e)&&(r=!0)})),r&&$_(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c;return Object(Xd.d)(this,(function(l){switch(l.label){case 0:return(r=lf(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(s=i&&i.key)?(o=(o=new Sm(Tf.comparator)).insert(s,new Yf(s,Np.min())),a=Mm().add(s),c=new Vm(Np.min(),new Map,new Tm(df),o,a),[4,lv(r,c)]):[3,2];case 1:return l.sent(),r.Oo=r.Oo.remove(s),r.ko.delete(e),wv(r),[3,4];case 2:return[4,Sb(r.localStore,e,!1).then((function(){return yv(r,e,n)})).catch(zy)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function dv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:n=lf(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,bb(n.localStore,e)];case 2:return i=s.sent(),gv(n,r,null),mv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Cv(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,zy(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function fv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:r=lf(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=lf(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Tn.lookupMutationBatch(t,e).next((function(e){return cf(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,r)}))}))}(r.localStore,e)];case 2:return i=s.sent(),gv(r,e,n),mv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Cv(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,zy(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function pv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:w_((n=lf(t)).remoteStore)||nf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=lf(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return s=a.sent(),o=U_(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function mv(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function gv(t,e,n){var r=lf(t),i=r.Lo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function yv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var s=i[r];t.No.delete(s),n&&t.xo.Ko(s,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||bv(t,e)}))}function bv(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(g_(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),wv(t))}function _v(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Z_?(t.Mo.addReference(s.key,e),vv(t,s)):s instanceof tv?(nf("SyncEngine","Document no longer in limbo: "+s.key),t.Mo.removeReference(s.key,e),t.Mo.containsKey(s.key)||bv(t,s.key)):af()}}function vv(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(nf("SyncEngine","New document in limbo: "+n),t.Fo.add(r),wv(t))}function wv(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Tf(Sf.fromString(e)),r=t.qo.next();t.ko.set(r,new rv(n)),t.Oo=t.Oo.insert(n,r),m_(t.remoteStore,new hy(Tp(vp(n.path)),r,2,Zd.o))}}function Cv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:return r=lf(t),i=[],s=[],o=[],r.No.isEmpty()?[3,3]:(r.No.forEach((function(t,a){o.push(r.Qo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fb.Nn(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,l;return Object(Xd.d)(this,(function(u){switch(u.label){case 0:n=lf(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Jg.forEach(e,(function(e){return Jg.forEach(e.Cn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Jg.forEach(e.xn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return u.sent(),[3,4];case 3:if(!ny(r=u.sent()))throw r;return nf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Bn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Bn=n.Bn.insert(a,l));return[2]}}))}))}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ov(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return(n=lf(t)).currentUser.isEqual(e)?[3,3]:(nf("SyncEngine","User change. New user:",e.toKey()),[4,yb(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new Cf(wf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Cv(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Sv(t,e){var n=lf(t),r=n.ko.get(e);if(r&&r.Co)return Mm().add(r.key);var i=Mm(),s=n.$o.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.No.get(a[o]);i=i.unionWith(c.view.To)}return i}function Ev(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return[4,Eb((n=lf(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&_v(n,e.targetId,i.Po),i)]}}))}))}function xv(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){return[2,Tb((e=lf(t)).localStore).then((function(t){return Cv(e,t)}))]}))}))}function Tv(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s;return Object(Xd.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=lf(t),r=lf(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):Jg.resolve(null)}))}))}((i=lf(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,I_(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(gv(i,e,r||null),mv(i,e),function(t,e){lf(lf(t).Tn).Xt(e)}(i.localStore,e)):af(),o.label=4;case 4:return[4,Cv(i,s)];case 5:return o.sent(),[3,7];case 6:nf("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Iv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(Xd.d)(this,(function(l){switch(l.label){case 0:return jv(n=lf(t)),Nv(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,kv(n,r.toArray())]);case 1:return i=l.sent(),n.Uo=!0,[4,N_(n.remoteStore,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)m_(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],c=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return yv(n,e),Sb(n.localStore,e,!0)})),g_(n.remoteStore,e)})),[4,c]);case 4:return l.sent(),[4,kv(n,a)];case 5:return l.sent(),function(t){var e=lf(t);e.ko.forEach((function(t,n){g_(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new Sm(Tf.comparator)}(n),n.Uo=!1,[4,N_(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function kv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,l,u,h,d,f,p;return Object(Xd.d)(this,(function(m){switch(m.label){case 0:n=lf(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(l=n.$o.get(a=o[s]))&&0!==l.length?[4,Ob(n.localStore,Tp(l[0]))]:[3,7]):[3,13];case 2:c=m.sent(),u=0,h=l,m.label=3;case 3:return u<h.length?(d=n.No.get(h[u]),[4,Ev(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,xb(n.localStore,a)];case 8:return p=m.sent(),[4,Ob(n.localStore,p)];case 9:return c=m.sent(),[4,ov(n,Av(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}}))}))}function Av(t){return _p(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Rv(t){var e=lf(t);return lf(lf(e.localStore).persistence).gn()}function Dv(t,e,n,r){return Object(Xd.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Xd.d)(this,(function(a){switch(a.label){case 0:return(i=lf(t)).Uo?(nf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tb(i.localStore)];case 3:return s=a.sent(),o=Vm.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Cv(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Sb(i.localStore,e,!0)];case 6:return a.sent(),yv(i,e,r),[3,8];case 7:af(),a.label=8;case 8:return[2]}}))}))}function Pv(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c,l,u,h;return Object(Xd.d)(this,(function(d){switch(d.label){case 0:if(!(r=jv(t)).Uo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.$o.has(o=s[i])?(nf("SyncEngine","Adding an already active target "+o),[3,5]):[4,xb(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Ob(r.localStore,a)];case 3:return c=d.sent(),[4,ov(r,Av(a),c.targetId,!1)];case 4:d.sent(),m_(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Sb(r.localStore,t,!1).then((function(){g_(r.remoteStore,t),yv(r,t)})).catch(zy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))}function jv(t){var e=lf(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hv.bind(null,e),e.xo.Tr=W_.bind(null,e.eventManager),e.xo.Ko=Q_.bind(null,e.eventManager),e}function Nv(t){var e=lf(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fv.bind(null,e),e}var Lv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return this.D=s_(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return gb(this.persistence,new pb,t.initialUser,this.D)},t.prototype.Go=function(t){return new Fb(Vb.Cs,this.D)},t.prototype.jo=function(t){return new Jb},t.prototype.terminate=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Xd.c)(e,t),e.prototype.initialize=function(e){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ib(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Nv(this.Jo.syncEngine)];case 4:return n.sent(),[4,I_(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return gb(this.persistence,new pb,t.initialUser,this.D)},e.prototype.zo=function(t){return new Wy(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=ub(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ry.withCacheSize(this.cacheSizeBytes):Ry.DEFAULT;return new ab(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,r_(),i_(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Jb},e}(Lv),Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Xd.c)(e,t),e.prototype.initialize=function(e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Yb?(this.sharedClientState.syncEngine={wi:Tv.bind(null,n),_i:Dv.bind(null,n),mi:Pv.bind(null,n),gn:Rv.bind(null,n),di:xv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en((function(t){return Object(Xd.b)(r,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return[4,Iv(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=r_();if(!Yb.At(e))throw new Cf(wf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ub(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yb(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Mv),Uv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n=this;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return uv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ov.bind(null,this.syncEngine),[4,N_(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new z_},t.prototype.createDatastore=function(t){var e=s_(t.databaseInfo.databaseId),n=new n_(t.databaseInfo);return function(t,e,n){return new u_(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return uv(o.syncEngine,t,0)},s=Zb.At()?new Zb:new Xb,new d_(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new iv(t,e,n,r,i,s);return o&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e=lf(t),nf("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,p_(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Vv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Bv=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Yg,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new J_(JSON.parse(r),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cf(wf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Xd.d)(this,(function(c){switch(c.label){case 0:return n=lf(t),r=cg(n.D)+"/documents",i={documents:e.map((function(t){return ig(n.D,t)}))},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){cf(!!e.found);var n=sg(t,e.found.name),r=eg(e.found.updateTime),i=new Mp({mapValue:{fields:e.found.fields}});return new $f(n,r,i,{})}(t,e):"missing"in e?function(t,e){cf(!!e.missing),cf(!!e.readTime);var n=sg(t,e.missing),r=eg(e.readTime);return new Yf(n,r)}(t,e):af()}(n.D,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());cf(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Yf||t instanceof $f?n.recordVersion(t):af()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new _m(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Tf.fromPath(n);e.mutations.push(new vm(r,e.precondition(r)))})),[4,function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return n=lf(t),r=cg(n.D)+"/documents",i={writes:e.map((function(t){return dg(n.D,t)}))},[4,n.Mi("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof $f)e=t.version;else{if(!(t instanceof Yf))throw af();e=Np.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cf(wf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rm.updateTime(e):rm.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Np.min()))throw new Cf(wf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rm.updateTime(e)}return rm.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),qv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new o_(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return Object(Xd.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Xd.d)(this,(function(r){return t=new Bv(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!bf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Cm(e)}return!1},t}(),Hv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Bb.UNAUTHENTICATED,this.clientId=hf.u(),this.credentialListener=function(){},this.receivedInitialUser=new Yg,this.credentials.setChangeListener((function(t){nf("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cf(wf.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Yg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Xd.b)(t,void 0,void 0,(function(){var t,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=U_(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function zv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(Xd.b)(i,void 0,void 0,(function(){return Object(Xd.d)(this,(function(t){switch(t.label){case 0:return[4,yb(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Gv(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Kv(t)];case 1:return n=i.sent(),nf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(Xd.b)(this,void 0,void 0,(function(){var n,r;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return(n=lf(t)).asyncQueue.verifyOperationInProgress(),nf("RemoteStore","RemoteStore received new credentials"),r=w_(n),n.Qr.add(3),[4,p_(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,f_(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function Kv(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nf("FirestoreClient","Using default OfflineComponentProvider"),[4,zv(t,new Lv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Wv(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nf("FirestoreClient","Using default OnlineComponentProvider"),[4,Gv(t,new Uv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Qv(t){return Kv(t).then((function(t){return t.persistence}))}function $v(t){return Kv(t).then((function(t){return t.localStore}))}function Yv(t){return Wv(t).then((function(t){return t.remoteStore}))}function Jv(t){return Wv(t).then((function(t){return t.syncEngine}))}function Xv(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return[4,Wv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=sv.bind(null,e.syncEngine),n.onUnlisten=av.bind(null,e.syncEngine),n)]}}))}))}function Zv(t,e,n){var r=this;void 0===n&&(n={});var i=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(r,void 0,void 0,(function(){var r;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Vv({next:function(s){e.enqueueAndForget((function(){return K_(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Cf(wf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Cf(wf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Y_(vp(n.path),s,{includeMetadataChanges:!0,uo:!0});return G_(t,o)},[4,Xv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function tw(t,e,n){var r=this;void 0===n&&(n={});var i=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(r,void 0,void 0,(function(){var r;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Vv({next:function(n){e.enqueueAndForget((function(){return K_(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Cf(wf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Y_(n,s,{includeMetadataChanges:!0,uo:!0});return G_(t,o)},[4,Xv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var ew=function(t,e,n,r,i,s){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s},nw=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rw=new Map,iw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},sw=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Bb.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ow=function(){function t(t){var e=this;this.fc=null,this.currentUser=Bb.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(nf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(cf("string"==typeof n.accessToken),new iw(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return cf(null===t||"string"==typeof t),new Bb(t)},t}(),aw=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Bb.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cw=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new aw(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Bb.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function lw(t,e,n){if(!n)throw new Cf(wf.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function uw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cf(wf.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hw(t,e,n,r){if(!0===e&&!0===r)throw new Cf(wf.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dw(t){if(!Tf.isDocumentKey(t))throw new Cf(wf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function fw(t){if(Tf.isDocumentKey(t))throw new Cf(wf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":af()}function mw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cf(wf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pw(t);throw new Cf(wf.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function gw(t,e){if(e<=0)throw new Cf(wf.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cf(wf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cf(wf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),bw=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1,t instanceof nw?(this._databaseId=t,this._credentials=new sw):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cf(wf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nw(t.options.projectId)}(t),this._credentials=new ow(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Cf(wf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Cf(wf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new sw;switch(t.type){case"gapi":var e=t.client;return cf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cw(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Cf(wf.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rw.get(this))&&(nf("ComponentProvider","Removing Datastore"),rw.delete(this),t.terminate()),Promise.resolve();var t},t}(),_w=function(t){this._delegate=t},vw=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Cw(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ww=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vp(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new vw(this.firestore,null,new Tf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ww);function Ow(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _w&&(t=t._delegate),lw("collection","path",e),t instanceof bw)return fw(n=Sf.fromString.apply(Sf,Object(Xd.f)([e],r))),new Cw(t,null,n);if(!(t instanceof vw||t instanceof Cw))throw new Cf(wf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fw(n=Sf.fromString.apply(Sf,Object(Xd.f)([t.path],r)).child(Sf.fromString(e))),new Cw(t.firestore,null,n)}function Sw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof _w&&(t=t._delegate),1===arguments.length&&(e=hf.u()),lw("doc","path",e),t instanceof bw)return dw(n=Sf.fromString.apply(Sf,Object(Xd.f)([e],r))),new vw(t,null,new Tf(n));if(!(t instanceof vw||t instanceof Cw))throw new Cf(wf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dw(n=t._path.child(Sf.fromString.apply(Sf,Object(Xd.f)([e],r)))),new vw(t.firestore,t instanceof Cw?t._converter:null,new Tf(n))}function Ew(t,e){return t instanceof _w&&(t=t._delegate),e instanceof _w&&(e=e._delegate),(t instanceof vw||t instanceof Cw)&&(e instanceof vw||e instanceof Cw)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function xw(t,e){return t instanceof _w&&(t=t._delegate),e instanceof _w&&(e=e._delegate),t instanceof ww&&e instanceof ww&&t.firestore===e.firestore&&kp(t._query,e._query)&&t._converter===e._converter}var Tw=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new o_(this,"async_queue_retry"),this.bc=function(){var e=i_();e&&nf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=i_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=i_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!ny(t=n.sent()))throw t;return nf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,rf("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=F_.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&af()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Xd.b)(this,void 0,void 0,(function(){var t;return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Iw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Yg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var kw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Tw,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Xd.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Rw(this),this._firestoreClient.terminate()},e}(bw);function Aw(t){return t._firestoreClient||Rw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rw(t){var e=t._freezeSettings(),n=function(t,e,n){return new ew(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Hv(t._credentials,t._queue,n)}function Dw(t,e,n){var r=this,i=new Yg;return t.asyncQueue.enqueue((function(){return Object(Xd.b)(r,void 0,void 0,(function(){var r;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,zv(t,n)];case 1:return s.sent(),[4,Gv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===wf.FAILED_PRECONDITION||t.code===wf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Pw(t){if(t._initialized||t._terminated)throw new Cf(wf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cf(wf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xf(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Nw=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(If.fromBase64String(e))}catch(e){throw new Cf(wf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(If.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Lw=function(t){this._methodName=t},Mw=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cf(wf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cf(wf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return df(this._lat,t._lat)||df(this._long,t._long)},t}(),Fw=/^__.*__$/,Uw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new dm(t,this.data,this.fieldMask,e,this.fieldTransforms):new hm(t,this.data,e,this.fieldTransforms)},t}(),Vw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new dm(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Bw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw af()}}var qw=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return cC(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Bw(this.Fc)&&Fw.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Hw=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||s_(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new qw({Fc:t,methodName:e,Kc:n,path:xf.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function zw(t){var e=t._freezeSettings(),n=s_(t._databaseId);return new Hw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gw(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Wc(s.merge||s.mergeFields?2:0,e,n,i);iC("Data must be an object, but it was:",o,r);var a,c,l=nC(r,o);if(s.merge)a=new Lp(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var u=[],h=0,d=s.mergeFields;h<d.length;h++){var f=sC(e,d[h],n);if(!o.contains(f))throw new Cf(wf.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");lC(u,f)||u.push(f)}a=new Lp(u),c=o.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=o.fieldTransforms;return new Uw(new Mp(l),a,c)}var Kw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lw);function Ww(t,e,n){return new qw({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Qw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype._toFieldTransform=function(t){return new em(t.path,new Wp)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lw),$w=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Xd.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ww(this,t,!0),n=this.jc.map((function(t){return eC(t,e)})),r=new Qp(n);return new em(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lw),Yw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Xd.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ww(this,t,!0),n=this.jc.map((function(t){return eC(t,e)})),r=new Yp(n);return new em(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lw),Jw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Xd.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Xp(t.D,qp(t.D,this.Gc));return new em(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lw);function Xw(t,e,n,r){var i=t.Wc(1,e,n);iC("Data must be an object, but it was:",i,r);var s=[],o=new Fp;gf(r,(function(t,r){var a=aC(e,t,n);r instanceof _w&&(r=r._delegate);var c=i.Bc(a);if(r instanceof Kw)s.push(a);else{var l=eC(r,c);null!=l&&(s.push(a),o.set(a,l))}}));var a=new Lp(s);return new Vw(o.v(),a,i.fieldTransforms)}function Zw(t,e,n,r,i,s){var o=t.Wc(1,e,n),a=[sC(e,r,n)],c=[i];if(s.length%2!=0)throw new Cf(wf.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(sC(e,s[l])),c.push(s[l+1]);for(var u=[],h=new Fp,d=a.length-1;d>=0;--d)if(!lC(u,a[d])){var f=a[d],p=c[d];p instanceof _w&&(p=p._delegate);var m=o.Bc(f);if(p instanceof Kw)u.push(f);else{var g=eC(p,m);null!=g&&(u.push(f),h.set(f,g))}}var y=new Lp(u);return new Vw(h.v(),y,o.fieldTransforms)}function tC(t,e,n,r){return void 0===r&&(r=!1),eC(n,t.Wc(r?4:3,e))}function eC(t,e){if(t instanceof _w&&(t=t._delegate),rC(t))return iC("Unsupported field value:",e,t),nC(t,e);if(t instanceof Lw)return function(t,e){if(!Bw(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=eC(s[i],e.qc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof _w&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qp(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Pf.fromDate(t);return{timestampValue:Xm(e.D,n)}}if(t instanceof Pf)return n=new Pf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Xm(e.D,n)};if(t instanceof Mw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nw)return{bytesValue:Zm(e.D,t._byteString)};if(t instanceof vw){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ng(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+pw(t))}(t,e)}function nC(t,e){var n={};return yf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(t,(function(t,r){var i=eC(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function rC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Pf||t instanceof Mw||t instanceof Nw||t instanceof vw||t instanceof Lw)}function iC(t,e,n){if(!rC(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=pw(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function sC(t,e,n){if(e instanceof _w&&(e=e._delegate),e instanceof jw)return e._internalPath;if("string"==typeof e)return aC(t,e);throw cC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var oC=new RegExp("[~\\*/\\[\\]]");function aC(t,e,n){if(e.search(oC)>=0)throw cC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(jw.bind.apply(jw,Object(Xd.f)([void 0],e.split(".")))))._internalPath}catch(r){throw cC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cC(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Cf(wf.INVALID_ARGUMENT,(a+=". ")+t+c)}function lC(t,e){return t.some((function(t){return t.isEqual(e)}))}var uC=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new vw(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(dC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(uC);function dC(t,e){return"string"==typeof e?aC(t,e):e instanceof _w?e._delegate._internalPath:e._internalPath}var fC=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pC=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Xd.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new mC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(dC("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(uC),mC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pC),gC=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new fC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new mC(n._firestore,n._userDataWriter,r.key,r,new fC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cf(wf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new mC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new fC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new mC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new fC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yC(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return af()}}function bC(t,e){return t instanceof pC&&e instanceof pC?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gC&&e instanceof gC&&t._firestore===e._firestore&&xw(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _C(t){if(Cp(t)&&0===t.explicitOrderBy.length)throw new Cf(wf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vC=function(){};function wC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var CC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Xd.c)(e,t),e.prototype._apply=function(t){var e=zw(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Cf(wf.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){kC(o,s);for(var c=[],l=0,u=o;l<u.length;l++)c.push(IC(r,t,u[l]));a={arrayValue:{values:c}}}else a=IC(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||kC(o,s),a=tC(n,"where",o,"in"===s||"not-in"===s);var h=rp.create(i,s,a);return function(t,e){if(e.g()){var n=Sp(t);if(null!==n&&!n.isEqual(e.field))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Op(t);null!==r&&AC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cf(wf.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ww(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new bp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(vC),OC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Xd.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pp(e,n);return function(t,e){if(null===Op(t)){var n=Sp(t);null!==n&&AC(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new ww(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new bp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(vC),SC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Xd.c)(e,t),e.prototype._apply=function(t){return new ww(t.firestore,t._converter,Ip(t._query,this.Xc,this.Zc))},e}(vC),EC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Xd.c)(e,t),e.prototype._apply=function(t){var e=TC(t,this.type,this.ta,this.ea);return new ww(t.firestore,t._converter,function(t,e){return new bp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(vC),xC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Xd.c)(e,t),e.prototype._apply=function(t){var e=TC(t,this.type,this.ta,this.ea);return new ww(t.firestore,t._converter,function(t,e){return new bp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(vC);function TC(t,e,n,r){if(n[0]instanceof _w&&(n[0]=n[0]._delegate),n[0]instanceof uC)return function(t,e,n,r,i){if(!r)throw new Cf(wf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=xp(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(qf(e,r.key));else{var l=r.field(c.field);if(jf(l))throw new Cf(wf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}s.push(l)}}return new dp(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zw(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Cf(wf.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Ep(t)&&-1!==l.indexOf("/"))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(Sf.fromString(l));if(!Tf.isDocumentKey(u))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new Tf(u);a.push(qf(e,h))}else{var d=tC(n,r,l);a.push(d)}}return new dp(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function IC(t,e,n){if(n instanceof _w&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ep(e)&&-1!==n.indexOf("/"))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Sf.fromString(n));if(!Tf.isDocumentKey(r))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qf(t,new Tf(r))}if(n instanceof vw)return qf(t,n._key);throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pw(n)+".")}function kC(t,e){if(!Array.isArray(t)||0===t.length)throw new Cf(wf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cf(wf.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function AC(t,e,n){if(!n.isEqual(e))throw new Cf(wf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var RC=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Lf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Rf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Df(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw af()}},t.prototype.convertObject=function(t,e){var n=this,r={};return gf(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Mw(Rf(t.latitude),Rf(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return jf(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Nf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Af(t);return new Pf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Sf.fromString(t);cf(xg(n));var r=new nw(n.get(1),n.get(3)),i=new Tf(n.popFirst(5));return r.isEqual(e)||rf("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function DC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var PC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xd.c)(e,t),e.prototype.convertBytes=function(t){return new Nw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vw(this.firestore,null,e)},e}(RC),jC=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=NC(t,this._firestore),i=DC(r._converter,e,n),s=Gw(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,rm.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=NC(t,this._firestore);return e instanceof _w&&(e=e._delegate),s="string"==typeof e||e instanceof jw?Zw(this._dataReader,"WriteBatch.update",o._key,e,n,r):Xw(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,rm.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=NC(t,this._firestore);return this._mutations=this._mutations.concat(new _m(e._key,rm.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cf(wf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function NC(t,e){if(t instanceof _w&&(t=t._delegate),t.firestore!==e)throw new Cf(wf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var LC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xd.c)(e,t),e.prototype.convertBytes=function(t){return new Nw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vw(this.firestore,null,e)},e}(RC);function MC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mw(t,vw);var s=mw(t.firestore,kw),o=zw(s);return e instanceof _w&&(e=e._delegate),UC(s,[("string"==typeof e||e instanceof jw?Zw(o,"updateDoc",t._key,e,n,r):Xw(o,"updateDoc",t._key,e)).toMutation(t._key,rm.exists(!0))])}function FC(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof _w&&(t=t._delegate);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Iw(i[a])||(o=i[a],a++);var c,l,u,h={includeMetadataChanges:o.includeMetadataChanges};if(Iw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof vw)l=mw(t.firestore,kw),u=vp(t._key.path),c={next:function(e){i[a]&&i[a](VC(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=mw(t,ww);l=mw(f.firestore,kw),u=f._query;var p=new LC(l);c={next:function(t){i[a]&&i[a](new gC(l,p,f,t))},error:i[a+1],complete:i[a+2]},_C(t._query)}return function(t,e,n,r){var i=this,s=new Vv(r),o=new Y_(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(i,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e=G_,[4,Xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(i,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e=K_,[4,Xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Aw(l),u,h,c)}function UC(t,e){return function(t,e){var n=this,r=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var n;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return n=cv,[4,Jv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Aw(t),e)}function VC(t,e,n){var r=n.docs.get(e._key),i=new LC(t);return new pC(t,i,e._key,r,new fC(n.hasPendingWrites,n.fromCache),e._converter)}var BC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Xd.c)(e,t),e.prototype.get=function(e){var n=this,r=NC(e,this._firestore),i=new LC(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new pC(n._firestore,i,r._key,t._document,new fC(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zw(t)}return t.prototype.get=function(t){var e=this,n=NC(t,this._firestore),r=new PC(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return af();var i=t[0];if(i instanceof Yf)return new uC(e._firestore,r,n._key,null,n._converter);if(i instanceof $f)return new uC(e._firestore,r,i.key,i,n._converter);throw af()}))},t.prototype.set=function(t,e,n){var r=NC(t,this._firestore),i=DC(r._converter,e,n),s=Gw(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=NC(t,this._firestore);return e instanceof _w&&(e=e._delegate),s="string"==typeof e||e instanceof jw?Zw(this._dataReader,"Transaction.update",o._key,e,n,r):Xw(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=NC(t,this._firestore);return this._transaction.delete(e._key),this},t}());function qC(){if("undefined"==typeof Uint8Array)throw new Cf(wf.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function HC(){if("undefined"==typeof atob)throw new Cf(wf.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.fromBase64String=function(t){return HC(),new e(Nw.fromBase64String(t))},e.fromUint8Array=function(t){return qC(),new e(Nw.fromUint8Array(t))},e.prototype.toBase64=function(){return HC(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return qC(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(_w),GC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Pw(t=mw(t,kw));var n=Aw(t),r=t._freezeSettings(),i=new Uv;return Dw(n,i,new Mv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Pw(t=mw(t,kw));var e=Aw(t),n=t._freezeSettings(),r=new Uv;return Dw(e,r,new Fv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Cf(wf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Yg;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Xd.b)(e,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Xd.b)(this,void 0,void 0,(function(){return Object(Xd.d)(this,(function(e){switch(e.label){case 0:return Zg.At()?[4,Zg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ub(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),KC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof nw||(i.sa=e),i}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=mw(t,bw))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&sf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Xd.b)(e,void 0,void 0,(function(){var e,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return[4,Qv(t)];case 1:return e=r.sent(),[4,Yv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=lf(t);return e.Qr.delete(0),f_(e)}(n))]}}))}))}))}(Aw(mw(this._delegate,kw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Xd.b)(e,void 0,void 0,(function(){var e,n;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return[4,Qv(t)];case 1:return e=r.sent(),[4,Yv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Xd.b)(this,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return(e=lf(t)).Qr.add(0),[4,p_(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Aw(mw(this._delegate,kw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(e,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(r){switch(r.label){case 0:return e=pv,[4,Jv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Aw(mw(this._delegate,kw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vv(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){lf(t).Zr.add(e),e.next()},[4,Xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var e;return Object(Xd.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){lf(t).Zr.delete(e)},[4,Xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Aw(t=mw(t,kw)),Iw(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Cf(wf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new oO(this,Ow(this._delegate,t))}catch(t){throw XC(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new JC(this,Sw(this._delegate,t))}catch(t){throw XC(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new rO(this,function(t,e){if(t=mw(t,bw),lw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cf(wf.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ww(t,null,function(t){return new bp(Sf.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw XC(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var n;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Wv(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new qv(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Aw(t),(function(n){return e(new BC(t,n))}))}(this._delegate,(function(n){return t(new QC(e,n))}))},e.prototype.batch=function(){var t=this;return Aw(this._delegate),new $C(new jC(this._delegate,(function(e){return UC(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new Cf(wf.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Cf(wf.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(_w),WC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Xd.c)(e,t),e.prototype.convertBytes=function(t){return new zC(new Nw(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return JC.ia(e,this.firestore,null)},e}(RC),QC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new WC(e),r}return Object(Xd.c)(e,t),e.prototype.get=function(t){var e=this,n=aO(t);return this._delegate.get(n).then((function(t){return new eO(e._firestore,new pC(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var r=aO(t);return n?(uw("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=aO(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Xd.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=aO(t);return this._delegate.delete(e),this},e}(_w),$C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.set=function(t,e,n){var r=aO(t);return n?(uw("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=aO(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Xd.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=aO(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(_w),YC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Xd.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new mC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nO(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new WC(t),n),i.set(n,s)),s},e}(_w);YC.oa=new WeakMap;var JC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new WC(e),r}return Object(Xd.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Cf(wf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new vw(n._delegate,r,new Tf(t)))},e.ia=function(t,n,r){return new e(n,new vw(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new oO(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new oO(this.firestore,Ow(this._delegate,t))}catch(t){throw XC(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof _w&&(t=t._delegate),t instanceof vw&&Ew(this._delegate,t)},e.prototype.set=function(t,e){e=uw("DocumentReference.set",e);try{return function(t,e,n){t=mw(t,vw);var r=mw(t.firestore,kw),i=DC(t._converter,e,n);return UC(r,[Gw(zw(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,rm.none())])}(this._delegate,t,e)}catch(t){throw XC(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?MC(this._delegate,t):MC.apply(void 0,Object(Xd.f)([this._delegate,t,e],n))}catch(t){throw XC(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return UC(mw((t=this._delegate).firestore,kw),[new _m(t._key,rm.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZC(e),i=tO(e,(function(e){return new eO(t.firestore,new pC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return FC(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mw(t,vw);var e=mw(t.firestore,kw),n=Aw(e),r=new LC(e);return function(t,e){var n=this,r=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var n;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i;return Object(Xd.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=lf(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(i=s.sent())instanceof $f?n.resolve(i):i instanceof Yf?n.resolve(null):n.reject(new Cf(wf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=U_(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,$v(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new pC(e,r,t._key,n,new fC(n instanceof $f&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mw(t,vw);var e=mw(t.firestore,kw);return Zv(Aw(e),t._key,{source:"server"}).then((function(n){return VC(e,t,n)}))}(this._delegate):function(t){t=mw(t,vw);var e=mw(t.firestore,kw);return Zv(Aw(e),t._key).then((function(n){return VC(e,t,n)}))}(this._delegate)).then((function(t){return new eO(e.firestore,new pC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?YC.ra(this.firestore,t):null))},e}(_w);function XC(t,e,n){return t.message=t.message.replace(e,n),t}function ZC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Iw(r))return r}return{}}function tO(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Iw(t[0])?t[0]:Iw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new JC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return bC(this._delegate,t._delegate)},e}(_w),nO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(eO),rO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new WC(e),r}return Object(Xd.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,wC(this._delegate,function(t,e,n){var r=e,i=dC("where",t);return new CC(i,r,n)}(t,n,r)))}catch(t){throw XC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,wC(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=dC("orderBy",t);return new OC(r,n)}(t,n)))}catch(t){throw XC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,wC(this._delegate,function(t){return gw("limit",t),new SC("limit",t,"F")}(t)))}catch(t){throw XC(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,wC(this._delegate,function(t){return gw("limitToLast",t),new SC("limitToLast",t,"L")}(t)))}catch(t){throw XC(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new EC("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw XC(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new EC("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw XC(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xC("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw XC(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,wC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xC("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw XC(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return xw(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mw(t,ww);var e=mw(t.firestore,kw),n=Aw(e),r=new LC(e);return function(t,e){var n=this,r=new Yg;return t.asyncQueue.enqueueAndForget((function(){return Object(Xd.b)(n,void 0,void 0,(function(){var n;return Object(Xd.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Xd.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(Xd.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Eb(t,e,!0)];case 1:return a=c.sent(),r=new ev(e,a.jn),i=r.Io(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=U_(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,$v(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new gC(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mw(t,ww);var e=mw(t.firestore,kw),n=Aw(e),r=new LC(e);return tw(n,t._query,{source:"server"}).then((function(n){return new gC(e,r,t,n)}))}(this._delegate):function(t){t=mw(t,ww);var e=mw(t.firestore,kw),n=Aw(e),r=new LC(e);return _C(t._query),tw(n,t._query).then((function(n){return new gC(e,r,t,n)}))}(this._delegate)).then((function(t){return new sO(e.firestore,new gC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ZC(e),i=tO(e,(function(e){return new sO(t.firestore,new gC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return FC(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?YC.ra(this.firestore,t):null))},e}(_w),iO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nO(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(_w),sO=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new rO(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new nO(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new iO(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new nO(n._firestore,r))}))},e.prototype.isEqual=function(t){return bC(this._delegate,t._delegate)},e}(_w),oO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Xd.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new JC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new JC(this.firestore,void 0===t?Sw(this._delegate):Sw(this._delegate,t))}catch(t){throw XC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mw(t.firestore,kw),r=Sw(t),i=DC(t._converter,e);return UC(n,[Gw(zw(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,rm.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new JC(e.firestore,t)}))},e.prototype.isEqual=function(t){return Ew(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?YC.ra(this.firestore,t):null))},e}(rO);function aO(t){return t instanceof _w&&(t=t._delegate),mw(t,vw)}var cO,lO=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(jw.bind.apply(jw,Object(Xd.f)([void 0],e))))||this}return Object(Xd.c)(e,t),e.documentId=function(){return new e(xf.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof _w&&(t=t._delegate),t instanceof jw&&this._delegate._internalPath.isEqual(t._internalPath)},e}(_w),uO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Xd.c)(e,t),e.serverTimestamp=function(){var t=new Qw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Kw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $w("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yw("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Jw("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(_w),hO=n("/6Yf"),dO={Firestore:KC,GeoPoint:Mw,Timestamp:Pf,Blob:zC,Transaction:QC,WriteBatch:$C,DocumentReference:JC,DocumentSnapshot:eO,Query:rO,QueryDocumentSnapshot:nO,QuerySnapshot:sO,CollectionReference:oO,FieldPath:lO,FieldValue:uO,setLogLevel:function(t){tf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new hO.a("firestore",(function(t){return function(t,e){return new KC(t,new kw(t,e),new GC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},dO)))})(cO=Yc.a),cO.registerVersion("@firebase/firestore","2.2.1");var fO=n("VRyK"),pO=n("qgXg"),mO=n("Ylt2");class gO extends Wi.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new yO(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Qi.a;if(this.isStopped||this.hasError?s=Ks.a.EMPTY:(this.observers.push(t),s=new mO.a(this,t)),r&&t.add(t=new Wc.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||pO.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class yO{constructor(t,e){this.time=t,this.value=e}}function bO(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(l){let u;o++,!i||a?(a=!1,i=new gO(t,e,r),u=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function _O(t,e){return e?Is(()=>t,e):Is(()=>t)}var vO=n("tf+s");const wO=new r.r("angularfire2.auth.use-emulator"),CO=new r.r("angularfire2.auth.settings"),OO=new r.r("angularfire2.auth.tenant-id"),SO=new r.r("angularfire2.auth.langugage-code"),EO=new r.r("angularfire2.auth.use-device-language"),xO=new r.r("angularfire.auth.persistence");let TO=(()=>{class t{constructor(t,e,r,i,s,o,a,c,l,u){const h=new Qc.d(i),d=Object(Qc.h)(h),f=new Wi.a,p=Object(Ki.a)(void 0).pipe(Object(Wc.b)(h.outsideAngular),Is(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(vr.a)(()=>Object(Qc.g)(t,i,e)),Object(vr.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Qc.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),u&&r.setPersistence(u),r},[e,a,c,l,n,u])})),bO({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ki.a)(null);else{p.pipe(zs()).subscribe();const t=p.pipe(Is(t=>t.getRedirectResult().then(t=>t,()=>null)),d,bO({bufferSize:1,refCount:!1})),e=t=>new br.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Is(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Is(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(_O(n),Object(vO.a)(h.outsideAngular),Object(Wc.b)(h.insideAngular)),this.user=t.pipe(_O(r),Object(vO.a)(h.outsideAngular),Object(Wc.b)(h.insideAngular)),this.idToken=this.user.pipe(Is(t=>t?Object(Cr.a)(t.getIdToken()):Object(Ki.a)(null))),this.idTokenResult=this.user.pipe(Is(t=>t?Object(Cr.a)(t.getIdTokenResult()):Object(Ki.a)(null))),this.credential=Object(fO.a)(t,f,this.authState.pipe(ds(t=>!t))).pipe(Object(vr.a)(t=>(null==t?void 0:t.user)?t:null),Object(vO.a)(h.outsideAngular),Object(Wc.b)(h.insideAngular))}return Object(Qc.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Qc.c),r.cc(Qc.b,8),r.cc(r.C),r.cc(r.A),r.cc(wO,8),r.cc(CO,8),r.cc(OO,8),r.cc(SO,8),r.cc(EO,8),r.cc(xO,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Qc.c),Object(r.cc)(Qc.b,8),Object(r.cc)(r.C),Object(r.cc)(r.A),Object(r.cc)(wO,8),Object(r.cc)(CO,8),Object(r.cc)(OO,8),Object(r.cc)(SO,8),Object(r.cc)(EO,8),Object(r.cc)(xO,8))},token:t,providedIn:"any"}),t})();function IO(t,e){return function(t,e=Vc.b){return new br.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function kO(t,e){return IO(t,e).pipe(Object(vr.a)(t=>({payload:t,type:"query"})))}function AO(t,e){return kO(t,e).pipe(Ns(void 0),Bc(),Object(vr.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function RO(t,e,n){return AO(t,n).pipe(Ls((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return DO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return DO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),zc(),Object(vr.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function DO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function PO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class jO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=AO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(vr.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ns(void 0),Bc(),ds(([t,e])=>e.length>0||!t),Object(vr.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ls((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=PO(t);return RO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vr.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Cr.a)(this.query.get(t)).pipe(Object(Wc.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new NO(this.ref.doc(t),this.afs)}}class NO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=BO(n,e);return new jO(r,i,this.afs)}snapshotChanges(){return IO(this.ref,this.afs.schedulers.outsideAngular).pipe(Ns(void 0),Bc(),Object(vr.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(vr.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Cr.a)(this.ref.get(t)).pipe(Object(Wc.b)(this.afs.schedulers.insideAngular))}}class LO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?AO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vr.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ds(t=>t.length>0),this.afs.keepUnstableUntilFirst):AO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ls((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=PO(t);return RO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return kO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(vr.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Cr.a)(this.query.get(t)).pipe(Object(Wc.b)(this.afs.schedulers.insideAngular))}}const MO=new r.r("angularfire2.enableFirestorePersistence"),FO=new r.r("angularfire2.firestore.persistenceSettings"),UO=new r.r("angularfire2.firestore.settings"),VO=new r.r("angularfire2.firestore.use-emulator");function BO(t,e=(t=>t)){return{query:e(t),ref:t}}let qO=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new Qc.d(s),this.keepUnstableUntilFirst=Object(Qc.h)(this.schedulers);const l=Object(Qc.g)(t,s,e);!$c.a.auth&&c&&Object(Qc.j)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(Qc.f)(l.name+".firestore","AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),u&&t.useEmulator(...u),n&&!$(i)){const e=()=>{try{return Object(Cr.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(cO){return"undefined"!=typeof console&&console.warn(cO),Object(Ki.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ki.a)(!1)]},[r,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=BO(n,e),s=this.schedulers.ngZone.run(()=>r);return new jO(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new LO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new NO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Qc.c),r.cc(Qc.b,8),r.cc(MO,8),r.cc(UO,8),r.cc(r.C),r.cc(r.A),r.cc(FO,8),r.cc(VO,8),r.cc(wO,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Qc.c),Object(r.cc)(Qc.b,8),Object(r.cc)(MO,8),Object(r.cc)(UO,8),Object(r.cc)(r.C),Object(r.cc)(r.A),Object(r.cc)(FO,8),Object(r.cc)(VO,8),Object(r.cc)(wO,8))},token:t,providedIn:"any"}),t})(),HO=(()=>{class t{constructor(t){this.firestore=t}getUsers(){return this.firestore.collection("users").snapshotChanges().pipe(Object(vr.a)(t=>{let e=[];return t.forEach(t=>{e.push(t.payload.doc.data())}),e}))}createUser(t){return this.firestore.collection("users").add(t)}updateUser(t){this.firestore.doc("users/"+t.email).update(t)}deleteUser(t){this.firestore.doc("users/"+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(qO))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zO=n("n6bG");function GO(t,e,n,r){return Object(zO.a)(n)&&(r=n,n=void 0),r?GO(t,e,n).pipe(Object(vr.a)(t=>Object(_r.a)(t)?r(...t):r(t))):new br.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var KO=n("Y7HM");function WO(t=0,e,n){let r=-1;return Object(KO.a)(e)?r=Number(e)<1?1:Number(e):Object(Yi.a)(e)&&(n=e),Object(Yi.a)(n)||(n=Vc.a),new br.a(e=>{const i=Object(KO.a)(t)?t:+t-n.now();return n.schedule(QO,i,{index:0,period:r,subscriber:e})})}function QO(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class $O{call(t,e){return e.subscribe(new YO(t))}}class YO extends Xi{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=es(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var JO=n("KqfI");const XO=new br.a(JO.a);var ZO=n("Lhse");function tS(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(ns.a)(t,void 0).lift(new eS(e))}class eS{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new nS(t,this.resultSelector))}}class nS extends Ji.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(_r.a)(t)?e.push(new iS(t)):e.push("function"==typeof t[ZO.a]?new rS(t[ZO.a]()):new sS(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class rS{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class iS{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[ZO.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class sS extends Ts.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[ZO.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Ts.c)(this.observable,new Ts.a(this))}}function oS(t){return e=>e.lift(new aS(t))}class aS{constructor(t){this.notifier=t}call(t,e){const n=new cS(t),r=Object(Ts.c)(this.notifier,new Ts.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class cS extends Ts.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function lS(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new uS(t,n))}}class uS{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new hS(t,this.observables,this.project))}}class hS extends Xi{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(es(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var dS=n("WMd4");function fS(t,e=Vc.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new pS(r,e))}class pS{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new mS(t,this.delay,this.scheduler))}}class mS extends Ji.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(mS.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new gS(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(dS.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(dS.a.createComplete()),this.unsubscribe()}}class gS{constructor(t,e){this.time=t,this.notification=e}}class yS{constructor(t){this.total=t}call(t,e){return e.subscribe(new bS(t,this.total))}}class bS extends Ji.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var _S=n("w1tV");const vS=["*"];function wS(t,e){if(1&t){const t=r.Vb();r.Ub(0,"li",6),r.fc("click",(function(){r.yc(t);const n=e.$implicit,i=r.jc();return i.focus(),i.select(n.id,i.NgbSlideEventSource.INDICATOR)})),r.Tb()}if(2&t){const t=e.$implicit,n=r.jc();r.Gb("active",t.id===n.activeId),r.Cb("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===n.activeId)}}function CS(t,e){}function OS(t,e){if(1&t&&(r.Ub(0,"div",7),r.Ub(1,"span",8),r.Yb(2,9),r.Tb(),r.Hc(3,CS,0,0,"ng-template",10),r.Tb()),2&t){const t=e.$implicit,n=e.index,i=e.count;r.oc("id","slide-"+t.id),r.Bb(2),r.bc(n+1)(i),r.Zb(2),r.Bb(1),r.oc("ngTemplateOutlet",t.tplRef)}}function SS(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",11),r.fc("click",(function(){return r.yc(t),r.jc().arrowLeft()})),r.Pb(1,"span",12),r.Ub(2,"span",8),r.Yb(3,13),r.Tb(),r.Tb()}}function ES(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",14),r.fc("click",(function(){return r.yc(t),r.jc().arrowRight()})),r.Pb(1,"span",15),r.Ub(2,"span",8),r.Yb(3,16),r.Tb(),r.Tb()}}const xS=["dialog"];function TS(t){return null!=t}function IS(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const kS={animation:!0,transitionTimerDelayMs:5};let AS=(()=>{class t{constructor(){this.animation=kS.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const RS=()=>{},{transitionTimerDelayMs:DS}=kS,PS=new Map,jS=(t,e,n,r)=>{let i=r.context||{};const s=PS.get(e);if(s)switch(r.runningTransition){case"continue":return cs.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),PS.delete(e)}const o=n(e,r.animation,i)||RS;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(Ki.a)(void 0).pipe(function(t){return e=>new br.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Wi.a,c=new Wi.a,l=a.pipe(function(...t){return e=>js(e,Object(Ki.a)(...t))}(!0));PS.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const u=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=GO(e,"transitionend").pipe(oS(l),ds(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(_r.a)(t[0]))return t[0];t=t[0]}return Object(ns.a)(t,void 0).lift(new $O)})(WO(u+DS).pipe(oS(l)),n,c).pipe(oS(l)).subscribe(()=>{PS.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let NS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),LS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),MS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),FS=(()=>{class t{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(AS))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(AS))},token:t,providedIn:"root"}),t})();var US=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const VS=({classList:t})=>t.contains("carousel-item-left")||t.contains("carousel-item-right"),BS=t=>{t.remove("carousel-item-left"),t.remove("carousel-item-right")},qS=t=>{BS(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},HS=(t,e,{direction:n})=>{const{classList:r}=t;return e?(VS(t)?BS(r):(r.add("carousel-item-"+(n===US.LEFT?"next":"prev")),IS(t),r.add("carousel-item-"+n)),()=>{qS(r),r.add("active")}):(BS(r),qS(r),void r.add("active"))},zS=(t,e,{direction:n})=>{const{classList:r}=t;return e?(VS(t)?BS(r):r.add("carousel-item-"+n),()=>{qS(r),r.remove("active")}):(BS(r),qS(r),void r.remove("active"))};let GS=0,KS=(()=>{class t{constructor(t){this.tplRef=t,this.id="ngb-slide-"+GS++,this.slid=new r.o}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),t})(),WS=(()=>{class t{constructor(t,e,n,i,s){this._platformId=e,this._ngZone=n,this._cd=i,this._container=s,this.NgbSlideEventSource=QS,this._destroy$=new Wi.a,this._interval$=new $i(0),this._mouseHover$=new $i(!1),this._focused$=new $i(!1),this._pauseOnHover$=new $i(!1),this._pauseOnFocus$=new $i(!1),this._pause$=new $i(!1),this._wrap$=new $i(!1),this.slide=new r.o,this.slid=new r.o,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(QS.ARROW_LEFT)}arrowRight(){this.focus(),this.next(QS.ARROW_RIGHT)}ngAfterContentInit(){Q(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=is([this.slide.pipe(Object(vr.a)(t=>t.current),Ns(this.activeId)),this._wrap$,this.slides.changes.pipe(Ns(null))]).pipe(Object(vr.a)(([t,e])=>{const n=this.slides.toArray(),r=this._getSlideIdxById(t);return e?n.length>1:r<n.length-1}),zc());is([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe(Object(vr.a)(([t,e,n,r,i,s,o])=>t||e&&n||r&&i||!o?0:s),zc(),Is(t=>t>0?WO(t,t):XO),oS(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(QS.TIMER)))}),this.slides.changes.pipe(oS(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(t=>(t=>{var e;null===(e=PS.get(t))||void 0===e||e.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Rs(1)).subscribe(()=>{for(const{id:t}of this.slides){const e=this._getSlideElement(t);t===this.activeId?e.classList.add("active"):e.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,e){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),e)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),US.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),US.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,e,n){const r=this._transitionIds;if(r&&(r[0]!==t||r[1]!==this.activeId))return;let i=this._getSlideById(t);if(i&&i.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:i.id,direction:e,paused:this._pause$.value,source:n});const r={animation:this.animation,runningTransition:"stop",context:{direction:e}},s=[],o=this._getSlideById(this.activeId);if(o){const t=jS(this._ngZone,this._getSlideElement(o.id),zS,r);t.subscribe(()=>{o.slid.emit({isShown:!1,direction:e,source:n})}),s.push(t)}const a=this.activeId;this.activeId=i.id;const c=this._getSlideById(this.activeId),l=jS(this._ngZone,this._getSlideElement(i.id),HS,r);l.subscribe(()=>{null==c||c.slid.emit({isShown:!0,direction:e,source:n})}),s.push(l),tS(...s).pipe(Rs(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:a,current:i.id,direction:e,paused:this._pause$.value,source:n})})}this._cd.markForCheck()}_getSlideEventDirection(t,e){return this._getSlideIdxById(t)>this._getSlideIdxById(e)?US.RIGHT:US.LEFT}_getSlideById(t){return this.slides.find(e=>e.id===t)||null}_getSlideIdxById(t){const e=this._getSlideById(t);return null!=e?this.slides.toArray().indexOf(e):-1}_getNextSlide(t){const e=this.slides.toArray(),n=this._getSlideIdxById(t);return n===e.length-1?this.wrap?e[0].id:e[e.length-1].id:e[n+1].id}_getPrevSlide(t){const e=this.slides.toArray(),n=this._getSlideIdxById(t);return 0===n?this.wrap?e[e.length-1].id:e[0].id:e[n-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector("#slide-"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(FS),r.Ob(r.C),r.Ob(r.A),r.Ob(r.h),r.Ob(r.l))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-carousel"]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,KS,!1),2&t&&r.vc(i=r.gc())&&(e.slides=i)},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,e){1&t&&r.fc("keydown.arrowLeft",(function(){return e.keyboard&&e.arrowLeft()}))("keydown.arrowRight",(function(){return e.keyboard&&e.arrowRight()}))("mouseenter",(function(){return e.mouseHover=!0}))("mouseleave",(function(){return e.mouseHover=!1}))("focusin",(function(){return e.focused=!0}))("focusout",(function(){return e.focused=!1})),2&t&&(r.Cb("aria-activedescendant",e.activeId),r.Ec("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){return[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number␟a65b1b49aa7dd8c4f3004da6a8c2241814dae621␟783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`]},template:function(t,e){1&t&&(r.Ub(0,"ol",0),r.Hc(1,wS,1,5,"li",1),r.Tb(),r.Ub(2,"div",2),r.Hc(3,OS,4,4,"div",3),r.Tb(),r.Hc(4,SS,4,0,"a",4),r.Hc(5,ES,4,0,"a",5)),2&t&&(r.Gb("sr-only",!e.showNavigationIndicators),r.Bb(1),r.oc("ngForOf",e.slides),r.Bb(2),r.oc("ngForOf",e.slides),r.Bb(1),r.oc("ngIf",e.showNavigationArrows),r.Bb(1),r.oc("ngIf",e.showNavigationArrows))},directives:[R,P,V],encapsulation:2,changeDetection:0}),t})();var QS=function(t){return t.TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",t}({});let $S=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),YS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();var JS=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const XS=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ZS(t){const e=Array.from(t.querySelectorAll(XS)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let tE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W,zi]]}),t})(),eE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),nE=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(AS))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(AS))},token:t,providedIn:"root"}),t})();class rE{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const iE=()=>{};let sE=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):iE}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o))},token:t,providedIn:"root"}),t})(),oE=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Rs(1)).subscribe(()=>{jS(this._zone,this._el.nativeElement,(t,e)=>{e&&IS(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return jS(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Db("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class aE{close(t){}dismiss(t){}}class cE{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Wi.a,this._dismissed=new Wi.a,this._hidden=new Wi.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(oS(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(oS(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Ki.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),tS(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var lE=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let uE=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Wi.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o,this.shown=new Wi.a,this.hidden=new Wi.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=tS(jS(this._zone,t,()=>t.classList.remove("show"),e),jS(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};tS(jS(this._zone,this._elRef.nativeElement,(t,e)=>{e&&IS(t),t.classList.add("show")},t),jS(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{GO(t,"keydown").pipe(oS(this._closed$),ds(t=>t.which===JS.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(lE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;GO(this._dialogEl.nativeElement,"mousedown").pipe(oS(this._closed$),Object(Gs.a)(()=>e=!1),Is(()=>GO(t,"mouseup").pipe(oS(this._closed$),Rs(1))),ds(({target:e})=>t===e)).subscribe(()=>{e=!0}),GO(t,"click").pipe(oS(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(lE.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=ZS(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&jS(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(o),r.Ob(r.l),r.Ob(r.A))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Dc(xS,!0),2&t&&r.vc(n=r.gc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Db("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:vS,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"div",0,1),r.Ub(2,"div",2),r.mc(3),r.Tb(),r.Tb()),2&t&&r.Db("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),hE=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Wi.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=GO(e,"focusin").pipe(oS(n),Object(vr.a)(t=>t.target));GO(e,"keydown").pipe(oS(n),ds(t=>t.which===JS.Tab),lS(t)).subscribe(([t,n])=>{const[r,i]=ZS(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&GO(e,"click").pipe(oS(n),lS(t),Object(vr.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:TS(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new aE,l=this._getContentRef(t,r.injector||e,n,c,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,l),d=new cE(h,l,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(oE).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(uE).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{TS(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{TS(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.M?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new rE([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new rE([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new rE([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.s.create({providers:[{provide:aE,useValue:i}],parent:e}),c=o.create(a),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new rE([[l]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.g),r.cc(r.s),r.cc(o),r.cc(sE),r.cc(r.G),r.cc(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.g),Object(r.cc)(r.p),Object(r.cc)(o),Object(r.cc)(sE),Object(r.cc)(r.G),Object(r.cc)(r.A))},token:t,providedIn:"root"}),t})(),dE=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.j),r.cc(r.s),r.cc(hE),r.cc(nE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.j),Object(r.cc)(r.p),Object(r.cc)(hE),Object(r.cc)(nE))},token:t,providedIn:"root"}),t})(),fE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[dE]}),t})(),pE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),mE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),gE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),yE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),bE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),_E=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),vE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})(),wE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),CE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W]]}),t})();const OE=[NS,LS,MS,$S,YS,tE,eE,fE,pE,mE,gE,yE,bE,_E,vE,wE,CE];let SE,EE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[OE,NS,LS,MS,$S,YS,tE,eE,fE,pE,mE,gE,yE,bE,_E,vE,wE,CE]}),t})();try{SE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(pL){SE=!1}let xE,TE=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Q(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.C))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.C))},token:t,providedIn:"root"}),t})(),IE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const kE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AE(){if(xE)return xE;if("object"!=typeof document||!document)return xE=new Set(kE),xE;let t=document.createElement("input");return xE=new Set(kE.filter(e=>(t.setAttribute("type",e),t.type===e))),xE}let RE,DE;function PE(t){return function(){if(null==RE&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>RE=!0}))}finally{RE=RE||!1}return RE}()?t:!!t.capture}function jE(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function NE(t,e=Vc.a){return n=>n.lift(new LE(t,e))}class LE{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ME(t,this.dueTime,this.scheduler))}}class ME extends Ji.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FE,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function FE(t){t.debouncedNext()}function UE(t){return null!=t&&""+t!="false"}function VE(t,e=0){return BE(t)?Number(t):e}function BE(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function qE(t){return Array.isArray(t)?t:[t]}function HE(t){return null==t?"":"string"==typeof t?t:t+"px"}function zE(t){return t instanceof r.l?t.nativeElement:t}let GE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),KE=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=zE(t);return new br.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Wi.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(GE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(GE))},token:t,providedIn:"root"}),t})(),WE=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=UE(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=VE(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(NE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(KE),r.Ob(r.l),r.Ob(r.A))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),QE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[GE]}),t})();function $E(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const YE="cdk-describedby-message-container",JE="cdk-describedby-host";let XE=0;const ZE=new Map;let tx=null,ex=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),ZE.set(e,{messageElement:e,referenceCount:0})):ZE.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(e&&this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=ZE.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}tx&&0===tx.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(JE);tx&&this._deleteMessagesContainer(),ZE.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),tx.appendChild(e),ZE.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id="cdk-describedby-message-"+XE++)}_deleteMessageElement(t){const e=ZE.get(t),n=e&&e.messageElement;tx&&n&&tx.removeChild(n),ZE.delete(t)}_createMessagesContainer(){if(!tx){const t=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,e=this._document.getElementById(YE);e&&e.parentNode&&e.parentNode.removeChild(e),tx=this._document.createElement("div"),tx.id=YE,tx.classList.add("cdk-visually-hidden"),tx.setAttribute("aria-hidden",t+""),this._document.body.appendChild(tx)}}_deleteMessagesContainer(){tx&&tx.parentNode&&(tx.parentNode.removeChild(tx),tx=null)}_removeCdkDescribedByReferenceIds(t){const e=$E(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=ZE.get(e);!function(t,e,n){const r=$E(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(JE,""),n.referenceCount++}_removeMessageReference(t,e){const n=ZE.get(e);n.referenceCount--,function(t,e,n){const r=$E(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(JE)}_isElementDescribedByMessage(t,e){const n=$E(t,"aria-describedby"),r=ZE.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":(""+e).trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o),r.cc(TE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o),Object(r.cc)(TE))},token:t,providedIn:"root"}),t})();class nx{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Wi.a,this._typeaheadSubscription=Ks.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Wi.a,this.change=new Wi.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Gs.a)(t=>this._pressedLetters.push(t)),NE(t),ds(()=>this._pressedLetters.length>0),Object(vr.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||jE(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}class rx extends nx{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class ix extends nx{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const sx=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ox=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ax=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(sx,8),r.cc(r.A),r.cc(o),r.cc(ox,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(sx,8),Object(r.cc)(r.A),Object(r.cc)(o),Object(r.cc)(ox,8))},token:t,providedIn:"root"}),t})();function cx(t){return 0===t.buttons}const lx=new r.r("cdk-focus-monitor-default-options"),ux=PE({passive:!0,capture:!0});let hx=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=cx(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=dx(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=dx(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=zE(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Ki.a)(null);const r=function(t){if(function(){if(null==DE){const t="undefined"!=typeof document?document.head:null;DE=!(!t||!t.createShadowRoot&&!t.attachShadow)}return DE}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Wi.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=zE(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=zE(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=dx(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==dx(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ux),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ux)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ux),t.addEventListener("mousedown",this._documentMousedownListener,ux),t.addEventListener("touchstart",this._documentTouchstartListener,ux),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ux),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ux),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ux),t.removeEventListener("mousedown",this._documentMousedownListener,ux),t.removeEventListener("touchstart",this._documentTouchstartListener,ux),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(TE),r.cc(o,8),r.cc(lx,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(TE),Object(r.cc)(o,8),Object(r.cc)(lx,8))},token:t,providedIn:"root"}),t})();function dx(t){return t.composedPath?t.composedPath()[0]:t.target}let fx=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.o}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(hx))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const px="cdk-high-contrast-black-on-white",mx="cdk-high-contrast-white-on-black",gx="cdk-high-contrast-active";let yx=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(gx),t.remove(px),t.remove(mx);const e=this.getHighContrastMode();1===e?(t.add(gx),t.add(px)):2===e&&(t.add(gx),t.add(mx))}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(TE),r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(TE),Object(r.cc)(o))},token:t,providedIn:"root"}),t})(),bx=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(yx))},imports:[[IE,QE]]}),t})();const _x=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let vx=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(_x,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(_x,8))},token:t,providedIn:"root"}),t})(),wx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const Cx=new r.Q("10.2.7");function Ox(t,e){if(1&t&&r.Pb(0,"mat-pseudo-checkbox",3),2&t){const t=r.jc();r.oc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Sx=["*"];let Ex=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),xx=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const Tx=new r.Q("10.2.7"),Ix=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let kx,Ax=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Tx.full!==Cx.full&&console.warn("The Angular Material version ("+Tx.full+") does not match the Angular CDK version ("+Cx.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(yx),r.cc(Ix,8),r.cc(o,8))},imports:[[wx],wx]}),t})();function Rx(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=UE(t)}}}function Dx(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function Px(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=UE(t)}}}function jx(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?VE(t):this.defaultTabIndex}}}function Nx(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Wi.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function Lx(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new br.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{kx="undefined"!=typeof Intl}catch(pL){kx=!1}let Mx=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Fx{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ux={enterDuration:450,exitDuration:400},Vx=PE({passive:!0}),Bx=["mousedown","touchstart"],qx=["mouseup","mouseleave","touchend","touchcancel"];class Hx{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=zE(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},Ux),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new Fx(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},Ux),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=zE(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Bx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qx),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=cx(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Vx)})})}_removeTriggerEvents(){this._triggerElement&&(Bx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Vx)}),this._pointerUpEventsRegistered&&qx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Vx)}))}}const zx=new r.r("mat-ripple-global-options");let Gx=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Hx(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(TE),r.Ob(zx,8),r.Ob(mr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Kx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ax,IE],Ax]}),t})(),Wx=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Gb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Qx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class $x{}const Yx=Rx($x);let Jx=0,Xx=(()=>{class t extends Yx{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+Jx++}}return t.\u0275fac=function(e){return Zx(e||t)},t.\u0275dir=r.Jb({type:t,inputs:{label:"label"},features:[r.yb]}),t})();const Zx=r.Wb(Xx),tT=new r.r("MatOptgroup");let eT=0;class nT{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const rT=new r.r("MAT_OPTION_PARENT_COMPONENT");let iT=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+eT++,this.onSelectionChange=new r.o,this._stateChanges=new Wi.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=UE(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||jE(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new nT(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(void 0),r.Ob(Xx))},t.\u0275dir=r.Jb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),sT=(()=>{class t extends iT{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(rT,8),r.Ob(tT,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(r.Xb("id",e.id),r.Cb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Gb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.yb],ngContentSelectors:Sx,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.nc(),r.Hc(0,Ox,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.mc(2),r.Tb(),r.Pb(3,"div",2)),2&t&&(r.oc("ngIf",e.multiple),r.Bb(3),r.oc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[P,Gx,Wx],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function oT(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let aT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Kx,W,Qx]]}),t})();const cT=new r.r("mat-label-global-options"),lT=["mat-button",""],uT=["*"],hT=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class dT{constructor(t){this._elementRef=t}}const fT=Dx(Rx(Px(dT)));let pT=(()=>{class t extends fT{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of hT)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(hx),r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.Nc(Gx,!0),2&t&&r.vc(n=r.gc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Cb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.yb],attrs:lT,ngContentSelectors:uT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"span",0),r.mc(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Bb(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.oc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Gx],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),mT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Kx,Ax],Ax]}),t})();function gT(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",4),r.Pb(1,"img",5),r.Tb(),r.Ub(2,"div",6),r.Ub(3,"h3"),r.Jc(4),r.Tb(),r.Ub(5,"p"),r.Jc(6),r.Tb(),r.Ub(7,"div"),r.Ub(8,"button",7),r.fc("click",(function(){r.yc(t);const e=r.jc().$implicit;return r.jc(2).openGame(e)})),r.Jc(9,"Play"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc().$implicit;r.Bb(1),r.oc("src",t.carousel_img_link,r.Ac),r.Bb(3),r.Kc(t.carousel_title),r.Bb(2),r.Kc(t.carousel_description)}}function yT(t,e){1&t&&r.Hc(0,gT,10,3,"ng-template",3)}function bT(t,e){if(1&t&&(r.Ub(0,"ngb-carousel",1),r.Hc(1,yT,1,0,void 0,2),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.oc("ngForOf",t.carouselslides)}}let _T=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}openGame(t){this.router.navigateByUrl("gameLink/"+t.carousel_game_link)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(pc))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-custom-carousel"]],inputs:{carouselslides:"carouselslides"},decls:1,vars:1,consts:[["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-image","gallery"],["alt","Random first slide",1,"center","gallery",3,"src"],[1,"carousel-caption"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(t,e){1&t&&r.Hc(0,bT,2,1,"ngb-carousel",0),2&t&&r.oc("ngIf",e.carouselslides)},directives:[P,WS,R,KS,pT],styles:["ngb-carousel[_ngcontent-%COMP%]{margin:auto}.slide-image[_ngcontent-%COMP%]{left:50%;top:50%;height:300px;align-items:center}.carousel-caption[_ngcontent-%COMP%]{text-shadow:2px 2px 8px #000}div.gallery[_ngcontent-%COMP%]{border:1px solid #000;z-index:2;overflow:hidden}img.gallery[_ngcontent-%COMP%]{height:auto;width:auto;position:absolute;top:100%;left:50%;transform:translate(-50%,-50%)}"]}),t})();const vT=["*",[["mat-card-footer"]]],wT=["*","mat-card-footer"],CT=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],OT=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let ST=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),ET=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),xT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),TT=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),kT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),AT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),RT=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:wT,decls:2,vars:0,template:function(t,e){1&t&&(r.nc(vT),r.mc(0),r.mc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),DT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:OT,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.nc(CT),r.mc(0),r.Ub(1,"div",0),r.mc(2,1),r.Tb(),r.mc(3,2))},encapsulation:2,changeDetection:0}),t})(),PT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ax],Ax]}),t})();var jT=n("z6cu");class NT{}class LT{}class MT{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof MT?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new MT;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof MT?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FT{encodeKey(t){return UT(t)}encodeValue(t){return UT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function UT(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class VT{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FT,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new VT({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function BT(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function qT(t){return"undefined"!=typeof Blob&&t instanceof Blob}function HT(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zT{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new MT),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new VT,this.urlWithParams=e}serializeBody(){return null===this.body?null:BT(this.body)||qT(this.body)||HT(this.body)||"string"==typeof this.body?this.body:this.body instanceof VT?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HT(this.body)?null:qT(this.body)?this.body.type||null:BT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof VT?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new zT(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var GT=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class KT{constructor(t,e=200,n="OK"){this.headers=t.headers||new MT,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class WT extends KT{constructor(t={}){super(t),this.type=GT.ResponseHeader}clone(t={}){return new WT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class QT extends KT{constructor(t={}){super(t),this.type=GT.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new QT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $T extends KT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function YT(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let JT=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof zT)r=t;else{let i=void 0;i=n.headers instanceof MT?n.headers:new MT(n.headers);let s=void 0;n.params&&(s=n.params instanceof VT?n.params:new VT({fromObject:n.params})),r=new zT(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Ki.a)(r).pipe(Hs(t=>this.handler.handle(t)));if(t instanceof zT||"events"===n.observe)return i;const s=i.pipe(ds(t=>t instanceof QT));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(vr.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(vr.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(vr.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(vr.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new VT).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,YT(n,e))}post(t,e,n={}){return this.request("POST",t,YT(n,e))}put(t,e,n={}){return this.request("PUT",t,YT(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(NT))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class XT{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ZT=new r.r("HTTP_INTERCEPTORS");let tI=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const eI=/^\)\]\}',?\n/;class nI{}let rI=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),iI=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new br.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new MT(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new WT({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(eI,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new QT({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new $T({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new $T({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const l=r=>{c||(e.next(s()),c=!0);let i={type:GT.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:GT.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:GT.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(nI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const sI=new r.r("XSRF_COOKIE_NAME"),oI=new r.r("XSRF_HEADER_NAME");class aI{}let cI=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o),r.cc(r.C),r.cc(sI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),lI=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(aI),r.cc(oI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),uI=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(ZT,[]);this.chain=t.reduceRight((t,e)=>new XT(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(LT),r.cc(r.s))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),hI=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:lI,useClass:tI}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:sI,useValue:e.cookieName}:[],e.headerName?{provide:oI,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[lI,{provide:ZT,useExisting:lI,multi:!0},{provide:aI,useClass:cI},{provide:sI,useValue:"XSRF-TOKEN"},{provide:oI,useValue:"X-XSRF-TOKEN"}]}),t})(),dI=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[JT,{provide:NT,useClass:uI},iI,{provide:LT,useExisting:iI},rI,{provide:nI,useExisting:rI}],imports:[[hI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const fI=["*"];function pI(t){return Error(`Unable to find icon with the name "${t}"`)}function mI(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function gI(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class yI{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let bI=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new yI(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.J.HTML,n);if(!s)throw gI(n);return this._addSvgIconConfig(t,e,new yI("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new yI(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw gI(e);return this._addSvgIconSetConfig(t,new yI("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw mI(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Ki.a)(_I(n)):this._loadSvgIconFromConfig(new yI(t,null)).pipe(Object(Gs.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(vr.a)(t=>_I(t)))}getNamedSvgIcon(t,e=""){const n=vI(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(jT.a)(pI(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Ki.a)(_I(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(vr.a)(t=>_I(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Ki.a)(n):Or(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Us(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Ki.a)(null)})))).pipe(Object(vr.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw pI(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Gs.a)(e=>t.svgText=e),Object(vr.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Ki.a)(null):this._fetchIcon(t).pipe(Object(Gs.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!o)throw mI(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ws(()=>this._inProgressUrlFetches.delete(o)),Object(_S.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(vI(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.cc(JT,8),r.cc(St),r.cc(o,8),r.cc(r.n))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(JT,8),Object(r.cc)(St),Object(r.cc)(o,8),Object(r.cc)(r.n))},token:t,providedIn:"root"}),t})();function _I(t){return t.cloneNode(!0)}function vI(t,e){return t+":"+e}class wI{constructor(t){this._elementRef=t}}const CI=Dx(wI),OI=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),SI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],EI=SI.map(t=>`[${t}]`).join(", "),xI=/^url\(['"]?#(.*?)['"]?\)$/;let TI=(()=>{class t extends CI{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ks.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=UE(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(EI),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)SI.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(xI):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Rs(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(bI),r.dc("aria-hidden"),r.Ob(OI),r.Ob(r.n))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.yb],ngContentSelectors:fI,decls:1,vars:0,template:function(t,e){1&t&&(r.nc(),r.mc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),II=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ax],Ax]}),t})();function kI(t,e){1&t&&(r.Ub(0,"span"),r.Ub(1,"mat-icon"),r.Jc(2,"star"),r.Tb(),r.Tb())}function AI(t,e){1&t&&(r.Ub(0,"span"),r.Ub(1,"mat-icon"),r.Jc(2,"star_border"),r.Tb(),r.Tb())}const RI=function(){return[]};function DI(t,e){if(1&t&&(r.Ub(0,"div"),r.Hc(1,kI,3,0,"span",1),r.Hc(2,AI,3,0,"span",1),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.oc("ngForOf",r.rc(2,RI).constructor(t.currRating)),r.Bb(1),r.oc("ngForOf",r.rc(3,RI).constructor(t.maxRating-t.currRating))}}let PI=(()=>{class t{constructor(){}ngOnInit(){this.maxRating=5}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-ratings"]],inputs:{currRating:"currRating"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&r.Hc(0,DI,3,4,"div",0),2&t&&r.oc("ngIf",null!=e.currRating)},directives:[P,R,TI],styles:["body[_ngcontent-%COMP%]{background-color:#ff0}"]}),t})();const jI=[".custom-game-card"];function NI(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"mat-card",2),r.fc("click",(function(){return r.yc(t),r.jc().openGame()})),r.Ub(2,"div",3),r.Ub(3,"div",4),r.Pb(4,"img",5),r.Tb(),r.Ub(5,"div",6),r.Ub(6,"mat-card-title"),r.Jc(7),r.Tb(),r.Jc(8),r.Ub(9,"mat-card-content"),r.Jc(10),r.Pb(11,"app-ratings",7),r.Tb(),r.Pb(12,"mat-card-actions"),r.Pb(13,"mat-card-footer"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(4),r.oc("src",t.game.game_logo_link,r.Ac),r.Bb(3),r.Lc(" ",t.game.game_title," "),r.Bb(1),r.Lc(" ",t.game.game_category.category_title," "),r.Bb(2),r.Lc(" ",t.game.game_description," "),r.Bb(1),r.oc("currRating",t.game.game_rating)}}let LI=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}openGame(){this.router.navigateByUrl("gameLink/"+this.game.game_link)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(pc))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-game-card"]],viewQuery:function(t,e){var n;1&t&&r.Nc(jI,!0),2&t&&r.vc(n=r.gc())&&(e.customGameCard=n.first)},inputs:{game:"game"},decls:1,vars:1,consts:[["class","custom-game-div",4,"ngIf"],[1,"custom-game-div"],["matRipple","",1,"custom-game-card","hoverable-card","mat-elevation-z4",3,"click"],[1,"row"],[1,"col-4"],["mat-card-image","",3,"src"],[1,"col-8"],[3,"currRating"]],template:function(t,e){1&t&&r.Hc(0,NI,14,5,"div",0),2&t&&r.oc("ngIf",e.game)},directives:[P,RT,Gx,kT,ET,ST,PI,TT,IT],styles:[".custom-game-card[_ngcontent-%COMP%]{padding:10px;margin:10px;cursor:pointer}.hoverable-card[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 9px #494949}"]}),t})();function MI(t,e){if(1&t&&(r.Ub(0,"div",2),r.Pb(1,"app-game-card",3),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.oc("game",t)}}let FI=(()=>{class t{constructor(t){this.userdb=t,this.games=Uc.GAMES,this.carousel=Uc.CAROUSEL_LIST}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(HO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-home"]],decls:5,vars:5,consts:[[3,"carouselslides"],["class","grid-container custom-body",4,"ngFor","ngForOf"],[1,"grid-container","custom-body"],[3,"game"]],template:function(t,e){1&t&&(r.Pb(0,"app-custom-carousel",0),r.Ub(1,"div"),r.Jc(2),r.kc(3,"json"),r.Tb(),r.Hc(4,MI,2,1,"div",1)),2&t&&(r.oc("carouselslides",e.carousel),r.Bb(2),r.Lc(" ",r.lc(3,3,e.data),"\n"),r.Bb(2),r.oc("ngForOf",e.games))},directives:[_T,R,LI],pipes:[K],styles:[""]}),t})();n("3N8a"),n("IjjT");var UI=n("7Hc7");function VI(t){return!!t&&(t instanceof br.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class BI{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qI(t,this.durationSelector))}}class qI extends Ts.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Ts.c)(n,new Ts.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function HI(t,e=Vc.a){return n=()=>WO(t,e),function(t){return t.lift(new BI(n))};var n}function zI(t){return t&&"function"==typeof t.connect}class GI{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class KI{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Wi.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const WI=new r.r("_ViewRepeater");let QI=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Wi.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new br.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(HI(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Ki.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ds(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>GO(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A),r.cc(TE),r.cc(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.A),Object(r.cc)(TE),Object(r.cc)(o,8))},token:t,providedIn:"root"}),t})(),$I=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Wi.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HI(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(TE),r.cc(r.A),r.cc(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(TE),Object(r.cc)(r.A),Object(r.cc)(o,8))},token:t,providedIn:"root"}),t})(),YI=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),JI=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[wx,IE,YI],wx,YI]}),t})();class XI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZI extends XI{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class tk extends XI{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ek extends XI{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class nk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof tk?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ek?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rk extends nk{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ik=(()=>{class t extends nk{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.R),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.yb]}),t})(),sk=(()=>{class t extends ik{}return t.\u0275fac=function(e){return ok(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[r.Ab([{provide:ik,useExisting:t}]),r.yb]}),t})();const ok=r.Wb(sk);let ak=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class ck{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new lk(t,this.predicate,this.inclusive))}}class lk extends Ji.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}class uk{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=HE(-this._previousScrollPosition.left),t.style.top=HE(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class hk{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dk{enable(){}disable(){}attach(){}}function fk(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function pk(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class mk{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();fk(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gk=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new dk,this.close=t=>new hk(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new uk(this._viewportRuler,this._document),this.reposition=t=>new mk(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.cc(QI),r.cc($I),r.cc(r.A),r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(QI),Object(r.cc)($I),Object(r.cc)(r.A),Object(r.cc)(o))},token:t,providedIn:"root"}),t})();class yk{constructor(t){if(this.scrollStrategy=new dk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class bk{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class _k{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let vk=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o))},token:t,providedIn:"root"}),t})(),wk=(()=>{class t extends vk{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o))},token:t,providedIn:"root"}),t})(),Ck=(()=>{class t extends vk{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o),r.cc(TE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o),Object(r.cc)(TE))},token:t,providedIn:"root"}),t})();const Ok=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Sk=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||Ok){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),Ok?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(o),r.cc(TE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(o),Object(r.cc)(TE))},token:t,providedIn:"root"}),t})();class Ek{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Wi.a,this._attachments=new Wi.a,this._detachments=new Wi.a,this._locationChanges=Ks.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Wi.a,this._outsidePointerEvents=new Wi.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=HE(this._config.width),t.height=HE(this._config.height),t.minWidth=HE(this._config.minWidth),t.minHeight=HE(this._config.minHeight),t.maxWidth=HE(this._config.maxWidth),t.maxHeight=HE(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;qE(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(oS(Object(fO.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const xk="cdk-overlay-connected-position-bounding-box",Tk=/([A-Za-z%]+)$/;class Ik{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Wi.a,this._resizeSubscription=Ks.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(xk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kk(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let c=0-s,l=s+e.height-n.height,u=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Ak(this._overlayRef.getConfig().minHeight),o=Ak(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new _k(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=HE(n.height),r.top=HE(n.top),r.bottom=HE(n.bottom),r.width=HE(n.width),r.left=HE(n.left),r.right=HE(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=HE(t)),i&&(r.maxWidth=HE(i))}this._lastBoundingBoxSize=n,kk(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();kk(n,this._getExactOverlayY(e,t,r)),kk(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=HE(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=HE(s.maxWidth):i&&(n.maxWidth="")),kk(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=HE(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=HE(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pk(t,n),isOriginOutsideView:fk(t,n),isOverlayClipped:pk(e,n),isOverlayOutsideView:fk(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qE(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function kk(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ak(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Tk);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Rk{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Ik(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new bk(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Dk="cdk-global-overlay-wrapper";class Pk{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Dk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Dk),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jk=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Pk}connectedTo(t,e,n){return new Rk(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ik(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc($I),r.cc(o),r.cc(TE),r.cc(Sk))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)($I),Object(r.cc)(o),Object(r.cc)(TE),Object(r.cc)(Sk))},token:t,providedIn:"root"}),t})(),Nk=0,Lk=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new yk(t);return i.direction=i.direction||this._directionality.value,new Ek(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Nk++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new rk(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(gk),r.cc(Sk),r.cc(r.j),r.cc(jk),r.cc(wk),r.cc(r.s),r.cc(r.A),r.cc(o),r.cc(vx),r.cc(w),r.cc(Ck))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Mk=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fk=new r.r("cdk-connected-overlay-scroll-strategy");let Uk=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Vk=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ks.a.EMPTY,this._attachSubscription=Ks.a.EMPTY,this._detachSubscription=Ks.a.EMPTY,this._positionSubscription=Ks.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new tk(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=UE(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=UE(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=UE(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=UE(t)}get push(){return this._push}set push(t){this._push=UE(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Mk);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||jE(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new yk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new ck(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lk),r.Ob(r.M),r.Ob(r.R),r.Ob(Fk),r.Ob(vx,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.zb]}),t})();const Bk={provide:Fk,deps:[Lk],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let qk=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Lk,Bk],imports:[[wx,ak,JI],JI]}),t})();const Hk=new Set;let zk,Gk=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Kk}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Hk.has(t))try{zk||(zk=document.createElement("style"),zk.setAttribute("type","text/css"),document.head.appendChild(zk)),zk.sheet&&(zk.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Hk.add(t))}catch(cO){console.error(cO)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(TE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(TE))},token:t,providedIn:"root"}),t})();function Kk(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Wk=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Wi.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Qk(qE(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=is(Qk(qE(t)).map(t=>this._registerQuery(t).observable));return e=js(e.pipe(Rs(1)),e.pipe((1,t=>t.lift(new yS(1))),NE(0))),e.pipe(Object(vr.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new br.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ns(e),Object(vr.a)(({matches:e})=>({query:t,matches:e})),oS(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Gk),r.cc(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Gk),Object(r.cc)(r.A))},token:t,providedIn:"root"}),t})();function Qk(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function $k(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"button",2),r.fc("click",(function(){return r.yc(t),r.jc().action()})),r.Jc(2),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(2),r.Kc(t.data.action)}}function Yk(t,e){}const Jk=new r.r("MatSnackBarData");class Xk{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Zk=Math.pow(2,31)-1;class tA{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Wi.a,this._afterOpened=new Wi.a,this._onAction=new Wi.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Zk))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let eA=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(tA),r.Ob(Jk))},t.\u0275cmp=r.Ib({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"span"),r.Jc(1),r.Tb(),r.Hc(2,$k,3,1,"div",0)),2&t&&(r.Bb(1),r.Kc(e.data.message),r.Bb(1),r.oc("ngIf",e.hasAction))},directives:[P,pT],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const nA={snackBarState:Dt("state",[Mt("void, hidden",Lt({transform:"scale(0.8)",opacity:0})),Mt("visible",Lt({transform:"scale(1)",opacity:1})),Ut("* => visible",Pt("150ms cubic-bezier(0, 0, 0.2, 1)")),Ut("* => void, * => hidden",Pt("75ms cubic-bezier(0.4, 0.0, 1, 1)",Lt({opacity:0})))])};let rA=(()=>{class t extends nk{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new Wi.a,this._onEnter=new Wi.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Rs(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.A),r.Ob(r.l),r.Ob(r.h),r.Ob(Xk))},t.\u0275cmp=r.Ib({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&r.Dc(ik,!0),2&t&&r.vc(n=r.gc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.Fc("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(r.Cb("role",e._role),r.Gc("@state",e._animationState))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Hc(0,Yk,0,0,"ng-template",0)},directives:[ik],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[nA.snackBarState]}}),t})(),iA=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[qk,ak,W,mT,Ax],Ax]}),t})();const sA=new r.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Xk}});let oA=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=eA,this.snackBarContainerComponent=rA,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Xk,useValue:e}]}),i=new ZI(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new Xk),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new tA(s,i);if(t instanceof r.M){const e=new tk(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new ZI(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(oS(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new yk;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tA,useValue:e},{provide:Jk,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Lk),r.cc(ax),r.cc(r.s),r.cc(Wk),r.cc(t,12),r.cc(sA))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Lk),Object(r.cc)(ax),Object(r.cc)(r.p),Object(r.cc)(Wk),Object(r.cc)(t,12),Object(r.cc)(sA))},token:t,providedIn:iA}),t})(),aA=(()=>{class t{constructor(t,e){this.router=t,this.location=e,this.history=[],this.router.events.subscribe(t=>{t instanceof Xs&&this.history.push(t.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}}return t.\u0275fac=function(e){return new(e||t)(r.cc(pc),r.cc(w))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cA="assets/images/profile_blank.png";class lA{constructor(t,e,n){this.email=t,this.displayName=e,this.photoURL=n}}let uA=(()=>{class t{constructor(t){this.firebaseAuth=t,this.isLoggedIn=!1,this.loggedInUser=new $i(null)}signIn(t,e){return Object(Xd.b)(this,void 0,void 0,(function*(){console.log("Signing In ... "),yield this.firebaseAuth.signInWithEmailAndPassword(t,e).then(t=>{this.isLoggedIn=!0;let e=new lA(t.user.email,t.user.displayName,t.user.photoURL);this.loggedInUser.next(this.useDefaultUserDetails(e)),console.log("Signed In Successfully")}).catch(t=>{console.log("ERROR REASON: "+JSON.stringify(t))})}))}signInV2(t,e){return Object(Xd.b)(this,void 0,void 0,(function*(){console.log("Signing In ... ")}))}signUp(t,e){return Object(Xd.b)(this,void 0,void 0,(function*(){console.log("Signing Up ... "),yield this.firebaseAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.isLoggedIn=!0,new lA(t.user.email,t.user.email,cA),t.user.updateProfile({displayName:t.user.email,photoURL:cA}).then(()=>{console.log("SignUp Successful")})})}))}logout(){console.log("Logging Out ... "),this.firebaseAuth.signOut(),this.loggedInUser.next(null),console.log("Logged Out Successfully")}getCurrentUserDetails(){return this.loggedInUser.asObservable().pipe(Object(vr.a)(t=>(t&&(null==t.photoURL&&(t.photoURL=cA),null==t.displayName&&(t.displayName=t.email)),t)))}useDefaultUserDetails(t){return null==t.photoURL&&(t.photoURL=cA),null==t.displayName&&(t.displayName=t.email),t}updateCurrentUserDisplayName(t){this.firebaseAuth.currentUser.then(e=>{e.updateProfile({displayName:t})})}updateCurrentUserPhotoURL(t){this.firebaseAuth.currentUser.then(e=>{e.updateProfile({photoURL:t})})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(TO))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hA(t,e){1&t&&r.mc(0)}const dA=["*"];function fA(t,e){}const pA=function(t){return{animationDuration:t}},mA=function(t,e){return{value:t,params:e}},gA=["tabBodyWrapper"],yA=["tabHeader"];function bA(t,e){}function _A(t,e){if(1&t&&r.Hc(0,bA,0,0,"ng-template",9),2&t){const t=r.jc().$implicit;r.oc("cdkPortalOutlet",t.templateLabel)}}function vA(t,e){if(1&t&&r.Jc(0),2&t){const t=r.jc().$implicit;r.Kc(t.textLabel)}}function wA(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.fc("click",(function(){r.yc(t);const n=e.$implicit,i=e.index,s=r.jc(),o=r.wc(1);return s._handleClick(n,o,i)})),r.Ub(1,"div",7),r.Hc(2,_A,1,1,"ng-template",8),r.Hc(3,vA,1,1,"ng-template",8),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.Gb("mat-tab-label-active",i.selectedIndex==n),r.oc("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),r.Cb("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),r.Bb(2),r.oc("ngIf",t.templateLabel),r.Bb(1),r.oc("ngIf",!t.templateLabel)}}function CA(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-tab-body",10),r.fc("_onCentered",(function(){return r.yc(t),r.jc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return r.yc(t),r.jc()._setTabBodyWrapperHeight(e)})),r.Tb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.Gb("mat-tab-body-active",i.selectedIndex==n),r.oc("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),r.Cb("aria-labelledby",i._getTabLabelId(n))}}const OA=["tabListContainer"],SA=["tabList"],EA=["nextPaginator"],xA=["previousPaginator"],TA=new r.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let IA=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(TA),r.Ob(mr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const kA=new r.r("MatTabContent"),AA=new r.r("MatTabLabel");class RA{}const DA=Rx(RA),PA=new r.r("MAT_TAB_GROUP");let jA=(()=>{class t extends DA{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new Wi.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new tk(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(PA,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,AA,!0),r.Cc(n,kA,!0,r.M)),2&t&&(r.vc(i=r.gc())&&(e.templateLabel=i.first),r.vc(i=r.gc())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&r.Dc(r.M,!0),2&t&&r.vc(n=r.gc())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.yb,r.zb],ngContentSelectors:dA,decls:1,vars:0,template:function(t,e){1&t&&(r.nc(),r.Hc(0,hA,1,0,"ng-template"))},encapsulation:2}),t})();const NA={translateTab:Dt("translateTab",[Mt("center, void, left-origin-center, right-origin-center",Lt({transform:"none"})),Mt("left",Lt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Mt("right",Lt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Ut("* => left, * => right, left => center, right => center",Pt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Ut("void => left-origin-center",[Lt({transform:"translate3d(-100%, 0, 0)"}),Pt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Ut("void => right-origin-center",[Lt({transform:"translate3d(100%, 0, 0)"}),Pt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let LA=(()=>{class t extends ik{constructor(t,e,n,r){super(t,e,r),this._host=n,this._centeringSub=Ks.a.EMPTY,this._leavingSub=Ks.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ns(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.R),r.Ob(Object(r.V)(()=>FA)),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTabBodyHost",""]],features:[r.yb]}),t})(),MA=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=Ks.a.EMPTY,this._translateTabComplete=new Wi.a,this._onCentering=new r.o,this._beforeCentering=new r.o,this._afterLeavingCenter=new r.o,this._onCentered=new r.o(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(zc((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(vx,8),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),FA=(()=>{class t extends MA{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(vx,8),r.Ob(r.h))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&r.Nc(sk,!0),2&t&&r.vc(n=r.gc())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[r.yb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0,1),r.fc("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),r.Hc(2,fA,0,0,"ng-template",2),r.Tb()),2&t&&r.oc("@translateTab",r.tc(3,mA,e._position,r.sc(1,pA,e.animationDuration)))},directives:[LA],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[NA.translateTab]}}),t})();const UA=new r.r("MAT_TABS_CONFIG");let VA=0;class BA{}class qA{constructor(t){this._elementRef=t}}const HA=Dx(Px(qA),"primary");let zA=(()=>{class t extends HA{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new r.E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ks.a.EMPTY,this._tabLabelSubscription=Ks.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.o,this.focusChange=new r.o,this.animationDone=new r.o,this.selectedTabChange=new r.o(!0),this._groupId=VA++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=UE(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=VE(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ns(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new BA;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(fO.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(UA,8),r.Ob(mr,8))},t.\u0275dir=r.Jb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.yb]}),t})(),GA=(()=>{class t extends zA{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(UA,8),r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,jA,!0),2&t&&r.vc(i=r.gc())&&(e._allTabs=i)},viewQuery:function(t,e){var n;1&t&&(r.Nc(gA,!0),r.Nc(yA,!0)),2&t&&(r.vc(n=r.gc())&&(e._tabBodyWrapper=n.first),r.vc(n=r.gc())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&r.Gb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r.Ab([{provide:PA,useExisting:t}]),r.yb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(r.Ub(0,"mat-tab-header",0,1),r.fc("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),r.Hc(2,wA,4,14,"div",2),r.Tb(),r.Ub(3,"div",3,4),r.Hc(5,CA,1,8,"mat-tab-body",5),r.Tb()),2&t&&(r.oc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),r.Bb(2),r.oc("ngForOf",e._tabs),r.Bb(1),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Bb(2),r.oc("ngForOf",e._tabs))},directives:function(){return[XA,R,QA,Gx,fx,P,ik,FA]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class KA{}const WA=Rx(KA);let QA=(()=>{class t extends WA{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Cb("aria-disabled",!!e.disabled),r.Gb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[r.yb]}),t})();const $A=PE({passive:!0});let YA=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=s,this._platform=o,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Wi.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Wi.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.o,this.indexFocused=new r.o,s.runOutsideAngular(()=>{GO(t.nativeElement,"mouseleave").pipe(oS(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=VE(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){GO(this._previousPaginator.nativeElement,"touchstart",$A).pipe(oS(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),GO(this._nextPaginator.nativeElement,"touchstart",$A).pipe(oS(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(Ki.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ix(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(fO.a)(t,e,this._items.changes).pipe(oS(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(oS(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!jE(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=r,o=s+i):(o=this._tabList.nativeElement.offsetWidth-r,s=o-i);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),WO(650,100).pipe(oS(Object(fO.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob($I),r.Ob(vx,8),r.Ob(r.A),r.Ob(TE),r.Ob(mr,8))},t.\u0275dir=r.Jb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),JA=(()=>{class t extends YA{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=UE(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob($I),r.Ob(vx,8),r.Ob(r.A),r.Ob(TE),r.Ob(mr,8))},t.\u0275dir=r.Jb({type:t,inputs:{disableRipple:"disableRipple"},features:[r.yb]}),t})(),XA=(()=>{class t extends JA{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob($I),r.Ob(vx,8),r.Ob(r.A),r.Ob(TE),r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,QA,!1),2&t&&r.vc(i=r.gc())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(r.Dc(IA,!0),r.Dc(OA,!0),r.Dc(SA,!0),r.Nc(EA,!0),r.Nc(xA,!0)),2&t&&(r.vc(n=r.gc())&&(e._inkBar=n.first),r.vc(n=r.gc())&&(e._tabListContainer=n.first),r.vc(n=r.gc())&&(e._tabList=n.first),r.vc(n=r.gc())&&(e._nextPaginator=n.first),r.vc(n=r.gc())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&r.Gb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.yb],ngContentSelectors:dA,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"div",0,1),r.fc("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),r.Pb(2,"div",2),r.Tb(),r.Ub(3,"div",3,4),r.fc("keydown",(function(t){return e._handleKeydown(t)})),r.Ub(5,"div",5,6),r.fc("cdkObserveContent",(function(){return e._onContentChanges()})),r.Ub(7,"div",7),r.mc(8),r.Tb(),r.Pb(9,"mat-ink-bar"),r.Tb(),r.Tb(),r.Ub(10,"div",8,9),r.fc("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),r.Pb(12,"div",2),r.Tb()),2&t&&(r.Gb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.oc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Bb(5),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Bb(5),r.Gb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.oc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Gx,WE,IA],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),ZA=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W,Ax,ak,Kx,QE,bx],Ax]}),t})();const tR=["underline"],eR=["connectionContainer"],nR=["inputContainer"],rR=["label"];function iR(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Pb(2,"div",15),r.Pb(3,"div",16),r.Pb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Pb(6,"div",15),r.Pb(7,"div",16),r.Pb(8,"div",17),r.Tb(),r.Rb())}function sR(t,e){1&t&&(r.Ub(0,"div",19),r.mc(1,1),r.Tb())}function oR(t,e){if(1&t&&(r.Sb(0),r.mc(1,2),r.Ub(2,"span"),r.Jc(3),r.Tb(),r.Rb()),2&t){const t=r.jc(2);r.Bb(3),r.Kc(t._control.placeholder)}}function aR(t,e){1&t&&r.mc(0,3,["*ngSwitchCase","true"])}function cR(t,e){1&t&&(r.Ub(0,"span",23),r.Jc(1," *"),r.Tb())}function lR(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.fc("cdkObserveContent",(function(){return r.yc(t),r.jc().updateOutlineGap()})),r.Hc(2,oR,4,1,"ng-container",12),r.Hc(3,aR,1,0,"ng-content",12),r.Hc(4,cR,2,0,"span",22),r.Tb()}if(2&t){const t=r.jc();r.Gb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.oc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Cb("for",t._control.id)("aria-owns",t._control.id),r.Bb(2),r.oc("ngSwitchCase",!1),r.Bb(1),r.oc("ngSwitchCase",!0),r.Bb(1),r.oc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function uR(t,e){1&t&&(r.Ub(0,"div",24),r.mc(1,4),r.Tb())}function hR(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Pb(2,"span",27),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.Gb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function dR(t,e){if(1&t&&(r.Ub(0,"div"),r.mc(1,5),r.Tb()),2&t){const t=r.jc();r.oc("@transitionMessages",t._subscriptAnimationState)}}function fR(t,e){if(1&t&&(r.Ub(0,"div",31),r.Jc(1),r.Tb()),2&t){const t=r.jc(2);r.oc("id",t._hintLabelId),r.Bb(1),r.Kc(t.hintLabel)}}function pR(t,e){if(1&t&&(r.Ub(0,"div",28),r.Hc(1,fR,2,2,"div",29),r.mc(2,6),r.Pb(3,"div",30),r.mc(4,7),r.Tb()),2&t){const t=r.jc();r.oc("@transitionMessages",t._subscriptAnimationState),r.Bb(1),r.oc("ngIf",t.hintLabel)}}const mR=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gR=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yR=new r.r("MatError"),bR={transitionMessages:Dt("transitionMessages",[Mt("enter",Lt({opacity:1,transform:"translateY(0%)"})),Ut("void => enter",[Lt({opacity:0,transform:"translateY(-100%)"}),Pt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})();const vR=new r.r("MatHint");let wR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-label"]]}),t})(),CR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-placeholder"]]}),t})();const OR=new r.r("MatPrefix"),SR=new r.r("MatSuffix");let ER=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matSuffix",""]],features:[r.Ab([{provide:SR,useExisting:t}])]}),t})(),xR=0;class TR{constructor(t){this._elementRef=t}}const IR=Dx(TR,"primary"),kR=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),AR=new r.r("MatFormField");let RR=(()=>{class t extends IR{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Wi.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+xR++,this._labelId="mat-form-field-label-"+xR++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=UE(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Ns(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(oS(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oS(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(fO.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ns(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ns(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(oS(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,GO(this._label.nativeElement,"transitionend").pipe(Rs(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(cT,8),r.Ob(vx,8),r.Ob(kR,8),r.Ob(TE),r.Ob(r.A),r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,_R,!0),r.Cc(n,_R,!0),r.Hb(n,wR,!0),r.Cc(n,wR,!0),r.Hb(n,CR,!0),r.Hb(n,yR,!0),r.Hb(n,vR,!0),r.Hb(n,OR,!0),r.Hb(n,SR,!0)),2&t&&(r.vc(i=r.gc())&&(e._controlNonStatic=i.first),r.vc(i=r.gc())&&(e._controlStatic=i.first),r.vc(i=r.gc())&&(e._labelChildNonStatic=i.first),r.vc(i=r.gc())&&(e._labelChildStatic=i.first),r.vc(i=r.gc())&&(e._placeholderChild=i.first),r.vc(i=r.gc())&&(e._errorChildren=i),r.vc(i=r.gc())&&(e._hintChildren=i),r.vc(i=r.gc())&&(e._prefixChildren=i),r.vc(i=r.gc())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.Nc(tR,!0),r.Dc(eR,!0),r.Nc(nR,!0),r.Nc(rR,!0)),2&t&&(r.vc(n=r.gc())&&(e.underlineRef=n.first),r.vc(n=r.gc())&&(e._connectionContainerRef=n.first),r.vc(n=r.gc())&&(e._inputContainerRef=n.first),r.vc(n=r.gc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Gb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Ab([{provide:AR,useExisting:t}]),r.yb],ngContentSelectors:gR,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.nc(mR),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.fc("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.Hc(3,iR,9,0,"ng-container",3),r.Hc(4,sR,2,0,"div",4),r.Ub(5,"div",5,6),r.mc(7),r.Ub(8,"span",7),r.Hc(9,lR,5,16,"label",8),r.Tb(),r.Tb(),r.Hc(10,uR,2,0,"div",9),r.Tb(),r.Hc(11,hR,3,4,"div",10),r.Ub(12,"div",11),r.Hc(13,dR,2,1,"div",12),r.Hc(14,pR,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Bb(3),r.oc("ngIf","outline"==e.appearance),r.Bb(1),r.oc("ngIf",e._prefixChildren.length),r.Bb(5),r.oc("ngIf",e._hasFloatingLabel()),r.Bb(1),r.oc("ngIf",e._suffixChildren.length),r.Bb(1),r.oc("ngIf","outline"!=e.appearance),r.Bb(1),r.oc("ngSwitch",e._getDisplayedMessages()),r.Bb(1),r.oc("ngSwitchCase","error"),r.Bb(1),r.oc("ngSwitchCase","hint"))},directives:[P,M,F,WE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bR.transitionMessages]},changeDetection:0}),t})(),DR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[W,Ax,QE],Ax]}),t})();const PR=PE({passive:!0});let jR=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return cs.a;const e=zE(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Wi.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,PR),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,PR)}}),r}stopMonitoring(t){const e=zE(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(TE),r.cc(r.A))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(TE),Object(r.cc)(r.A))},token:t,providedIn:"root"}),t})(),NR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[IE]]}),t})();const LR=new r.r("MAT_INPUT_VALUE_ACCESSOR"),MR=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let FR=0;class UR{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const VR=Nx(UR);let BR=(()=>{class t extends VR{constructor(t,e,n,r,i,s,o,a,c,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+FR++,this.focused=!1,this.stateChanges=new Wi.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>AE().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=UE(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=UE(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&AE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=UE(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){MR.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(TE),r.Ob(jr,10),r.Ob(Di,8),r.Ob(Ui,8),r.Ob(Mx),r.Ob(LR,10),r.Ob(jR),r.Ob(r.A),r.Ob(AR,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.fc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Cb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Ab([{provide:_R,useExisting:t}]),r.yb,r.zb]}),t})(),qR=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Mx],imports:[[NR,DR],NR,DR]}),t})();class HR{}let zR=(()=>{class t extends HR{getTranslation(t){return Object(Ki.a)({})}}return t.\u0275fac=function(e){return GR(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const GR=r.Wb(zR);class KR{}let WR=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function QR(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,r,i,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(r in i=Object.create(null),t){if(!QR(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!QR(t[r],e[r]))return!1;return!0}}return!1}function $R(t){return null!=t}function YR(t){return t&&"object"==typeof t&&!Array.isArray(t)}class JR{}let XR=(()=>{class t extends JR{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!$R(t)||!$R(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let r=this.getValue(e,n);return $R(r)?r:t}):t}}return t.\u0275fac=function(e){return ZR(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const ZR=r.Wb(XR);class tD{}let eD=(()=>{class t extends tD{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return nD(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const nD=r.Wb(eD);class rD{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.o,this.onLangChange=new r.o,this.onDefaultLangChange=new r.o}}const iD=new r.r("USE_STORE"),sD=new r.r("USE_DEFAULT_LANG"),oD=new r.r("DEFAULT_LANGUAGE"),aD=new r.r("USE_EXTEND");let cD=(()=>{class t{constructor(t,e,n,i,s,o=!0,a=!1,c=!1,l){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=s,this.useDefaultLang=o,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new r.o,this._onLangChange=new r.o,this._onDefaultLangChange=new r.o,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Rs(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(Ki.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Rs(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(Ki.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(bO(1),Rs(1));return this.loadingTranslations=e.pipe(Object(vr.a)(e=>this.compiler.compileTranslations(e,t)),bO(1),Rs(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let r=Object.assign({},e);return YR(e)&&YR(n)&&Object.keys(n).forEach(i=>{YR(n[i])?i in e?r[i]=t(e[i],n[i]):Object.assign(r,{[i]:n[i]}):Object.assign(r,{[i]:n[i]})}),r}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let r;if(e instanceof Array){let r={},i=!1;for(let s of e)r[s]=this.getParsedResult(t,s,n),VI(r[s])&&(i=!0);return i?Or(e.map(t=>VI(r[t])?r[t]:Object(Ki.a)(r[t]))).pipe(Object(vr.a)(t=>{let n={};return t.forEach((t,r)=>{n[e[r]]=t}),n})):r}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),r=this.missingTranslationHandler.handle(t)}return void 0!==r?r:e}get(t,e){if(!$R(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Hs(n=>VI(n=this.getParsedResult(n,t,e))?n:Object(Ki.a)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return VI(n)?n:Object(Ki.a)(n)}}getStreamOnTranslationChange(t,e){if(!$R(t)||!t.length)throw new Error('Parameter "key" required');return js(ls(()=>this.get(t,e)),this.onTranslationChange.pipe(Is(n=>{const r=this.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:Object(Ki.a)(r)})))}stream(t,e){if(!$R(t)||!t.length)throw new Error('Parameter "key" required');return js(ls(()=>this.get(t,e)),this.onLangChange.pipe(Is(n=>{const r=this.getParsedResult(n.translations,t,e);return VI(r)?r:Object(Ki.a)(r)})))}instant(t,e){if(!$R(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(VI(n)){if(t instanceof Array){let e={};return t.forEach((n,r)=>{e[t[r]]=t[r]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(rD),r.cc(HR),r.cc(tD),r.cc(JR),r.cc(KR),r.cc(sD),r.cc(iD),r.cc(aD),r.cc(oD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),lD=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let r=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let i=this.translate.getParsedResult(n,t,e);VI(i.subscribe)?i.subscribe(r):r(i)}this.translate.get(t,e).subscribe(r)}transform(t,...e){if(!t||!t.length)return t;if(QR(t,this.lastKey)&&QR(e,this.lastParams))return this.value;let n;if($R(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(cO){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+e[0])}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(cD),r.ec())},t.\u0275pipe=r.Nb({name:"translate",type:t,pure:!1}),t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),uD=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:HR,useClass:zR},e.compiler||{provide:tD,useClass:eD},e.parser||{provide:JR,useClass:XR},e.missingTranslationHandler||{provide:KR,useClass:WR},rD,{provide:iD,useValue:e.isolate},{provide:sD,useValue:e.useDefaultLang},{provide:aD,useValue:e.extend},{provide:oD,useValue:e.defaultLanguage},cD]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:HR,useClass:zR},e.compiler||{provide:tD,useClass:eD},e.parser||{provide:JR,useClass:XR},e.missingTranslationHandler||{provide:KR,useClass:WR},{provide:iD,useValue:e.isolate},{provide:sD,useValue:e.useDefaultLang},{provide:aD,useValue:e.extend},{provide:oD,useValue:e.defaultLanguage},cD]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),hD=(()=>{class t{constructor(t,e,n,r,i){this._snackBar=t,this.navigation=e,this.router=n,this.firebaseService=r,this.formBuilder=i,this.hide=!0,this.loginForm=new Ii({email:new Ti(""),password:new Ti("")}),this.signUpForm=this.formBuilder.group({email:[{value:"",disabled:!0}],password:[{value:"",disabled:!0}]}),this.successfulLoginMessage="Login Success",this.failureLoginMessage="Login Failed",this.successfulSignUpMessage="Sign Up Success",this.failureSignUpMessage="Sign Up Failed"}ngOnInit(){}loginWithFirebase(){return Object(Xd.b)(this,void 0,void 0,(function*(){yield this.firebaseService.signIn(this.loginForm.get("email").value,this.loginForm.get("password").value).then(()=>{this.onSuccessful(this.successfulLoginMessage),this.router.navigateByUrl("home")},t=>{this.onFailure(this.failureLoginMessage),console.log(t)}).catch(t=>{this.onFailure(this.failureLoginMessage)})}))}signUpWithFirebase(){return Object(Xd.b)(this,void 0,void 0,(function*(){yield this.firebaseService.signUp(this.signUpForm.get("email").value,this.signUpForm.get("password").value).then(()=>{this.onSuccessful(this.successfulSignUpMessage),this.router.navigateByUrl("home")}).catch(t=>{this.onFailure(this.failureSignUpMessage)})}))}cancel(){this.navigation.back()}onSuccessful(t){this._snackBar.open(t,"OK",{duration:2e3,panelClass:["success-snackbar"]})}onFailure(t){this._snackBar.open(t,"OK",{duration:2e3,panelClass:["failure-snackbar"]})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(oA),r.Ob(aA),r.Ob(pc),r.Ob(uA),r.Ob(Hi))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-login"]],decls:60,vars:40,consts:[[1,"login-signup-body"],[1,"mat-elevation-z4"],[3,"label"],[1,"login-body"],[3,"formGroup"],[1,"custom-mat-form"],["matInput","","type","text","formControlName","email"],["mat-icon-button","","matSuffix","","disabled",""],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"form-actions"],["mat-raised-button","","color","primary",1,"login-button",3,"click"],["mat-raised-button","",1,"cancel-button",3,"click"],[1,"signup-body"],["mat-raised-button","","color","primary","disabled","",1,"signup-button",3,"click"],["mat-raised-button","","disabled","",1,"cancel-button",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"mat-card",1),r.Ub(2,"mat-card-content"),r.Ub(3,"mat-tab-group"),r.Ub(4,"mat-tab",2),r.kc(5,"translate"),r.Ub(6,"div",3),r.Ub(7,"form",4),r.Ub(8,"mat-form-field",5),r.Ub(9,"mat-label"),r.Jc(10),r.kc(11,"translate"),r.Tb(),r.Pb(12,"input",6),r.Ub(13,"button",7),r.Ub(14,"mat-icon"),r.Jc(15,"account_circle"),r.Tb(),r.Tb(),r.Tb(),r.Pb(16,"br"),r.Ub(17,"mat-form-field",5),r.Ub(18,"mat-label"),r.Jc(19),r.kc(20,"translate"),r.Tb(),r.Pb(21,"input",8),r.Ub(22,"button",9),r.fc("click",(function(){return e.hide=!e.hide})),r.Ub(23,"mat-icon"),r.Jc(24),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(25,"div",10),r.Ub(26,"button",11),r.fc("click",(function(){return e.loginWithFirebase()})),r.Jc(27),r.kc(28,"translate"),r.Tb(),r.Ub(29,"button",12),r.fc("click",(function(){return e.cancel()})),r.Jc(30),r.kc(31,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(32,"mat-tab",2),r.kc(33,"translate"),r.Ub(34,"div",13),r.Ub(35,"form",4),r.Ub(36,"mat-form-field",5),r.Ub(37,"mat-label"),r.Jc(38),r.kc(39,"translate"),r.Tb(),r.Pb(40,"input",6),r.Ub(41,"button",7),r.Ub(42,"mat-icon"),r.Jc(43,"account_circle"),r.Tb(),r.Tb(),r.Tb(),r.Pb(44,"br"),r.Ub(45,"mat-form-field",5),r.Ub(46,"mat-label"),r.Jc(47),r.kc(48,"translate"),r.Tb(),r.Pb(49,"input",8),r.Ub(50,"button",9),r.fc("click",(function(){return e.hide=!e.hide})),r.Ub(51,"mat-icon"),r.Jc(52),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(53,"div",10),r.Ub(54,"button",14),r.fc("click",(function(){return e.signUpWithFirebase()})),r.Jc(55),r.kc(56,"translate"),r.Tb(),r.Ub(57,"button",15),r.fc("click",(function(){return e.cancel()})),r.Jc(58),r.kc(59,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(4),r.pc("label",r.lc(5,20,"APP.LOGIN.EMAIL")),r.Bb(3),r.oc("formGroup",e.loginForm),r.Bb(3),r.Kc(r.lc(11,22,"APP.LOGIN.EMAIL")),r.Bb(9),r.Kc(r.lc(20,24,"APP.LOGIN.PASSWORD")),r.Bb(2),r.oc("type",e.hide?"password":"text"),r.Bb(1),r.Cb("aria-label","Hide password")("aria-pressed",e.hide),r.Bb(2),r.Kc(e.hide?"visibility_off":"visibility"),r.Bb(3),r.Kc(r.lc(28,26,"APP.LOGIN.TITLE")),r.Bb(3),r.Kc(r.lc(31,28,"APP.LOGIN.CANCEL")),r.Bb(2),r.pc("label",r.lc(33,30,"APP.LOGIN.SIGNUP")),r.Bb(3),r.oc("formGroup",e.signUpForm),r.Bb(3),r.Kc(r.lc(39,32,"APP.LOGIN.EMAIL")),r.Bb(9),r.Kc(r.lc(48,34,"APP.LOGIN.PASSWORD")),r.Bb(2),r.oc("type",e.hide?"password":"text"),r.Bb(1),r.Cb("aria-label","Hide password")("aria-pressed",e.hide),r.Bb(2),r.Kc(e.hide?"visibility_off":"visibility"),r.Bb(3),r.Lc(" ",r.lc(56,36,"APP.LOGIN.SIGNUP")," "),r.Bb(3),r.Lc(" ",r.lc(59,38,"APP.LOGIN.CANCEL")," "))},directives:[RT,ST,GA,jA,Li,Mr,Ui,RR,wR,BR,Ar,Lr,Bi,pT,ER,TI],pipes:[lD],styles:[".login-signup-body[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.login-body[_ngcontent-%COMP%], .signup-body[_ngcontent-%COMP%]{padding-top:10px}.custom-input[_ngcontent-%COMP%], .custom-mat-form[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:grid;grid-column-gap:10px;padding-bottom:5px}.login-button[_ngcontent-%COMP%], .signup-button[_ngcontent-%COMP%]{grid-area:1/1}.cancel-button[_ngcontent-%COMP%]{grid-area:1/2}"]}),t})();function dD(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"div",2),r.Ub(2,"div",3),r.Ub(3,"button",4),r.fc("click",(function(){return r.yc(t),r.jc().back()})),r.Ub(4,"mat-icon"),r.Jc(5,"arrow_back"),r.Tb(),r.Tb(),r.Tb(),r.Ub(6,"div",5),r.Ub(7,"h2"),r.Jc(8,"Title: "),r.Ub(9,"strong"),r.Jc(10),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(11,"p"),r.Ub(12,"strong"),r.Jc(13),r.kc(14,"translate"),r.Tb(),r.Jc(15," https://jsemu2.github.io/gba/ "),r.Pb(16,"br"),r.Ub(17,"strong"),r.Jc(18),r.kc(19,"translate"),r.Tb(),r.Jc(20),r.Tb(),r.Ub(21,"div",6),r.Ub(22,"div",6),r.Pb(23,"div",7),r.Tb(),r.Ub(24,"div",2),r.Pb(25,"iframe",8),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(10),r.Kc(t.game.game_title),r.Bb(3),r.Kc(r.lc(14,5,"APP.SELECTEDGAME.SOURCECREDITSTO")),r.Bb(5),r.Kc(r.lc(19,7,"APP.SELECTEDGAME.RESRCUSED")),r.Bb(2),r.Lc(" ",t.game.game_iframelink," "),r.Bb(5),r.oc("src",t.iframeLink,r.zc)}}let fD=(()=>{class t{constructor(t,e,n,r){this.router=t,this.activatedRoute=e,this.sanitizer=n,this.navigation=r,this.sanitizer=n}ngOnInit(){this.game=Uc.GAMES.find(t=>{if(t.game_link==this.activatedRoute.snapshot.paramMap.get("id"))return this.iframeLink=this.sanitizer.bypassSecurityTrustResourceUrl(t.game_iframelink),console.log("URL: "+t.game_iframelink+"\n SAFEURL: "+this.iframeLink),t})}back(){this.navigation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(pc),r.Ob(Zo),r.Ob(St),r.Ob(aA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-game-selected"]],decls:1,vars:1,consts:[["class","custom-body",4,"ngIf"],[1,"custom-body"],[1,"row"],[1,"col-1"],["mat-mini-fab","","color","primary","type","button",3,"click"],[1,"col-11"],[1,"container"],[1,"right-float"],[1,"embeded-game",3,"src"]],template:function(t,e){1&t&&r.Hc(0,dD,26,9,"div",0),2&t&&r.oc("ngIf",e.game)},directives:[P,pT,TI],pipes:[lD],styles:[".embeded-game[_ngcontent-%COMP%]{height:500px;width:1000px}"]}),t})();function pD(t,e){if(1&t&&(r.Ub(0,"div",6),r.Pb(1,"app-game-card",7),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.oc("game",t)}}let mD=(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.router=e,this.navigation=n}ngOnInit(){this.category=Mc.find(t=>{if(t.category_value==this.activatedRoute.snapshot.paramMap.get("id"))return t}),this.updateCategoryPage()}updateCategoryPage(){this.games=Mc[0].category_value==this.activatedRoute.snapshot.paramMap.get("id")?Uc.GAMES:Uc.GAMES.filter(t=>{if(t.game_category.category_value==this.category.category_value)return t})}back(){this.navigation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Zo),r.Ob(pc),r.Ob(aA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-category-selected"]],decls:13,vars:3,consts:[[1,"custom-body"],[1,"row"],[1,"col-1"],["mat-mini-fab","","color","primary","type","button",3,"click"],[1,"col-11"],["class","grid-container",4,"ngFor","ngForOf"],[1,"grid-container"],[3,"game"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"button",3),r.fc("click",(function(){return e.back()})),r.Ub(4,"mat-icon"),r.Jc(5,"arrow_back"),r.Tb(),r.Tb(),r.Tb(),r.Ub(6,"div",4),r.Ub(7,"h2"),r.Ub(8,"strong"),r.Jc(9),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(10,"p"),r.Jc(11),r.Tb(),r.Hc(12,pD,2,1,"div",5),r.Tb()),2&t&&(r.Bb(9),r.Kc(e.category.category_title),r.Bb(2),r.Kc(e.category.category_description),r.Bb(1),r.oc("ngForOf",e.games))},directives:[pT,TI,R,LI],styles:[""]}),t})();const gD=[[["caption"]],[["colgroup"],["col"]]],yD=["caption","colgroup, col"];function bD(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=UE(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const _D=new r.r("CDK_TABLE");let vD=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),wD=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),CD=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class OD{}const SD=bD(OD);let ED=(()=>{class t extends SD{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=UE(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_D,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,vD,!0),r.Hb(n,wD,!0),r.Hb(n,CD,!0)),2&t&&(r.vc(i=r.gc())&&(e.cell=i.first),r.vc(i=r.gc())&&(e.headerCell=i.first),r.vc(i=r.gc())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Ab([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();class xD{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let TD=(()=>{class t extends xD{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ED),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.yb]}),t})(),ID=(()=>{class t extends xD{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ED),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.yb]}),t})();class kD{constructor(){this.tasks=[],this.endTasks=[]}}const AD=new r.r("_COALESCED_STYLE_SCHEDULER");let RD=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Wi.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new kD,this._getScheduleObservable().pipe(oS(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new kD;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(Cr.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Rs(1))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.A))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),DD=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ND?t.headerCell.template:this instanceof FD?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t))},t.\u0275dir=r.Jb({type:t,features:[r.zb]}),t})();class PD extends DD{}const jD=bD(PD);let ND=(()=>{class t extends jD{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(_D,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})();class LD extends DD{}const MD=bD(LD);let FD=(()=>{class t extends MD{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(_D,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.yb,r.zb]}),t})(),UD=(()=>{class t extends DD{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M),r.Ob(r.t),r.Ob(_D,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.yb]}),t})(),VD=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),BD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[VD],encapsulation:2}),t})(),qD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[VD],encapsulation:2}),t})(),HD=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.M))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const zD=["top","bottom","left","right"];class GD{constructor(t,e,n,r,i=!0,s=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return;const r=t[0],i=r.children.length,s=this._getCellWidths(r),o=this._getStickyStartColumnPositions(s,e),a=this._getStickyEndColumnPositions(s,n);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,s=r?"right":"left",c=r?"left":"right";for(const l of t)for(let t=0;t<i;t++){const r=l.children[t];e[t]&&this._addStickyStyle(r,s,o[t]),n[t]&&this._addStickyStyle(r,c,a[t])}})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[];for(let a=0,c=0;a<r.length;a++){if(s[a]=c,!i[a])continue;const t=r[a];o[a]=this._isNativeHtmlTable?Array.from(t.children):[t],a!==r.length-1&&(c+=t.getBoundingClientRect().height)}this._scheduleStyleChanges(()=>{for(let t=0;t<r.length;t++){if(!i[t])continue;const e=s[t];for(const r of o[t])this._addStickyStyle(r,n,e)}})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";zD.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=n+"px",t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of zD)t.style[r]&&(n+=e[r]);return n?""+n:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}let KD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","rowOutlet",""]]}),t})(),WD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),QD=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),$D=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.R),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),YD=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._onDestroy=new Wi.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new $i({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=UE(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():t&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),zI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),JD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=JD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=JD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=JD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],zI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;zI(this.dataSource)?t=this.dataSource.connect(this):VI(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Ki.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(oS(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))VD.mostRecentCellOutlet&&VD.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new GD(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Object(Ki.a)()).pipe(oS(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){if(this._noDataRow){const t=0===this._rowOutlet.viewContainer.length;if(t!==this._isShowingNoDataRow){const e=this._noDataRowOutlet.viewContainer;t?e.createEmbeddedView(this._noDataRow.templateRef):e.clear(),this._isShowingNoDataRow=t}}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.t),r.Ob(r.h),r.Ob(r.l),r.dc("role"),r.Ob(vx,8),r.Ob(o),r.Ob(TE),r.Ob(WI,8),r.Ob(AD,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,HD,!0),r.Hb(n,ED,!0),r.Hb(n,UD,!0),r.Hb(n,ND,!0),r.Hb(n,FD,!0)),2&t&&(r.vc(i=r.gc())&&(e._noDataRow=i.first),r.vc(i=r.gc())&&(e._contentColumnDefs=i),r.vc(i=r.gc())&&(e._contentRowDefs=i),r.vc(i=r.gc())&&(e._contentHeaderRowDefs=i),r.vc(i=r.gc())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(r.Dc(KD,!0),r.Dc(WD,!0),r.Dc(QD,!0),r.Dc($D,!0)),2&t&&(r.vc(n=r.gc())&&(e._rowOutlet=n.first),r.vc(n=r.gc())&&(e._headerRowOutlet=n.first),r.vc(n=r.gc())&&(e._footerRowOutlet=n.first),r.vc(n=r.gc())&&(e._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[r.Ab([{provide:_D,useExisting:t},{provide:WI,useClass:GI},{provide:AD,useClass:RD}])],ngContentSelectors:yD,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.nc(gD),r.mc(0),r.mc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[WD,KD,$D,QD],encapsulation:2}),t})();function JD(t,e){return t.concat(Array.from(e))}let XD=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[JI]]}),t})();const ZD=[[["caption"]],[["colgroup"],["col"]]],tP=["caption","colgroup, col"];let eP=(()=>{class t extends YD{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return nP(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[r.Ab([{provide:WI,useClass:GI},{provide:YD,useExisting:t},{provide:_D,useExisting:t},{provide:AD,useClass:RD}]),r.yb],ngContentSelectors:tP,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.nc(ZD),r.mc(0),r.mc(1,1),r.Qb(2,0),r.Qb(3,1),r.Qb(4,2),r.Qb(5,3))},directives:[WD,KD,$D,QD],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),t})();const nP=r.Wb(eP);let rP=(()=>{class t extends vD{}return t.\u0275fac=function(e){return iP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matCellDef",""]],features:[r.Ab([{provide:vD,useExisting:t}]),r.yb]}),t})();const iP=r.Wb(rP);let sP=(()=>{class t extends wD{}return t.\u0275fac=function(e){return oP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Ab([{provide:wD,useExisting:t}]),r.yb]}),t})();const oP=r.Wb(sP);let aP=(()=>{class t extends ED{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return t.\u0275fac=function(e){return cP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Ab([{provide:ED,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.yb]}),t})();const cP=r.Wb(aP);let lP=(()=>{class t extends TD{}return t.\u0275fac=function(e){return uP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.yb]}),t})();const uP=r.Wb(lP);let hP=(()=>{class t extends ID{}return t.\u0275fac=function(e){return dP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.yb]}),t})();const dP=r.Wb(hP);let fP=(()=>{class t extends ND{}return t.\u0275fac=function(e){return pP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Ab([{provide:ND,useExisting:t}]),r.yb]}),t})();const pP=r.Wb(fP);let mP=(()=>{class t extends UD{}return t.\u0275fac=function(e){return gP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Ab([{provide:UD,useExisting:t}]),r.yb]}),t})();const gP=r.Wb(mP);let yP=(()=>{class t extends BD{}return t.\u0275fac=function(e){return bP(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Ab([{provide:BD,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[VD],encapsulation:2}),t})();const bP=r.Wb(yP);let _P=(()=>{class t extends qD{}return t.\u0275fac=function(e){return vP(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Ab([{provide:qD,useExisting:t}]),r.yb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Qb(0,0)},directives:[VD],encapsulation:2}),t})();const vP=r.Wb(_P);let wP=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[XD,Ax],Ax]}),t})();class CP extends class{}{constructor(t=[]){super(),this._renderData=new $i([]),this._filter=new $i(""),this._internalPageChanges=new Wi.a,this._renderChangesSubscription=Ks.a.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(BE(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof i,a=typeof s;o!==a&&("number"===o&&(i+=""),"number"===a&&(s+=""));let c=0;return null!=i&&null!=s?i>s?c=1:i<s&&(c=-1):null!=i?c=1:null!=s&&(c=-1),c*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new $i(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?Object(fO.a)(this._sort.sortChange,this._sort.initialized):Object(Ki.a)(null),e=this._paginator?Object(fO.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Ki.a)(null),n=is([this._data,this._filter]).pipe(Object(vr.a)(([t])=>this._filterData(t))),r=is([n,t]).pipe(Object(vr.a)(([t])=>this._orderData(t))),i=is([r,e]).pipe(Object(vr.a)(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=i.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}const OP=["mat-sort-header",""];function SP(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",3),r.fc("@arrowPosition.start",(function(){return r.yc(t),r.jc()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return r.yc(t),r.jc()._disableViewStateAnimation=!1})),r.Pb(1,"div",4),r.Ub(2,"div",5),r.Pb(3,"div",6),r.Pb(4,"div",7),r.Pb(5,"div",8),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.oc("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),r.Bb(2),r.oc("@indicator",t._getArrowDirectionState()),r.Bb(1),r.oc("@leftPointer",t._getArrowDirectionState()),r.Bb(1),r.oc("@rightPointer",t._getArrowDirectionState())}}const EP=["*"];class xP{}const TP=Lx(Rx(xP));let IP=(()=>{class t extends TP{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new Wi.a,this.start="asc",this._direction="",this.sortChange=new r.o}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=UE(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return kP(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[r.yb,r.zb]}),t})();const kP=r.Wb(IP),AP=xx.ENTERING+" "+Ex.STANDARD_CURVE,RP={indicator:Dt("indicator",[Mt("active-asc, asc",Lt({transform:"translateY(0px)"})),Mt("active-desc, desc",Lt({transform:"translateY(10px)"})),Ut("active-asc <=> active-desc",Pt(AP))]),leftPointer:Dt("leftPointer",[Mt("active-asc, asc",Lt({transform:"rotate(-45deg)"})),Mt("active-desc, desc",Lt({transform:"rotate(45deg)"})),Ut("active-asc <=> active-desc",Pt(AP))]),rightPointer:Dt("rightPointer",[Mt("active-asc, asc",Lt({transform:"rotate(45deg)"})),Mt("active-desc, desc",Lt({transform:"rotate(-45deg)"})),Ut("active-asc <=> active-desc",Pt(AP))]),arrowOpacity:Dt("arrowOpacity",[Mt("desc-to-active, asc-to-active, active",Lt({opacity:1})),Mt("desc-to-hint, asc-to-hint, hint",Lt({opacity:.54})),Mt("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Lt({opacity:0})),Ut("* => asc, * => desc, * => active, * => hint, * => void",Pt("0ms")),Ut("* <=> *",Pt(AP))]),arrowPosition:Dt("arrowPosition",[Ut("* => desc-to-hint, * => desc-to-active",Pt(AP,Ft([Lt({transform:"translateY(-25%)"}),Lt({transform:"translateY(0)"})]))),Ut("* => hint-to-desc, * => active-to-desc",Pt(AP,Ft([Lt({transform:"translateY(0)"}),Lt({transform:"translateY(25%)"})]))),Ut("* => asc-to-hint, * => asc-to-active",Pt(AP,Ft([Lt({transform:"translateY(25%)"}),Lt({transform:"translateY(0)"})]))),Ut("* => hint-to-asc, * => active-to-asc",Pt(AP,Ft([Lt({transform:"translateY(0)"}),Lt({transform:"translateY(-25%)"})]))),Mt("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Lt({transform:"translateY(0)"})),Mt("hint-to-desc, active-to-desc, desc",Lt({transform:"translateY(-25%)"})),Mt("hint-to-asc, active-to-asc, asc",Lt({transform:"translateY(25%)"}))]),allowChildren:Dt("allowChildren",[Ut("* <=> *",[Bt("@*",Vt(),{optional:!0})])])};let DP=(()=>{class t{constructor(){this.changes=new Wi.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const PP={provide:DP,deps:[[new r.B,new r.K,DP]],useFactory:function(t){return t||new DP}};class jP{}const NP=Rx(jP);let LP=(()=>{class t extends NP{constructor(t,e,n,r,i,s){super(),this._intl=t,this._sort=n,this._columnDef=r,this._focusMonitor=i,this._elementRef=s,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._rerenderSubscription=Object(fO.a)(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=UE(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>this._setIndicatorHintVisible(!!t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_handleClick(){this._isDisabled()||this._toggleOnInteraction()}_handleKeydown(t){this._isDisabled()||32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?t+"-to-":"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(DP),r.Ob(r.h),r.Ob(IP,8),r.Ob("MAT_SORT_HEADER_COLUMN_DEF",8),r.Ob(hx),r.Ob(r.l))},t.\u0275cmp=r.Ib({type:t,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._handleClick()}))("keydown",(function(t){return e._handleKeydown(t)}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(r.Cb("aria-sort",e._getAriaSortAttribute()),r.Gb("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[r.yb],attrs:OP,ngContentSelectors:EP,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"div",0),r.Ub(1,"div",1),r.mc(2),r.Tb(),r.Hc(3,SP,6,6,"div",2),r.Tb()),2&t&&(r.Gb("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),r.Cb("tabindex",e._isDisabled()?null:0),r.Bb(3),r.oc("ngIf",e._renderArrow()))},directives:[P],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[RP.indicator,RP.leftPointer,RP.rightPointer,RP.arrowOpacity,RP.arrowPosition,RP.allowChildren]},changeDetection:0}),t})(),MP=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[PP],imports:[[W]]}),t})();const FP=["trigger"],UP=["panel"];function VP(t,e){if(1&t&&(r.Ub(0,"span",8),r.Jc(1),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.Kc(t.placeholder||"\xa0")}}function BP(t,e){if(1&t&&(r.Ub(0,"span"),r.Jc(1),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Kc(t.triggerValue||"\xa0")}}function qP(t,e){1&t&&r.mc(0,0,["*ngSwitchCase","true"])}function HP(t,e){if(1&t&&(r.Ub(0,"span",9),r.Hc(1,BP,2,1,"span",10),r.Hc(2,qP,1,0,"ng-content",11),r.Tb()),2&t){const t=r.jc();r.oc("ngSwitch",!!t.customTrigger),r.Bb(2),r.oc("ngSwitchCase",!0)}}function zP(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",12),r.Ub(1,"div",13,14),r.fc("@transformPanel.done",(function(e){return r.yc(t),r.jc()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return r.yc(t),r.jc()._handleKeydown(e)})),r.mc(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.oc("@transformPanelWrap",void 0),r.Bb(1),r.Eb("mat-select-panel ",t._getPanelTheme(),""),r.Ec("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.oc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const GP=[[["mat-select-trigger"]],"*"],KP=["mat-select-trigger","*"],WP={transformPanelWrap:Dt("transformPanelWrap",[Ut("* => void",Bt("@transformPanel",[Vt()],{optional:!0}))]),transformPanel:Dt("transformPanel",[Mt("void",Lt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Mt("showing",Lt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Mt("showing-multiple",Lt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ut("void => *",Pt("120ms cubic-bezier(0, 0, 0.2, 1)")),Ut("* => void",Pt("100ms 25ms linear",Lt({opacity:0})))])};let QP=0;const $P=256,YP=new r.r("mat-select-scroll-strategy"),JP=new r.r("MAT_SELECT_CONFIG"),XP={provide:YP,deps:[Lk],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class ZP{constructor(t,e){this.source=t,this.value=e}}class tj{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const ej=Px(jx(Rx(Nx(tj)))),nj=new r.r("MatSelectTrigger");let rj=(()=>{class t extends ej{constructor(t,e,n,i,s,o,a,c,l,u,h,d,f,p){super(s,i,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+QP++,this._triggerAriaLabelledBy=null,this._destroy=new Wi.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+QP++,this._transformOrigin="top",this._panelDoneAnimatingStream=new Wi.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=ls(()=>{const t=this.options;return t?t.changes.pipe(Ns(t),Is(()=>Object(fO.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Rs(1),Is(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(ds(t=>t),Object(vr.a)(()=>{})),this._closedStream=this.openedChange.pipe(ds(t=>!t),Object(vr.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=UE(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=UE(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=UE(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=VE(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new KI(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(zc(),oS(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(oS(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(oS(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ns(null),oS(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.pipe(Rs(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!jE(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||jE(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Rs(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t)Array.isArray(t),this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues();else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new rx(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(oS(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(oS(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(fO.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(oS(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(fO.a)(...this.options.map(t=>t._stateChanges)).pipe(oS(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new ZP(this,e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=oT(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,$P),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=oT(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor($P/r);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-$P)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,$P)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(r.Ob($I),r.Ob(r.h),r.Ob(r.A),r.Ob(Mx),r.Ob(r.l),r.Ob(vx,8),r.Ob(Di,8),r.Ob(Ui,8),r.Ob(AR,8),r.Ob(jr,10),r.dc("tabindex"),r.Ob(YP),r.Ob(ax),r.Ob(JP,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,nj,!0),r.Hb(n,sT,!0),r.Hb(n,tT,!0)),2&t&&(r.vc(i=r.gc())&&(e.customTrigger=i.first),r.vc(i=r.gc())&&(e.options=i),r.vc(i=r.gc())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(r.Nc(FP,!0),r.Nc(UP,!0),r.Nc(Vk,!0)),2&t&&(r.vc(n=r.gc())&&(e.trigger=n.first),r.vc(n=r.gc())&&(e.panel=n.first),r.vc(n=r.gc())&&(e.overlayDir=n.first))},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.fc("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(r.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Gb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.Ab([{provide:_R,useExisting:t},{provide:rT,useExisting:t}]),r.yb,r.zb],ngContentSelectors:KP,decls:9,vars:10,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.nc(GP),r.Ub(0,"div",0,1),r.fc("click",(function(){return e.toggle()})),r.Ub(3,"div",2),r.Hc(4,VP,2,1,"span",3),r.Hc(5,HP,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Pb(7,"div",6),r.Tb(),r.Tb(),r.Hc(8,zP,4,14,"ng-template",7),r.fc("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=r.wc(1);r.Bb(3),r.oc("ngSwitch",e.empty),r.Cb("id",e._valueId),r.Bb(1),r.oc("ngSwitchCase",!0),r.Bb(1),r.oc("ngSwitchCase",!1),r.Bb(3),r.oc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Uk,M,F,Vk,U,k],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[WP.transformPanelWrap,WP.transformPanel]},changeDetection:0}),t})(),ij=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[XP],imports:[[W,qk,aT,Ax],YI,DR,aT,Ax]}),t})();const sj={tooltipState:Dt("state",[Mt("initial, void, hidden",Lt({opacity:0,transform:"scale(0)"})),Mt("visible",Lt({transform:"scale(1)"})),Ut("* => visible",Pt("200ms cubic-bezier(0, 0, 0.2, 1)",Ft([Lt({opacity:0,transform:"scale(0)",offset:0}),Lt({opacity:.5,transform:"scale(0.99)",offset:.5}),Lt({opacity:1,transform:"scale(1)",offset:1})]))),Ut("* => hidden",Pt("100ms cubic-bezier(0, 0, 0.2, 1)",Lt({opacity:0})))])},oj=PE({passive:!0}),aj=new r.r("mat-tooltip-scroll-strategy"),cj={provide:aj,deps:[Lk],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},lj=new r.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let uj=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=l,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Wi.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!jE(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=UE(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(oS(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,oj)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new ZI(hj,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(oS(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(oS(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(oS(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Rs(1),oS(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,oj)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lk),r.Ob(r.l),r.Ob(QI),r.Ob(r.R),r.Ob(r.A),r.Ob(TE),r.Ob(ex),r.Ob(hx),r.Ob(aj),r.Ob(vx,8),r.Ob(lj,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),hj=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Wi.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h),r.Ob(Wk))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e._handleBodyInteraction()}),!1,r.xc),2&t&&r.Ec("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(r.Ub(0,"div",0),r.fc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),r.kc(1,"async"),r.Jc(2),r.Tb()),2&t&&(r.Gb("mat-tooltip-handset",null==(n=r.lc(1,5,e._isHandset))?null:n.matches),r.oc("ngClass",e.tooltipClass)("@state",e._visibility),r.Bb(2),r.Kc(e.message))},directives:[k],pipes:[G],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[sj.tooltipState]},changeDetection:0}),t})(),dj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[cj],imports:[[bx,W,qk,Ax],Ax,YI]}),t})();function fj(t,e){if(1&t&&(r.Ub(0,"mat-option",19),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Bb(1),r.Lc(" ",t," ")}}function pj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-form-field",16),r.Ub(1,"mat-select",17),r.fc("selectionChange",(function(e){return r.yc(t),r.jc(2)._changePageSize(e.value)})),r.Hc(2,fj,2,2,"mat-option",18),r.Tb(),r.Tb()}if(2&t){const t=r.jc(2);r.oc("appearance",t._formFieldAppearance)("color",t.color),r.Bb(1),r.oc("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),r.Bb(1),r.oc("ngForOf",t._displayedPageSizeOptions)}}function mj(t,e){if(1&t&&(r.Ub(0,"div",20),r.Jc(1),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.Kc(t.pageSize)}}function gj(t,e){if(1&t&&(r.Ub(0,"div",12),r.Ub(1,"div",13),r.Jc(2),r.Tb(),r.Hc(3,pj,3,6,"mat-form-field",14),r.Hc(4,mj,2,1,"div",15),r.Tb()),2&t){const t=r.jc();r.Bb(2),r.Lc(" ",t._intl.itemsPerPageLabel," "),r.Bb(1),r.oc("ngIf",t._displayedPageSizeOptions.length>1),r.Bb(1),r.oc("ngIf",t._displayedPageSizeOptions.length<=1)}}function yj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",21),r.fc("click",(function(){return r.yc(t),r.jc().firstPage()})),r.ic(),r.Ub(1,"svg",7),r.Pb(2,"path",22),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.oc("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),r.Cb("aria-label",t._intl.firstPageLabel)}}function bj(t,e){if(1&t){const t=r.Vb();r.ic(),r.hc(),r.Ub(0,"button",23),r.fc("click",(function(){return r.yc(t),r.jc().lastPage()})),r.ic(),r.Ub(1,"svg",7),r.Pb(2,"path",24),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.oc("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),r.Cb("aria-label",t._intl.lastPageLabel)}}let _j=(()=>{class t{constructor(){this.changes=new Wi.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return"0 of "+n;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const vj={provide:_j,deps:[[new r.B,new r.K,_j]],useFactory:function(t){return t||new _j}},wj=new r.r("MAT_PAGINATOR_DEFAULT_OPTIONS");class Cj{}const Oj=Rx(Lx(Cj));let Sj=(()=>{class t extends Oj{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.o,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:r,showFirstLastButtons:i,formFieldAppearance:s}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=r&&(this._hidePageSize=r),null!=i&&(this._showFirstLastButtons=i),null!=s&&(this._formFieldAppearance=s)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(VE(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=VE(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(VE(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>VE(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=UE(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=UE(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(_j),r.Ob(r.h),r.Ob(wj,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[r.yb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Hc(2,gj,5,3,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Jc(5),r.Tb(),r.Hc(6,yj,3,5,"button",5),r.Ub(7,"button",6),r.fc("click",(function(){return e.previousPage()})),r.ic(),r.Ub(8,"svg",7),r.Pb(9,"path",8),r.Tb(),r.Tb(),r.hc(),r.Ub(10,"button",9),r.fc("click",(function(){return e.nextPage()})),r.ic(),r.Ub(11,"svg",7),r.Pb(12,"path",10),r.Tb(),r.Tb(),r.Hc(13,bj,3,5,"button",11),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.oc("ngIf",!e.hidePageSize),r.Bb(3),r.Lc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),r.Bb(1),r.oc("ngIf",e.showFirstLastButtons),r.Bb(1),r.oc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.Cb("aria-label",e._intl.previousPageLabel),r.Bb(3),r.oc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.Cb("aria-label",e._intl.nextPageLabel),r.Bb(3),r.oc("ngIf",e.showFirstLastButtons))},directives:[P,pT,uj,RR,rj,R,sT],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),Ej=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[vj],imports:[[W,mT,ij,dj]]}),t})();function xj(t,e){1&t&&(r.Ub(0,"th",10),r.Jc(1," No. "),r.Tb())}function Tj(t,e){if(1&t&&(r.Ub(0,"td",11),r.Jc(1),r.Tb()),2&t){const t=e.$implicit,n=r.jc().$implicit;r.Bb(1),r.Lc(" ",t[n]," ")}}function Ij(t,e){1&t&&(r.Sb(0,7),r.Hc(1,xj,2,0,"th",8),r.Hc(2,Tj,2,1,"td",9),r.Rb())}function kj(t,e){1&t&&r.Pb(0,"tr",12)}function Aj(t,e){1&t&&r.Pb(0,"tr",13)}const Rj=function(){return[5,10,15]};function Dj(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"table",2),r.Hc(2,Ij,3,0,"ng-container",3),r.Hc(3,kj,1,0,"tr",4),r.Hc(4,Aj,1,0,"tr",5),r.Tb(),r.Pb(5,"mat-paginator",6),r.Tb()),2&t){const t=r.jc();r.Bb(1),r.oc("dataSource",t.datasource),r.Bb(1),r.oc("ngForOf",t.columnKeys),r.Bb(1),r.oc("matHeaderRowDef",t.displayedColumns),r.Bb(1),r.oc("matRowDefColumns",t.displayedColumns),r.Bb(1),r.oc("pageSizeOptions",r.rc(5,Rj))}}let Pj=(()=>{class t{constructor(t){this.navigation=t}ngOnChanges(t){if(this.isDataAvailable=!1,t.inputDatasource&&t.displayedColumns){if(console.log("Data Loaded"),0==this.inputDatasource.length)throw Error("Empty DataSet is given");if(null!=this.displayedColumns&&this.displayedColumns.length!=Object.keys(this.inputDatasource[0]).length)throw Error("Incorrect Display Columns given");this.buildTable()}}ngOnInit(){}buildTable(){this.datasource=new CP(this.inputDatasource),this.columnKeys=Object.keys(this.inputDatasource[0]),this.columnHeadings=this.columnKeys,null==this.displayedColumns&&(this.displayedColumns=this.columnKeys),this.datasource.sort=this.sort,this.datasource.paginator=this.paginator,this.isDataAvailable=!0}back(){this.navigation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(aA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-custom-table"]],viewQuery:function(t,e){var n;1&t&&(r.Nc(IP,!0),r.Nc(Sj,!0)),2&t&&(r.vc(n=r.gc())&&(e.sort=n.first),r.vc(n=r.gc())&&(e.paginator=n.first))},inputs:{inputDatasource:"inputDatasource",displayedColumns:"displayedColumns",pageSizeOptions:"pageSizeOptions"},features:[r.zb],decls:1,vars:1,consts:[["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","columnKey",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["matColumnDef","columnKey"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&r.Hc(0,Dj,6,6,"div",0),2&t&&r.oc("ngIf",e.isDataAvailable)},directives:[P,eP,IP,R,fP,mP,Sj,aP,sP,rP,lP,LP,hP,yP,_P],styles:[""]}),t})();const jj=function(){return[5,10,15]};function Nj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"div",2),r.Ub(2,"div",3),r.Ub(3,"button",4),r.fc("click",(function(){return r.yc(t),r.jc().back()})),r.Ub(4,"mat-icon"),r.Jc(5,"arrow_back"),r.Tb(),r.Tb(),r.Tb(),r.Ub(6,"div",5),r.Ub(7,"h2"),r.Ub(8,"strong"),r.Jc(9),r.kc(10,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(11,"app-custom-table",6),r.Tb()}if(2&t){const t=r.jc();r.Bb(9),r.Lc(" ",r.lc(10,3,"APP.SCOREBOARD.TITLE")," "),r.Bb(2),r.oc("inputDatasource",t.ELEMENT_DATA)("pageSizeOptions",r.rc(5,jj))}}let Lj=(()=>{class t{constructor(t){this.navigation=t,this.ELEMENT_DATA=[{position:1,name:"Hydrogen",weight:1.0079,symbol:"H"},{position:2,name:"Helium",weight:4.0026,symbol:"He"},{position:3,name:"Lithium",weight:6.941,symbol:"Li"},{position:4,name:"Beryllium",weight:9.0122,symbol:"Be"},{position:5,name:"Boron",weight:10.811,symbol:"B"},{position:6,name:"Carbon",weight:12.0107,symbol:"C"},{position:7,name:"Nitrogen",weight:14.0067,symbol:"N"},{position:8,name:"Oxygen",weight:15.9994,symbol:"O"},{position:9,name:"Fluorine",weight:18.9984,symbol:"F"},{position:10,name:"Neon",weight:20.1797,symbol:"Ne"}]}ngOnInit(){}back(){this.navigation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(aA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-score-board"]],decls:1,vars:1,consts:[["class","custom-body",4,"ngIf"],[1,"custom-body"],[1,"row"],[1,"col-1"],["mat-mini-fab","","color","primary","type","button",3,"click"],[1,"col-11"],[3,"inputDatasource","pageSizeOptions"]],template:function(t,e){1&t&&r.Hc(0,Nj,12,6,"div",0),2&t&&r.oc("ngIf",e.ELEMENT_DATA)},directives:[P,pT,TI,Pj],pipes:[lD],styles:[""]}),t})();function Mj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.Ub(1,"div",7),r.Ub(2,"h3"),r.Jc(3),r.kc(4,"translate"),r.Tb(),r.Ub(5,"button",8),r.fc("click",(function(){return r.yc(t),r.jc().openLogin()})),r.Ub(6,"mat-icon"),r.Jc(7,"login"),r.Tb(),r.Jc(8),r.kc(9,"translate"),r.Tb(),r.Tb(),r.Tb()}2&t&&(r.Bb(3),r.Lc(" ",r.lc(4,2,"APP.PROFILE.NOTLOGGEDIN")," "),r.Bb(5),r.Lc(" ",r.lc(9,4,"APP.PROFILE.GOTOLOGIN")," "))}function Fj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Jc(1),r.Ub(2,"button",12),r.fc("click",(function(){return r.yc(t),r.jc(2).editDisplayName()})),r.Ub(3,"mat-icon"),r.Jc(4,"edit"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc(2);r.Bb(1),r.Lc(" ",t.user.displayName," ")}}function Uj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"mat-form-field",16),r.Ub(2,"input",17),r.fc("ngModelChange",(function(e){return r.yc(t),r.jc(2).user.displayName=e})),r.Tb(),r.Tb(),r.Ub(3,"button",12),r.fc("click",(function(){return r.yc(t),r.jc(2).saveDisplayName()})),r.Ub(4,"mat-icon"),r.Jc(5,"save"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc(2);r.Bb(2),r.oc("ngModel",t.user.displayName)}}function Vj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",6),r.Ub(1,"mat-card",9),r.Ub(2,"mat-card-header"),r.Ub(3,"div",10),r.Pb(4,"img",11),r.Ub(5,"button",12),r.fc("click",(function(){return r.yc(t),r.jc().uploadImg()})),r.Ub(6,"mat-icon"),r.Jc(7,"cloud_upload"),r.Tb(),r.Tb(),r.Tb(),r.Ub(8,"mat-card-title",13),r.Hc(9,Fj,5,1,"div",14),r.Hc(10,Uj,6,1,"div",14),r.Tb(),r.Ub(11,"mat-card-subtitle",15),r.Jc(12),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(4),r.oc("src",t.user.photoURL,r.Ac),r.Bb(5),r.oc("ngIf",!t.editDisplayNameFlag),r.Bb(1),r.oc("ngIf",t.editDisplayNameFlag),r.Bb(2),r.Lc(" ",t.user.email," ")}}let Bj=(()=>{class t{constructor(t,e,n,r){this.firebaseService=t,this.navigation=e,this.router=n,this.userdb=r}ngOnInit(){this.userSubscription=this.firebaseService.getCurrentUserDetails().subscribe(t=>{this.user=t,this.userDBSubscription=this.userdb.getUsers().subscribe(e=>{e.every(e=>e.email!=t.email||(this.user=e,console.log("User from DB "+JSON.stringify(e)),!1))})}),this.editDisplayNameFlag=!1,this.editEmailFlag=!1}ngOnDestroy(){this.userSubscription.unsubscribe(),this.userDBSubscription.unsubscribe()}openLogin(){this.router.navigateByUrl("login")}back(){this.navigation.back()}editDisplayName(){this.editDisplayNameFlag=!0}saveDisplayName(){this.editDisplayNameFlag=!1,this.firebaseService.updateCurrentUserDisplayName(this.user.displayName),this.userdb.updateUser(this.user)}uploadImg(){this.user.photoURL=cA,this.firebaseService.updateCurrentUserPhotoURL(this.user.photoURL),this.userdb.updateUser(this.user)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(uA),r.Ob(aA),r.Ob(pc),r.Ob(HO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-page"]],decls:13,vars:5,consts:[[1,"custom-body"],[1,"row"],[1,"col-1"],["mat-mini-fab","","color","primary","type","button",3,"click"],[1,"col-11"],["class","profile-page-body",4,"ngIf"],[1,"profile-page-body"],[1,"center"],["mat-raised-button","","color","primary","type","button",3,"click"],[1,"profile-card"],["mat-card-avatar",""],[1,"profile-image",3,"src"],["mat-icon-button","",3,"click"],[1,"display-name"],[4,"ngIf"],[1,"email"],["appearance","fill"],["matInput","","type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"button",3),r.fc("click",(function(){return e.back()})),r.Ub(4,"mat-icon"),r.Jc(5,"arrow_back"),r.Tb(),r.Tb(),r.Tb(),r.Ub(6,"div",4),r.Ub(7,"h2"),r.Ub(8,"strong"),r.Jc(9),r.kc(10,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Hc(11,Mj,10,6,"div",5),r.Hc(12,Vj,13,4,"div",5),r.Tb()),2&t&&(r.Bb(9),r.Lc(" ",r.lc(10,3,"APP.PROFILE.TITLE")," "),r.Bb(2),r.oc("ngIf",!e.user),r.Bb(1),r.oc("ngIf",e.user))},directives:[pT,TI,P,RT,DT,AT,ET,xT,RR,BR,Ar,Lr,Ni],pipes:[lD],styles:[".profile-card[_ngcontent-%COMP%]{width:80%;height:90%}.display-name[_ngcontent-%COMP%], .email[_ngcontent-%COMP%]{overflow-wrap:anywhere}img[_ngcontent-%COMP%]{border-radius:50%;height:30px;width:30px}.profile-page-body[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.center[_ngcontent-%COMP%]{text-align:center}"]}),t})(),qj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-page-not-found"]],decls:4,vars:3,consts:[[1,"page-not-found-body"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div"),r.Jc(2),r.kc(3,"translate"),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.Lc(" ",r.lc(3,1,"APP.404NOTFOUND")," "))},pipes:[lD],styles:[".page-not-found-body[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}"]}),t})(),Hj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-favourite-games"]],decls:3,vars:0,consts:[[1,"favourite-games-body"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1"),r.Jc(2," Your Favourite Games "),r.Tb(),r.Tb())},styles:[".favourite-games-body[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}"]}),t})(),zj=(()=>{class t{canActivate(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Gj=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:FI},{path:"login",component:hD},{path:"gameLink/:id",component:fD},{path:"category/:id",component:mD},{path:"scoreBoard",component:Lj},{path:"profilePage",component:Bj},{path:"favouriteGames",component:Hj,canActivate:[zj]},{path:"**",component:qj}];let Kj=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ec.forRoot(Gj)],Ec]}),t})(),Wj=(()=>{class t{constructor(t){this.translate=t}setDefaultLang(){this.translate.setDefaultLang("en")}setLang(t){this.translate.use(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(cD))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qj=(()=>{class t{constructor(t){this.http=t,this.temp=document.createElement("html")}getGames(){console.log("getGames...")}}return t.\u0275fac=function(e){return new(e||t)(r.cc(JT))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $j=["*",[["mat-toolbar-row"]]],Yj=["*","mat-toolbar-row"];class Jj{constructor(t){this._elementRef=t}}const Xj=Dx(Jj);let Zj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),tN=(()=>{class t extends Xj{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(TE),r.Ob(o))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,Zj,!0),2&t&&r.vc(i=r.gc())&&(e._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Gb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.yb],ngContentSelectors:Yj,decls:2,vars:0,template:function(t,e){1&t&&(r.nc($j),r.mc(0),r.mc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),eN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ax],Ax]}),t})();const nN=["mat-menu-item",""],rN=["*"];function iN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",0),r.fc("keydown",(function(e){return r.yc(t),r.jc()._handleKeydown(e)}))("click",(function(){return r.yc(t),r.jc().closed.emit("click")}))("@transformMenu.start",(function(e){return r.yc(t),r.jc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return r.yc(t),r.jc()._onAnimationDone(e)})),r.Ub(1,"div",1),r.mc(2),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.oc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),r.Cb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const sN={transformMenu:Dt("transformMenu",[Mt("void",Lt({opacity:0,transform:"scale(0.8)"})),Ut("void => enter",jt([Bt(".mat-menu-content, .mat-mdc-menu-content",Pt("100ms linear",Lt({opacity:1}))),Pt("120ms cubic-bezier(0, 0, 0.2, 1)",Lt({transform:"scale(1)"}))])),Ut("* => void",Pt("100ms 25ms linear",Lt({opacity:0})))]),fadeInItems:Dt("fadeInItems",[Mt("showing",Lt({opacity:1})),Ut("void => *",[Lt({opacity:0}),Pt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},oN=new r.r("MatMenuContent"),aN=new r.r("MAT_MENU_PANEL");class cN{}const lN=Px(Rx(cN));let uN=(()=>{class t extends lN{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new Wi.a,this._focused=new Wi.a,this._highlighted=!1,this._triggersSubmenu=!1,r&&r.addItem&&r.addItem(this)}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++){const e=r[i];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(o),r.Ob(hx),r.Ob(aN,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.fc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(r.Cb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Gb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.yb],attrs:nN,ngContentSelectors:rN,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.nc(),r.mc(0),r.Pb(1,"div",0)),2&t&&(r.Bb(1),r.oc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Gx],encapsulation:2,changeDetection:0}),t})();const hN=new r.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let dN=0,fN=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.E,this._tabSubscription=Ks.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Wi.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.o,this.close=this.closed,this.panelId="mat-menu-panel-"+dN++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=UE(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=UE(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new ix(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ns(this._directDescendantItems),Is(t=>Object(fO.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Ns(this._directDescendantItems),Is(t=>Object(fO.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:jE(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Rs(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ns(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(hN))},t.\u0275dir=r.Jb({type:t,contentQueries:function(t,e,n){var i;1&t&&(r.Hb(n,oN,!0),r.Hb(n,uN,!0),r.Hb(n,uN,!1)),2&t&&(r.vc(i=r.gc())&&(e.lazyContent=i.first),r.vc(i=r.gc())&&(e._allItems=i),r.vc(i=r.gc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&r.Nc(r.M,!0),2&t&&r.vc(n=r.gc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),pN=(()=>{class t extends fN{}return t.\u0275fac=function(e){return mN(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.yb]}),t})();const mN=r.Wb(pN);let gN=(()=>{class t extends pN{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.A),r.Ob(hN))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[r.Ab([{provide:aN,useExisting:pN},{provide:pN,useExisting:t}]),r.yb],ngContentSelectors:rN,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(r.nc(),r.Hc(0,iN,3,6,"ng-template"))},directives:[k],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[sN.transformMenu,sN.fadeInItems]},changeDetection:0}),t})();const yN=new r.r("mat-menu-scroll-strategy"),bN={provide:yN,deps:[Lk],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},_N=PE({passive:!0});let vN=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=s,this._menuItemInstance=o,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ks.a.EMPTY,this._hoverSubscription=Ks.a.EMPTY,this._menuCloseSubscription=Ks.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new r.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,_N),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_N),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof pN&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof pN?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(ds(t=>"void"===t.toState),Rs(1),oS(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new yk({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",l="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:l},{originX:n,originY:s,overlayX:c,overlayY:r,offsetY:l},{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:-l},{originX:n,originY:o,overlayX:c,overlayY:i,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(Ki.a)(),r=this._parentMenu?this._parentMenu._hovered().pipe(ds(t=>t!==this._menuItemInstance),ds(()=>this._menuOpen)):Object(Ki.a)();return Object(fO.a)(t,n,r,e)}_handleMousedown(t){cx(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(ds(t=>t===this._menuItemInstance&&!t.disabled),fS(0,UI.b)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof pN&&this.menu._isAnimating?this.menu._animationDone.pipe(Rs(1),fS(0,UI.b),oS(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new tk(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Lk),r.Ob(r.l),r.Ob(r.R),r.Ob(yN),r.Ob(pN,8),r.Ob(uN,10),r.Ob(vx,8),r.Ob(hx))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.fc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&r.Cb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),wN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[bN],imports:[Ax]}),t})(),CN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[bN],imports:[[W,Ax,Kx,qk,wN],YI,Ax,wN]}),t})();function ON(t,e){if(1&t&&(r.Ub(0,"div",1),r.Ub(1,"mat-card",2),r.Ub(2,"mat-card-header"),r.Ub(3,"div",3),r.Pb(4,"img",4),r.Tb(),r.Ub(5,"mat-card-title",5),r.Jc(6),r.Tb(),r.Ub(7,"mat-card-subtitle",6),r.Jc(8),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.jc();r.Bb(4),r.oc("src",t.user.photoURL,r.Ac),r.Bb(2),r.Kc(t.user.displayName),r.Bb(2),r.Kc(t.user.email)}}let SN=(()=>{class t{constructor(t){this.firebaseService=t,this.logoutEvent=new r.o}ngOnDestroy(){this.userSubscription.unsubscribe()}ngOnChanges(t){t.isLoggedIn.currentValue&&(this.userSubscription=this.firebaseService.getCurrentUserDetails().subscribe(t=>{this.user=t}))}ngOnInit(){}logout(){this.logoutEvent.emit("logout")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(uA))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-profile-dropdown-card"]],inputs:{isLoggedIn:"isLoggedIn"},outputs:{logoutEvent:"logoutEvent"},features:[r.zb],decls:1,vars:1,consts:[["class","profile-dropdown",4,"ngIf"],[1,"profile-dropdown"],[1,"profile-card","mat-elevation-z4"],["mat-card-avatar",""],[1,"profile-image",3,"src"],[1,"display-name"],[1,"email"]],template:function(t,e){1&t&&r.Hc(0,ON,9,3,"div",0),2&t&&r.oc("ngIf",e.user)},directives:[P,RT,DT,AT,ET,xT],styles:[".profile-card[_ngcontent-%COMP%]{max-width:100%}.display-name[_ngcontent-%COMP%]{font-size:1rem}.display-name[_ngcontent-%COMP%], .email[_ngcontent-%COMP%]{overflow-wrap:anywhere}img[_ngcontent-%COMP%]{border-radius:50%;height:30px;width:30px}.profile-dropdown[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();const EN=["thumbContainer"],xN=["toggleBar"],TN=["input"],IN=function(){return{enterDuration:150}},kN=["*"],AN=new r.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let RN=0;const DN={provide:Er,useExisting:Object(r.V)(()=>LN),multi:!0};class PN{constructor(t,e){this.source=t,this.checked=e}}class jN{constructor(t){this._elementRef=t}}const NN=jx(Dx(Px(Rx(jN)),"accent"));let LN=(()=>{class t extends NN{constructor(t,e,n,i,s,o){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=s,this._animationMode=o,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++RN,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new r.o,this.toggleChange=new r.o,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=UE(t)}get checked(){return this._checked}set checked(t){this._checked=UE(t),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new PN(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(hx),r.Ob(r.h),r.dc("tabindex"),r.Ob(AN),r.Ob(mr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(r.Nc(EN,!0),r.Nc(xN,!0),r.Nc(TN,!0)),2&t&&(r.vc(n=r.gc())&&(e._thumbEl=n.first),r.vc(n=r.gc())&&(e._thumbBarEl=n.first),r.vc(n=r.gc())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Xb("id",e.id),r.Cb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),r.Gb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[r.Ab([DN]),r.yb],ngContentSelectors:kN,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.nc(),r.Ub(0,"label",0,1),r.Ub(2,"div",2,3),r.Ub(4,"input",4,5),r.fc("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),r.Tb(),r.Ub(6,"div",6,7),r.Pb(8,"div",8),r.Ub(9,"div",9),r.Pb(10,"div",10),r.Tb(),r.Tb(),r.Tb(),r.Ub(11,"span",11,12),r.fc("cdkObserveContent",(function(){return e._onLabelTextChange()})),r.Ub(13,"span",13),r.Jc(14,"\xa0"),r.Tb(),r.mc(15),r.Tb(),r.Tb()),2&t){const t=r.wc(1),n=r.wc(12);r.Cb("for",e.inputId),r.Bb(2),r.Gb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),r.Bb(2),r.oc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),r.Cb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),r.Bb(5),r.oc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.rc(17,IN))}},directives:[Gx,WE],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),MN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),FN=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[MN,Kx,Ax,QE],MN,Ax]}),t})();function UN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"button",19),r.fc("click",(function(){r.yc(t);const n=e.$implicit;return r.jc().openCategory(n.category_value)})),r.Jc(2),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Bb(2),r.Lc(" ",t.category_title," ")}}function VN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div"),r.Ub(1,"button",19),r.fc("click",(function(){r.yc(t);const n=e.$implicit;return r.jc().selectLang(n.LANGUAGE_VALUE)})),r.Jc(2),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Bb(2),r.Kc(t.LANGUAGE_DISPLAYNAME)}}function BN(t,e){if(1&t&&(r.Ub(0,"button",13),r.kc(1,"translate"),r.Ub(2,"div",25),r.Pb(3,"img",26),r.Tb(),r.Tb()),2&t){const t=r.jc(),e=r.wc(31);r.pc("matTooltip",r.lc(1,3,"APP.HEADER.PROFILE")),r.oc("matMenuTriggerFor",e),r.Bb(3),r.oc("src",t.user.photoURL,r.Ac)}}function qN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",27),r.fc("click",(function(){return r.yc(t),r.jc().openLogin()})),r.Ub(1,"mat-icon"),r.Jc(2,"login"),r.Tb(),r.Tb()}}let HN=(()=>{class t{constructor(t,e,n,r){this.router=t,this.firebaseService=e,this.languagesService=n,this.gamesDataService=r,this.appName=Uc.APPNAME,this.languages=Uc.LANGUAGES,this.categories=Mc,this.isOnline=!1,this.loggedIn=!1}ngOnDestroy(){this.userSubscription.unsubscribe()}ngOnInit(){this.gamesDataService.getGames(),this.userSubscription=this.firebaseService.getCurrentUserDetails().subscribe(t=>{t&&(this.user=t,this.loggedIn=!0)})}openCategory(t){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.navigateByUrl("category/"+t)}goToHome(){this.router.navigateByUrl("home")}goToScoreBoard(){this.router.navigateByUrl("scoreBoard")}goToProfilePage(){this.router.navigateByUrl("profilePage")}openLogin(){this.router.navigateByUrl("login")}logout(){this.firebaseService.logout(),this.loggedIn=!1,this.goToHome()}selectLang(t){this.languagesService.setLang(t)}toggle(){this.isOnline?(document.getElementById("online").style.color="yellow",document.getElementById("offline").style.color="white"):(document.getElementById("online").style.color="white",document.getElementById("offline").style.color="yellow")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(pc),r.Ob(uA),r.Ob(Wj),r.Ob(Qj))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-header"]],decls:51,vars:20,consts:[[1,"mat-elevation-z4"],["color","primary"],[1,"heading"],[1,"custom-gamepad-icon"],[3,"click"],[1,"example-spacer"],[1,"heading-score"],["mat-icon-button","","matTooltip","Score Board",3,"click"],[1,"heading-category"],["mat-icon-button","","matTooltip","Categories",3,"matMenuTriggerFor"],["categoriesMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"heading-language"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip"],["languageMenu","matMenu"],[1,"heading-profile"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip",4,"ngIf"],["profileDropdown","matMenu"],[3,"isLoggedIn","logoutEvent"],["mat-menu-item","",3,"click"],[1,"heading-login"],["mat-icon-button","","matTooltip","Login",3,"click",4,"ngIf"],["id","offline",1,"toggle-label-offline"],[1,"custom-toggle",3,"ngModel","ngModelChange","change"],["id","online",1,"toggle-label-online"],["mat-card-avatar",""],[3,"src"],["mat-icon-button","","matTooltip","Login",3,"click"]],template:function(t,e){if(1&t&&(r.Ub(0,"p",0),r.Ub(1,"mat-toolbar",1),r.Ub(2,"div",2),r.Ub(3,"mat-icon",3),r.Jc(4,"videogame_asset"),r.Tb(),r.Ub(5,"a",4),r.fc("click",(function(){return e.goToHome()})),r.Jc(6),r.kc(7,"translate"),r.Tb(),r.Tb(),r.Pb(8,"span",5),r.Ub(9,"div",6),r.Ub(10,"button",7),r.fc("click",(function(){return e.goToScoreBoard()})),r.Ub(11,"mat-icon"),r.Jc(12,"sports_score"),r.Tb(),r.Tb(),r.Tb(),r.Ub(13,"div",8),r.Ub(14,"button",9),r.Ub(15,"mat-icon"),r.Jc(16,"category"),r.Tb(),r.Tb(),r.Tb(),r.Ub(17,"mat-menu",null,10),r.Hc(19,UN,3,1,"div",11),r.Tb(),r.Ub(20,"div",12),r.Ub(21,"button",13),r.kc(22,"translate"),r.Ub(23,"mat-icon"),r.Jc(24,"language"),r.Tb(),r.Tb(),r.Tb(),r.Ub(25,"mat-menu",null,14),r.Hc(27,VN,3,1,"div",11),r.Tb(),r.Ub(28,"div",15),r.Hc(29,BN,4,5,"button",16),r.Tb(),r.Ub(30,"mat-menu",null,17),r.Ub(32,"app-profile-dropdown-card",18),r.fc("logoutEvent",(function(){return e.logout()})),r.Tb(),r.Ub(33,"button",19),r.fc("click",(function(){return e.goToProfilePage()})),r.Ub(34,"mat-icon"),r.Jc(35,"manage_accounts"),r.Tb(),r.Jc(36," Profile "),r.Tb(),r.Ub(37,"button",19),r.fc("click",(function(){return e.logout()})),r.Ub(38,"mat-icon"),r.Jc(39,"logout"),r.Tb(),r.Jc(40," Logout "),r.Tb(),r.Tb(),r.Ub(41,"div",20),r.Hc(42,qN,3,0,"button",21),r.Tb(),r.Ub(43,"div"),r.Ub(44,"label",22),r.Jc(45),r.kc(46,"translate"),r.Tb(),r.Ub(47,"mat-slide-toggle",23),r.fc("ngModelChange",(function(t){return e.isOnline=t}))("change",(function(){return e.toggle()})),r.Tb(),r.Ub(48,"label",24),r.Jc(49),r.kc(50,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.wc(18),n=r.wc(26);r.Bb(6),r.Lc(" ",r.lc(7,12,"APP.HEADER.TITLE")," "),r.Bb(8),r.oc("matMenuTriggerFor",t),r.Bb(5),r.oc("ngForOf",e.categories),r.Bb(2),r.pc("matTooltip",r.lc(22,14,"APP.HEADER.LANGUAGE")),r.oc("matMenuTriggerFor",n),r.Bb(6),r.oc("ngForOf",e.languages),r.Bb(2),r.oc("ngIf",e.loggedIn),r.Bb(3),r.oc("isLoggedIn",e.loggedIn),r.Bb(10),r.oc("ngIf",!e.loggedIn),r.Bb(3),r.Kc(r.lc(46,16,"APP.HEADER.OFFLINE")),r.Bb(2),r.oc("ngModel",e.isOnline),r.Bb(2),r.Kc(r.lc(50,18,"APP.HEADER.ONLINE"))}},directives:[tN,TI,pT,uj,vN,gN,R,P,SN,uN,LN,Lr,Ni,AT],pipes:[lD],styles:[".custom-gamepad-icon[_ngcontent-%COMP%]{transform:rotate(-45deg);margin:5px}.heading-category[_ngcontent-%COMP%]:active, .heading-category[_ngcontent-%COMP%]:focus, .heading-category[_ngcontent-%COMP%]:hover, .heading-language[_ngcontent-%COMP%]:active, .heading-language[_ngcontent-%COMP%]:focus, .heading-language[_ngcontent-%COMP%]:hover, .heading-login[_ngcontent-%COMP%]:active, .heading-login[_ngcontent-%COMP%]:focus, .heading-login[_ngcontent-%COMP%]:hover, .heading-profile[_ngcontent-%COMP%]:active, .heading-profile[_ngcontent-%COMP%]:focus, .heading-profile[_ngcontent-%COMP%]:hover, .heading-score[_ngcontent-%COMP%]:active, .heading-score[_ngcontent-%COMP%]:focus, .heading-score[_ngcontent-%COMP%]:hover, .heading[_ngcontent-%COMP%]:active, .heading[_ngcontent-%COMP%]:hover, mat-icon[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#ff0}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;cursor:pointer}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}img[_ngcontent-%COMP%]{border-radius:50%;height:25px;width:25px}.toggle-label-online[_ngcontent-%COMP%]{font-size:small;padding-top:7px;padding-left:2px;padding-right:2px}.toggle-label-offline[_ngcontent-%COMP%]{font-size:small;padding-top:7px;padding-left:4px;padding-right:10px;color:#ff0}"]}),t})(),zN=(()=>{class t{constructor(){}ngOnInit(){this.currentYear=(new Date).getFullYear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-footer"]],decls:3,vars:4,consts:[[1,"footer-body","mat-elevation-z4"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Jc(1),r.kc(2,"translate"),r.Tb()),2&t&&(r.Bb(1),r.Mc("\n\xa9 ",e.currentYear," ",r.lc(2,2,"APP.FOOTER.TITLE"),"\n"))},pipes:[lD],styles:[".footer-body[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:30px}"]}),t})(),GN=(()=>{class t{constructor(t){this.langService=t,this.title="gamebox-app-ui",t.setDefaultLang(),window.addEventListener("storage",()=>{console.log("App: Method 1: storage change detected")}),window.onstorage=()=>{console.log("App: Method 2: storage change detected")}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Wj))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Pb(0,"app-header"),r.Pb(1,"router-outlet"),r.Pb(2,"app-footer"))},directives:[HN,mc,zN],styles:["body.mat-typography[_ngcontent-%COMP%]{color:#fff;background-color:grey}app-footer[_ngcontent-%COMP%]{position:bottom}"]}),t})();class KN{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}class WN{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new QN(t,this.predicate))}}class QN extends Ji.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function $N(t){return null==t}function YN(t){return"function"==typeof t.set}function JN(t,e){return YN(e)?e:t.ref(e)}function XN(t,e){if("string"==typeof t)return e.stringCase();if(YN(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function ZN(t,e,n="on",r=Vc.b){return new br.a(i=>{let s=null;return s=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(Object(vr.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(_S.a)())}function tL(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function eL(t,e){const{payload:n,prevKey:r,key:i}=e,s=tL(t,i),o=function(t,e){if($N(e))return 0;{const n=tL(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(s>-1){const i=t[s-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function nL(t){return($N(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function rL(t,e,n){return function(t,e,n){return ZN(t,"value","once",n).pipe(Is(r=>{const i=[Object(Ki.a)(r)];return e.forEach(e=>i.push(ZN(t,e,"on",n))),Object(fO.a)(...i).pipe(Ls(eL,[]))}),zc())}(t,e=nL(e),n)}function iL(t,e,n){const r=(e=nL(e)).map(e=>ZN(t,e,"on",n));return Object(fO.a)(...r)}function sL(t,e){return function(n,r){return XN(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function oL(t,e){return function(){return ZN(t,"value","on",e)}}n("6Uf2");const aL=new r.r("angularfire2.realtimeDatabaseURL"),cL=new r.r("angularfire2.database.use-emulator");let lL=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Qc.d(i),this.keepUnstableUntilFirst=Object(Qc.h)(this.schedulers);const a=s,c=Object(Qc.g)(t,i,e);!$c.a.auth&&o&&Object(Qc.j)(),this.database=Object(Qc.f)(`${c.name}.database.${n}`,"AngularFireDatabase",c,()=>{const t=i.runOutsideAngular(()=>c.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>JN(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:sL(r,"update"),set:sL(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?XN(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>rL(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>iL(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return ZN(t,"value","on",e).pipe(Object(vr.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(lS(e),Object(vr.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new WN(r))),Object(vr.a)(t=>t.actions));var r}(t,iL(t,e).pipe(Ls((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>rL(t,r,n).pipe(Object(vr.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>JN(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>oL(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>oL(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(vr.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Qc.c),r.cc(Qc.b,8),r.cc(aL,8),r.cc(r.C),r.cc(r.A),r.cc(cL,8),r.cc(wO,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Qc.c),Object(r.cc)(Qc.b,8),Object(r.cc)(aL,8),Object(r.cc)(r.C),Object(r.cc)(r.A),Object(r.cc)(cL,8),Object(r.cc)(wO,8))},token:t,providedIn:"any"}),t})(),uL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[lL]}),t})();const hL={apiKey:"AIzaSyCzALdaNf9DVmQqEBI_wqTfFVLWfaQSuoE",authDomain:"gamebox-app-backend-services.firebaseapp.com",projectId:"gamebox-app-backend-services",storageBucket:"gamebox-app-backend-services.appspot.com",messagingSenderId:"595345511278",appId:"1:595345511278:web:c235a6605b20229400a77f"};function dL(t){return new KN(t,"./assets/i18n/",".json")}let fL=(()=>{class t{}return t.\u0275mod=r.Mb({type:t,bootstrap:[GN]}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[aA,uA,zj],imports:[[kt,Kj,yr,zi,Gi,dI,EE,uD.forRoot({loader:{provide:HR,useFactory:dL,deps:[JT]}}),Qc.a.initializeApp(hL),uL,II,eN,mT,PT,Kx,FN,CN,dj,iA,DR,qR,wP,Ej,MP,ZA]]}),t})();Object(r.U)(),Tt().bootstrapModule(fL).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);