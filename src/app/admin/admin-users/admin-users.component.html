<div class="users-table mat-elevation-z8">
    <table class="users-table" mat-table [dataSource]="dataSource">

        <!-- Rank Column -->
        <ng-container matColumnDef="masterRank">
            <th class="users-rank" mat-header-cell *matHeaderCellDef> Rank </th>
            <td mat-cell *matCellDef="let element">
                {{element.masterRank}}
            </td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
            <th class="users-email" mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let element">
                {{element.email}}
            </td>
        </ng-container>

        <!-- Display Name Column -->
        <ng-container matColumnDef="displayName">
            <th class="users-display-name" mat-header-cell *matHeaderCellDef> Display Name </th>
            <td mat-cell *matCellDef="let element">
                <span class="edit-input" *ngIf="!isInEditMode(element)">
                    {{element.displayName}}
                </span>
                <mat-form-field class="edit-input" *ngIf="isInEditMode(element)">
                    <input matInput type="text" value="{{element.displayName}}">
                </mat-form-field>
            </td>
        </ng-container>

        <!-- Username Column -->
        <ng-container matColumnDef="username">
            <th class="users-username" mat-header-cell *matHeaderCellDef> Username </th>
            <td mat-cell *matCellDef="let element">
                <span class="edit-input" *ngIf="!isInEditMode(element)">
                    {{element.username}}
                </span>
                <mat-form-field class="edit-input" *ngIf="isInEditMode(element)">
                    <input matInput type="text" value="{{element.username}}">
                </mat-form-field>
            </td>
        </ng-container>

        <!-- Role Column -->
        <ng-container matColumnDef="role">
            <th class="users-role" mat-header-cell *matHeaderCellDef> Role </th>
            <td mat-cell *matCellDef="let element">
                <span class="edit-input" *ngIf="!isInEditMode(element)">
                    {{element.role}}
                </span>
                <mat-form-field class="edit-input" *ngIf="isInEditMode(element)">
                    <input matInput type="text" [(ngModel)]="userForEdit.role">
                </mat-form-field>
            </td>
        </ng-container>

        <!-- Photo Column -->
        <ng-container matColumnDef="photoURL">
            <th mat-header-cell *matHeaderCellDef> Photo </th>
            <td mat-cell *matCellDef="let element">
                <!-- {{element.photoURL}} -->
                <img mat-card-avatar [src]="element.photoURL">
            </td>
        </ng-container>

        <!-- Photo Column -->
        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef> Edit </th>
            <td mat-cell *matCellDef="let element">
                <button *ngIf="!isInEditMode(element)" mat-icon-button (click)="editUserRecord(element)">
                    <mat-icon>edit</mat-icon>
                </button>
                <button *ngIf="isInEditMode(element)" mat-icon-button (click)="saveUserRecord(element)">
                    <mat-icon>save</mat-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[2, 5, 10, 20]" showFirstLastButtons aria-label="User details">
    </mat-paginator>
</div>